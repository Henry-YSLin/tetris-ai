(self.webpackChunktetris_ai=self.webpackChunktetris_ai||[]).push([[826],{525:(t,e,n)=>{"use strict";var r=n(294),o=n(935),i=n(727),a=n(977);const l=function(t){return r.createElement("p",null,"Not found")};const u=function(){return r.createElement("div",{className:"flex flex-col justify-center items-center select-none min-h-screen bg-gradient-to-br from-gray-900  to-blue-700"},r.createElement("h1",{className:"text-6xl text-green-500 border-b-4 pb-4"},"Hello World !"),r.createElement("h2",{className:"text-2xl text-gray-300 mt-10"},"Click"," ",r.createElement(i.rU,{to:"/test",className:"text-green-400 underline"},"here")," ","to play pre-alpha Tetris"))};const c=function(t){return r.createElement(u,null)};var f;!function(t){t[t.None=0]="None",t[t.SoftDrop=1]="SoftDrop",t[t.HardDrop=2]="HardDrop",t[t.Hold=3]="Hold",t[t.ShiftLeft=4]="ShiftLeft",t[t.ShiftRight=5]="ShiftRight",t[t.RotateCW=6]="RotateCW",t[t.RotateCCW=7]="RotateCCW"}(f||(f={}));const s=f;function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p,y,w,v,d,b,g,m,k,P,R,O,S,T,C,j,E=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.X=e,this.Y=n}var e,n,r;return e=t,(n=[{key:"Add",value:function(e){return new t(this.X+e.X,this.Y+e.Y)}},{key:"Subtract",value:function(e){return new t(this.X-e.X,this.Y-e.Y)}},{key:"Clone",value:function(){return new t(this.X,this.Y)}}])&&h(e.prototype,n),r&&h(e,r),t}();function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.None=0]="None",t[t.I=1]="I",t[t.J=2]="J",t[t.L=3]="L",t[t.O=4]="O",t[t.S=5]="S",t[t.T=6]="T",t[t.Z=7]="Z"}(T||(T={})),function(t){t[t.R0=0]="R0",t[t.R90=1]="R90",t[t.R180=2]="R180",t[t.R270=3]="R270"}(C||(C={})),function(t){t[t.CW=1]="CW",t[t.CCW=-1]="CCW"}(j||(j={}));var A=Object.freeze([(p={},_(p,-1,[new E(0,0),new E(1,0),new E(1,1),new E(0,-2),new E(1,-2)]),_(p,1,[new E(0,0),new E(-1,0),new E(-1,1),new E(0,-2),new E(-1,-2)]),p),(y={},_(y,-1,[new E(0,0),new E(1,0),new E(1,-1),new E(0,2),new E(1,2)]),_(y,1,[new E(0,0),new E(1,0),new E(1,-1),new E(0,2),new E(1,2)]),y),(w={},_(w,-1,[new E(0,0),new E(-1,0),new E(-1,1),new E(0,-2),new E(-1,-2)]),_(w,1,[new E(0,0),new E(1,0),new E(1,1),new E(0,-2),new E(1,-2)]),w),(v={},_(v,-1,[new E(0,0),new E(-1,0),new E(-1,-1),new E(0,2),new E(-1,2)]),_(v,1,[new E(0,0),new E(-1,0),new E(-1,-1),new E(0,2),new E(-1,2)]),v)]),H=Object.freeze([(d={},_(d,-1,[new E(0,0),new E(-1,0),new E(2,0),new E(-1,2),new E(2,-1)]),_(d,1,[new E(0,0),new E(-2,0),new E(1,0),new E(-2,-1),new E(1,2)]),d),(b={},_(b,-1,[new E(0,0),new E(2,0),new E(-1,0),new E(2,1),new E(-1,-2)]),_(b,1,[new E(0,0),new E(-1,0),new E(2,0),new E(-1,2),new E(2,-1)]),b),(g={},_(g,-1,[new E(0,0),new E(1,0),new E(-2,0),new E(1,-2),new E(-2,1)]),_(g,1,[new E(0,0),new E(2,0),new E(-1,0),new E(2,1),new E(-1,-2)]),g),(m={},_(m,-1,[new E(0,0),new E(-2,0),new E(1,0),new E(-2,-1),new E(1,2)]),_(m,1,[new E(0,0),new E(1,0),new E(-2,0),new E(1,-2),new E(-2,1)]),m)]),W=Object.freeze([(k={},_(k,-1,[new E(0,0)]),_(k,1,[new E(0,0)]),k),(P={},_(P,-1,[new E(0,0)]),_(P,1,[new E(0,0)]),P),(R={},_(R,-1,[new E(0,0)]),_(R,1,[new E(0,0)]),R),(O={},_(O,-1,[new E(0,0)]),_(O,1,[new E(0,0)]),O)]),F=Object.freeze((_(S={},T.None,{Rotations:[[]],WallKick:W}),_(S,T.I,{Rotations:[[new E(0,2),new E(1,2),new E(2,2),new E(3,2)],[new E(2,0),new E(2,1),new E(2,2),new E(2,3)],[new E(0,1),new E(1,1),new E(2,1),new E(3,1)],[new E(1,0),new E(1,1),new E(1,2),new E(1,3)]],WallKick:H}),_(S,T.J,{Rotations:[[new E(0,2),new E(0,1),new E(1,1),new E(2,1)],[new E(2,2),new E(1,2),new E(1,1),new E(1,0)],[new E(0,1),new E(1,1),new E(2,1),new E(2,0)],[new E(0,0),new E(1,0),new E(1,1),new E(1,2)]],WallKick:A}),_(S,T.L,{Rotations:[[new E(0,1),new E(1,1),new E(2,1),new E(2,2)],[new E(1,2),new E(1,1),new E(1,0),new E(2,0)],[new E(0,0),new E(0,1),new E(1,1),new E(2,1)],[new E(0,2),new E(1,2),new E(1,1),new E(1,0)]],WallKick:A}),_(S,T.O,{Rotations:[[new E(0,0),new E(0,1),new E(1,0),new E(1,1)]],WallKick:W}),_(S,T.S,{Rotations:[[new E(0,1),new E(1,1),new E(1,2),new E(2,2)],[new E(1,2),new E(1,1),new E(2,1),new E(2,0)],[new E(0,0),new E(1,0),new E(1,1),new E(2,1)],[new E(0,2),new E(0,1),new E(1,1),new E(1,0)]],WallKick:A}),_(S,T.T,{Rotations:[[new E(0,1),new E(1,1),new E(1,2),new E(2,1)],[new E(1,2),new E(1,1),new E(2,1),new E(1,0)],[new E(0,1),new E(1,0),new E(1,1),new E(2,1)],[new E(1,2),new E(0,1),new E(1,1),new E(1,0)]],WallKick:A}),_(S,T.Z,{Rotations:[[new E(0,2),new E(1,1),new E(1,2),new E(2,1)],[new E(2,2),new E(1,1),new E(2,1),new E(1,0)],[new E(0,1),new E(1,0),new E(1,1),new E(2,0)],[new E(1,2),new E(0,1),new E(1,1),new E(0,0)]],WallKick:A}),S));const D=F;Array.prototype.max||Object.defineProperty(Array.prototype,"max",{enumerable:!1,writable:!1,configurable:!1,value:function(){for(var t=this.length,e=this[0];t--;)this[t]>e&&(e=this[t]);return e}}),Array.prototype.maxBy||Object.defineProperty(Array.prototype,"maxBy",{enumerable:!1,writable:!1,configurable:!1,value:function(t){for(var e=this.length,n=t(this[0]),r=this[0];e--;){var o=t(this[e]);o>n&&(n=o,r=this[e])}return r}}),Array.prototype.min||Object.defineProperty(Array.prototype,"min",{enumerable:!1,writable:!1,configurable:!1,value:function(){for(var t=this.length,e=this[0];t--;)this[t]<e&&(e=this[t]);return e}}),Array.prototype.minBy||Object.defineProperty(Array.prototype,"minBy",{enumerable:!1,writable:!1,configurable:!1,value:function(t){for(var e=this.length,n=t(this[0]),r=this[0];e--;){var o=t(this[e]);o<n&&(n=o,r=this[e])}return r}});const I=function(t){return function(){var e=t+=1831565813;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296}};function x(t){return function(t){if(Array.isArray(t))return N(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,X(t,e,"get"))}function Y(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,X(t,e,"set"),n),n}function X(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var M=new WeakMap,z=new WeakMap,K=new WeakMap,Q=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(B(this,t),M.set(this,{writable:!0,value:void 0}),z.set(this,{writable:!0,value:void 0}),K.set(this,{writable:!0,value:void 0}),n instanceof Array)return Y(this,z,null),Y(this,K,new Array(r+n.length).fill(T.None)),(e=G(this,K)).splice.apply(e,[r,n.length].concat(x(n))),void Y(this,M,null);Y(this,z,void 0===n?Math.floor(Math.random()*Math.pow(2,32)):n),Y(this,M,I(G(this,z))),Y(this,K,[])}var e,n,r;return e=t,(n=[{key:"Seed",get:function(){return G(this,z)}},{key:"generate",value:function(){if(null!==G(this,z)&&null!==G(this,M))for(var t=[T.I,T.J,T.L,T.O,T.S,T.T,T.Z];t.length>0;){var e=G(this,M).call(this)%t.length;G(this,K).push(t.splice(e,1)[0])}else G(this,K).push(T.None)}},{key:"Get",value:function(t){for(;G(this,K).length<=t;)this.generate();return G(this,K)[t]}},{key:"GetRange",value:function(t,e){for(;G(this,K).length<=t+e;)this.generate();return G(this,K).slice(t,t+e)}}])&&L(e.prototype,n),r&&L(e,r),t}();function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var q=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.R0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:NaN,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:s.None;V(this,t),this.Type=e,this.Rotation=n,r?this.Position=r:(this.Position=new E(4,21),this.Bottom=21,this.Left=Math.floor(5-this.Width/2)),this.LastActionTick=o,this.ActionCount=i,this.DropTick=a,this.LastAction=l}var e,n,r;return e=t,r=[{key:"Spawn",value:function(e,n){return new t(e,void 0,void 0,n,0,n)}}],(n=[{key:"Clone",value:function(){return new t(this.Type,this.Rotation,this.Position.Clone(),this.LastActionTick,this.ActionCount,this.DropTick,this.LastAction)}},{key:"InternalPoints",get:function(){return F[this.Type].Rotations[this.Rotation]}},{key:"Points",get:function(){var t=this;return F[this.Type].Rotations[this.Rotation].map((function(e){return e.Add(t.Position)}))}},{key:"InternalLeft",get:function(){return this.InternalPoints.map((function(t){return t.X})).min()}},{key:"InternalRight",get:function(){return this.InternalPoints.map((function(t){return t.X})).max()}},{key:"InternalTop",get:function(){return this.InternalPoints.map((function(t){return t.Y})).max()}},{key:"InternalBottom",get:function(){return this.InternalPoints.map((function(t){return t.Y})).min()}},{key:"Left",get:function(){return this.Position.X+this.InternalLeft},set:function(t){this.Position.X=t-this.InternalLeft}},{key:"Right",get:function(){return this.Position.X+this.InternalRight},set:function(t){this.Position.X=t-this.InternalRight}},{key:"Top",get:function(){return this.Position.Y+this.InternalTop},set:function(t){this.Position.Y=t-this.InternalTop}},{key:"Bottom",get:function(){return this.Position.Y+this.InternalBottom},set:function(t){this.Position.Y=t-this.InternalBottom}},{key:"Width",get:function(){return this.InternalRight-this.InternalLeft}},{key:"Height",get:function(){return this.InternalTop-this.InternalBottom}},{key:"Rotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.CW;this.Rotation+=t,this.Rotation>3&&(this.Rotation=0),this.Rotation<0&&(this.Rotation=3)}}])&&U(e.prototype,n),r&&U(e,r),t}();function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,tt(t,e,"get"))}function $(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,tt(t,e,"set"),n),n}function tt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var nt=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:T.None,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:s.None;et(this,t),this.Grid=new Array(40).fill(null).map((function(){return new Array(10).fill(T.None)})),o&&o.forEach((function(t,n){return t.forEach((function(t,r){return e.Grid[n][r]=t}))})),this.Falling=i?i.Clone():null,this.Hold=a,this.BlockHold=u,this.TicksElapsed=l,this.PieceQueue=n,this.PieceIndex=r,this.LastAction=c},rt=new WeakMap;const ot=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T.None,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(et(this,t),rt.set(this,{writable:!0,value:void 0}),e instanceof nt){var l=e;this.Grid=l.Grid,this.Falling=l.Falling,this.Hold=l.Hold,this.BlockHold=l.BlockHold,this.TicksElapsed=l.TicksElapsed,$(this,rt,new Q(l.PieceQueue,l.PieceIndex)),this.PieceIndex=l.PieceIndex}else this.Grid=new Array(40).fill(null).map((function(){return new Array(10).fill(T.None)})),this.Falling=r,this.Hold=o,this.BlockHold=a,this.TicksElapsed=i,$(this,rt,new Q(e)),this.PieceIndex=n}var e,n,r;return e=t,(n=[{key:"GetVisibleState",value:function(){return new nt(this.PieceQueue,this.PieceIndex,this.Grid,this.Falling,this.Hold,this.TicksElapsed,this.BlockHold)}},{key:"GridWidth",get:function(){return 10}},{key:"GridHeight",get:function(){return 40}},{key:"PlayfieldHeight",get:function(){return 20}},{key:"PieceQueue",get:function(){return Z(this,rt).GetRange(this.PieceIndex,6)}},{key:"Get",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t instanceof E)e=t.X,n=t.Y;else{if(void 0===r)return null;e=t,n=r}return e<0||n<0||e>=10||n>=40?null:this.Grid[n][e]}},{key:"IsPieceValid",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e?!e.Points.some((function(e){var n;return(null!==(n=t.Get(e))&&void 0!==n?n:T.I)!==T.None})):!this.Falling||!this.Falling.Points.some((function(e){var n;return(null!==(n=t.Get(e))&&void 0!==n?n:T.I)!==T.None}))}},{key:"DequeuePiece",value:function(){return null===this.Falling&&(this.Falling=q.Spawn(Z(this,rt).Get(this.PieceIndex++),this.TicksElapsed),this.BlockHold=!1,!0)}},{key:"HoldPiece",value:function(){if(null===this.Falling)return!1;if(this.BlockHold)return!1;var t=this.Hold;return this.Hold=this.Falling.Type,t===T.None&&(t=Z(this,rt).Get(this.PieceIndex++)),this.Falling=q.Spawn(t,this.TicksElapsed),this.BlockHold=!0,this.Falling.LastAction=s.Hold,!0}},{key:"ClearLines",value:function(){for(var t=0;t<this.GridHeight;t++)this.Grid[t].some((function(t){return t===T.None}))||(this.Grid.splice(t,1),this.Grid.push(new Array(this.GridWidth).fill(T.None)),t--)}},{key:"LockPiece",value:function(){var t=this;return null!==this.Falling&&!!this.IsPieceValid()&&(this.Falling.Points.forEach((function(e){var n,r;return t.Grid[e.Y][e.X]=null!==(n=null===(r=t.Falling)||void 0===r?void 0:r.Type)&&void 0!==n?n:T.None})),this.ClearLines(this.Falling),this.Falling=null,!0)}},{key:"RotatePiece",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.CW;if(null===this.Falling)return!1;var n=F[this.Falling.Type].WallKick[this.Falling.Rotation][e].find((function(n){var r,o=null===(r=t.Falling)||void 0===r?void 0:r.Clone();return!!o&&(o.Rotate(e),o.Position=o.Position.Add(n),t.IsPieceValid(o))}));return!!n&&(this.Falling.Rotate(e),this.Falling.Position=this.Falling.Position.Add(n),this.Falling.LastActionTick=this.TicksElapsed,this.Falling.ActionCount++,this.Falling.LastAction=e===j.CW?s.RotateCW:s.RotateCCW,!0)}},{key:"ShiftPiece",value:function(t){if(null===this.Falling)return!1;var e=this.Falling.Clone();return e.Position.X+=t,!!this.IsPieceValid(e)&&(this.Falling=e,this.Falling.LastActionTick=this.TicksElapsed,this.Falling.ActionCount++,this.Falling.LastAction=t>0?s.ShiftRight:s.ShiftLeft,!0)}},{key:"CanPieceDrop",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e)t=e.Clone();else{if(!this.Falling)return!1;t=this.Falling.Clone()}return t.Position.Y--,this.IsPieceValid(t)}},{key:"SoftDropPiece",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return null!==this.Falling&&!!this.CanPieceDrop()&&(this.Falling.Position.Y--,this.Falling.LastActionTick=this.TicksElapsed,this.Falling.ActionCount=0,t?this.Falling.DropTick=this.TicksElapsed:this.Falling.LastAction=s.SoftDrop,!0)}},{key:"HardDropPiece",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e)t=e;else{if(!this.Falling)return!1;t=this.Falling}for(;this.IsPieceValid(t);)t.Position.Y--;return t.Position.Y++,t.LastAction=s.HardDrop,t!==this.Falling||this.LockPiece()}},{key:"Tick",value:function(){null===this.Falling?this.DequeuePiece():(this.TicksElapsed-this.Falling.DropTick>=5&&this.SoftDropPiece(!0),this.TicksElapsed-this.Falling.LastActionTick>=60&&!this.CanPieceDrop()&&this.LockPiece()),this.TicksElapsed++}}])&&J(e.prototype,n),r&&J(e,r),t}();function it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lt(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,ct(t,e,"get"))}function ut(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,ct(t,e,"set"),n),n}function ct(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var ft=new WeakMap,st=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;it(this,t),ft.set(this,{writable:!0,value:void 0}),ut(this,ft,null),this.Player=e,this.State=n instanceof ot?n:new ot(n)}var e,n,r;return e=t,(n=[{key:"ClockRunning",get:function(){return null!==lt(this,ft)}},{key:"StartClock",value:function(){ut(this,ft,window.setInterval(this.Tick.bind(this),1e3/60))}},{key:"StopClock",value:function(){null!==lt(this,ft)&&window.clearInterval(lt(this,ft))}},{key:"Tick",value:function(){switch(this.State.Tick(),this.Player.Tick(this.State.GetVisibleState())){case s.None:return;case s.HardDrop:this.State.HardDropPiece();break;case s.Hold:this.State.HoldPiece();break;case s.RotateCW:this.State.RotatePiece(j.CW);break;case s.RotateCCW:this.State.RotatePiece(j.CCW);break;case s.ShiftLeft:this.State.ShiftPiece(-1);break;case s.ShiftRight:this.State.ShiftPiece(1);break;case s.SoftDrop:this.State.SoftDropPiece(!1)}}}])&&at(e.prototype,n),r&&at(e,r),t}(),ht=n(210),pt=n.n(ht);function yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e,n){return(bt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rt(t);if(e){var o=Rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(t,e){return!e||"object"!==wt(e)&&"function"!=typeof e?Pt(t):e}function Pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ot(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Tt(t,e,"get"))}function St(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Tt(t,e,"set"),n),n}function Tt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(t,e){return(Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ht(t);if(e){var o=Ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}function At(t,e){return!e||"object"!==Ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ht(t){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt,Ft,Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Et(t,e)}(n,t);var e=_t(n);function n(){return jt(this,n),e.apply(this,arguments)}return n}((Wt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"Tick",value:function(t){return s.None}}])&&yt(e.prototype,n),r&&yt(e,r),t}(),Ft=new WeakMap,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(i,t);var e,n,r,o=mt(i);function i(){var t;vt(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=o.call.apply(o,[this].concat(n)),Ft.set(Pt(t),{writable:!0,value:void 0}),St(Pt(t),Ft,[]),t}return e=i,(n=[{key:"Tick",value:function(t){var e;return"Update"in Wt?bt(Rt(i.prototype),"Tick",this).call(this,t):null!==(e=Ot(this,Ft).shift())&&void 0!==e?e:s.None}},{key:"Update",value:function(t,e){var n;return null!==(n=Ot(this,Ft).shift())&&void 0!==n?n:s.None}},{key:"Enqueue",value:function(t){Ot(this,Ft).push(t)}}])&&dt(e.prototype,n),r&&dt(e,r),i}(Wt)));function It(t,e){switch(e){case T.None:return t.color(50);case T.I:return t.color(77,208,225);case T.J:return t.color(33,150,243);case T.L:return t.color(255,152,0);case T.O:return t.color(253,216,53);case T.S:return t.color(76,175,80);case T.T:return t.color(224,64,251);case T.Z:return t.color(229,115,115)}}function xt(t,e,n,r,o,i){var a=It(t,null!=e?e:T.None);a.setAlpha(i),t.fill(a),r.forEach((function(e){t.rect(n.X+e.X*o,n.Y+e.Y*o,o,o)}))}function Nt(t,e,n,r,o,i){t.push(),t.scale(1,-1),t.text(e,n,-r,o,-i),t.pop()}function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yt(t,e,n){return(Yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Xt(t,e){return(Xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qt(t);if(e){var o=Qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zt(this,n)}}function zt(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?Kt(t):e}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vt(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,qt(t,e,"get"))}function Ut(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,qt(t,e,"set"),n),n}function qt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function te(t,e,n){return(te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ie(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ee(t,e){return(ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ie(t);if(e){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(t,e){return!e||"object"!==Jt(e)&&"function"!=typeof e?oe(t):e}function oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ie(t){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ae(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,ue(t,e,"get"))}function le(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,ue(t,e,"set"),n),n}function ue(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function he(t,e,n){return(he="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=de(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function pe(t,e){return(pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=de(t);if(e){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return we(this,n)}}function we(t,e){return!e||"object"!==ce(e)&&"function"!=typeof e?ve(t):e}function ve(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function be(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,me(t,e,"get"))}function ge(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,me(t,e,"set"),n),n}function me(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oe(t,e,n){return(Oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ee(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Se(t,e){return(Se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ee(t);if(e){var o=Ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}function Ce(t,e){return!e||"object"!==ke(e)&&"function"!=typeof e?je(t):e}function je(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _e(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,He(t,e,"get"))}function Ae(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,He(t,e,"set"),n),n}function He(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function We(t){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ie(t,e,n){return(Ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Le(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function xe(t,e){return(xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Le(t);if(e){var o=Le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(t,e){return!e||"object"!==We(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Le(t){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ge(t){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Me(t,e){return(Me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ze(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qe(t);if(e){var o=Qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ke(this,n)}}function Ke(t,e){return!e||"object"!==Ge(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ue(t){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){return(qe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Je(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$e(t);if(e){var o=$e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ze(this,n)}}function Ze(t,e){return!e||"object"!==Ue(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $e(t){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qe(t,e)}(n,t);var e=Je(n);function n(t,r,o,i){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(a=o&&i?e.call(this,r,o,i):e.call(this,r)).ConfigureInputHandleable(t),a.ConfigureBlockSize(15),a.ConfigurePlayfieldDrawable(new E(120,0),new E(1,1)),a.ConfigureHoldPieceDrawable(new E(10,200),new E(1,1)),a.ConfigurePieceQueueDrawable(new E(400,0),new E(.7,.7)),a.ConfigureFramerateDrawable(new E(0,a.height-10),new E(1,1)),Ze(a)}return n}(function(t){var e,n;return e=new WeakMap,n=new WeakMap,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Se(t,e)}(l,t);var r,o,i,a=Te(l);function l(){var t;Pe(this,l);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a.call.apply(a,[this].concat(o)),e.set(je(t),{writable:!0,value:void 0}),n.set(je(t),{writable:!0,value:void 0}),Ae(je(t),e,new E(0,0)),Ae(je(t),n,new E(1,1)),t}return r=l,(o=[{key:"ConfigureFramerateDrawable",value:function(t,r){Ae(this,e,t),Ae(this,n,r)}},{key:"p5Draw",value:function(t){Oe(Ee(l.prototype),"p5Draw",this).call(this,t),this.SetTransform(t,_e(this,n).X,_e(this,n).Y,_e(this,e).X,_e(this,e).Y),t.noStroke(),t.fill(0),Nt(t,"FPS: ".concat(t.frameRate().toFixed(2)),0,0)}}])&&Re(r.prototype,o),i&&Re(r,i),l}(t)}(function(t){var e,n;return e=new WeakMap,n=new WeakMap,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pe(t,e)}(l,t);var r,o,i,a=ye(l);function l(){var t;fe(this,l);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a.call.apply(a,[this].concat(o)),e.set(ve(t),{writable:!0,value:void 0}),n.set(ve(t),{writable:!0,value:void 0}),ge(ve(t),e,new E(0,0)),ge(ve(t),n,new E(1,1)),t}return r=l,(o=[{key:"ConfigurePieceQueueDrawable",value:function(t,r){ge(this,e,t),ge(this,n,r)}},{key:"p5Draw",value:function(t){he(de(l.prototype),"p5Draw",this).call(this,t),this.SetTransform(t,be(this,n).X,be(this,n).Y,be(this,e).X,be(this,e).Y);for(var r=this.State,o=this.BlockSize,i=r.PieceQueue.length,a=0;a<i;a++){var u=D[r.PieceQueue[a]].Rotations[0].slice();xt(t,r.PieceQueue[a],new E(0,this.height-(a+1)*o*4),u,o,255)}}}])&&se(r.prototype,o),i&&se(r,i),l}(t)}(function(t){var e,n;return e=new WeakMap,n=new WeakMap,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ee(t,e)}(l,t);var r,o,i,a=ne(l);function l(){var t;Zt(this,l);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a.call.apply(a,[this].concat(o)),e.set(oe(t),{writable:!0,value:void 0}),n.set(oe(t),{writable:!0,value:void 0}),le(oe(t),e,new E(0,0)),le(oe(t),n,new E(1,1)),t}return r=l,(o=[{key:"ConfigureHoldPieceDrawable",value:function(t,r){le(this,e,t),le(this,n,r)}},{key:"p5Draw",value:function(t){te(ie(l.prototype),"p5Draw",this).call(this,t),this.SetTransform(t,ae(this,n).X,ae(this,n).Y,ae(this,e).X,ae(this,e).Y);var r=this.State,o=this.BlockSize;if(t.fill(50),t.rect(0,0,5*o,6*o),t.noStroke(),t.fill(255),t.textAlign(t.CENTER),Nt(t,"HOLD",2.5*o,5*o),t.textAlign(t.LEFT),t.stroke(0),r.Hold){var i=D[r.Hold].Rotations[0].slice();xt(t,r.Hold,new E(o/2,o/2),i,o,255)}}}])&&$t(r.prototype,o),i&&$t(r,i),l}(t)}(function(t){var e,n;return e=new WeakMap,n=new WeakMap,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xt(t,e)}(l,t);var r,o,i,a=Mt(l);function l(){var t;Lt(this,l);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a.call.apply(a,[this].concat(o)),e.set(Kt(t),{writable:!0,value:void 0}),n.set(Kt(t),{writable:!0,value:void 0}),Ut(Kt(t),e,new E(0,0)),Ut(Kt(t),n,new E(1,1)),t}return r=l,(o=[{key:"ConfigurePlayfieldDrawable",value:function(t,r){Ut(this,e,t),Ut(this,n,r)}},{key:"p5Draw",value:function(t){Yt(Qt(l.prototype),"p5Draw",this).call(this,t),this.SetTransform(t,Vt(this,n).X,Vt(this,n).Y,Vt(this,e).X,Vt(this,e).Y);var r=this.State,o=this.BlockSize;if(r){t.stroke(0);for(var i=0;i<=r.GridHeight;i++)t.line(0,i*o,r.GridWidth*o,i*o);for(var a=0;a<=r.GridWidth;a++)t.line(a*o,0,a*o,r.GridHeight*o);for(var u=0;u<r.GridHeight;u++)for(var c=0;c<r.GridWidth;c++){var f;t.fill(It(t,null!==(f=r.Get(c,u))&&void 0!==f?f:T.None)),t.rect(c*o,u*o,o,o)}if(r.Falling){var s,h,p=r.Falling.Points;xt(t,null===(s=r.Falling)||void 0===s?void 0:s.Type,new E(0,0),p,o,255);var y=r.Falling.Clone();r.HardDropPiece(y);var w=y.Points;xt(t,null===(h=r.Falling)||void 0===h?void 0:h.Type,new E(0,0),w,o,100)}}}}])&&Gt(r.prototype,o),i&&Gt(r,i),l}(t)}(function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Me(t,e)}(i,t);var e,n,r,o=ze(i);function i(){var t;Ye(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).blockSize=15,t}return e=i,(n=[{key:"BlockSize",get:function(){return this.blockSize}},{key:"ConfigureBlockSize",value:function(t){this.blockSize=t}}])&&Xe(e.prototype,n),r&&Xe(e,r),i}(t)}(function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xe(t,e)}(i,t);var e,n,r,o=Ne(i);function i(){var t;Fe(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).Player=null,t.keyHold=s.None,t.keyDelay=0,t}return e=i,(n=[{key:"ConfigureInputHandleable",value:function(t){this.Player=t}},{key:"p5Draw",value:function(t){Ie(Le(i.prototype),"p5Draw",this).call(this,t),this.keyHold!==s.None&&this.Player instanceof Dt&&(this.keyDelay<=0&&(this.Player.Enqueue(this.keyHold),this.keyDelay=10),this.keyDelay--)}},{key:"p5KeyPressed",value:function(t){this.Player instanceof Dt&&(t.keyCode===t.LEFT_ARROW&&(this.keyHold=s.ShiftLeft),t.keyCode===t.RIGHT_ARROW&&(this.keyHold=s.ShiftRight),t.keyCode===t.UP_ARROW&&(this.keyHold=s.RotateCW),t.keyCode===t.CONTROL&&(this.keyHold=s.RotateCCW),t.keyCode===t.DOWN_ARROW&&(this.keyHold=s.SoftDrop),t.keyCode===t.SHIFT&&(this.keyHold=s.Hold)," "===t.key&&(this.keyHold=s.HardDrop),this.Player.Enqueue(this.keyHold),this.keyDelay=10)}},{key:"p5KeyReleased",value:function(t){if(this.Player instanceof Dt){var e=s.None;t.keyCode===t.LEFT_ARROW&&(e=s.ShiftLeft),t.keyCode===t.RIGHT_ARROW&&(e=s.ShiftRight),t.keyCode===t.UP_ARROW&&(e=s.RotateCW),t.keyCode===t.CONTROL&&(e=s.RotateCCW),t.keyCode===t.DOWN_ARROW&&(e=s.SoftDrop),t.keyCode===t.SHIFT&&(e=s.Hold)," "===t.key&&(e=s.HardDrop),this.keyHold===e&&(this.keyHold=s.None)}}}])&&De(e.prototype,n),r&&De(e,r),i}(t)}(function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.State=e,n&&r?(this.width=n,this.height=r):(this.width=500,this.height=301.5)}var e,n,r;return e=t,(n=[{key:"SetTransform",value:function(t,e,n,r,o){t.resetMatrix(),t.scale(e,-n),t.translate(r,-this.height+o)}},{key:"ResetTransform",value:function(t){this.SetTransform(t,1,1,0,0)}},{key:"p5Setup",value:function(t,e){t.createCanvas(this.width,this.height).parent(e),this.ResetTransform(t)}},{key:"p5Draw",value:function(t){t.background(100)}}])&&Ve(e.prototype,n),r&&Ve(e,r),t}()))))))),en=new Dt,nn=new st(en),rn=new tn(en,nn.State);console.log(rn);nn.StartClock();const on=function(t){return r.createElement(pt(),{setup:rn.p5Setup.bind(rn),draw:rn.p5Draw.bind(rn),keyPressed:rn.p5KeyPressed.bind(rn),keyReleased:rn.p5KeyReleased.bind(rn)})};const an=function(){return r.createElement(i.UT,null,r.createElement(a.rs,null,r.createElement(a.AW,{exact:!0,path:"/",component:c}),r.createElement(a.AW,{exact:!0,path:"/test",component:on}),r.createElement(a.AW,{component:l})))};o.render(r.createElement(an,null),document.getElementById("app"))}},t=>{"use strict";var e;e=525,t(t.s=e)}]);