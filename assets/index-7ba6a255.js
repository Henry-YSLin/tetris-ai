var zg=Object.defineProperty;var Vg=(r,n,s)=>n in r?zg(r,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[n]=s;var ze=(r,n,s)=>(Vg(r,typeof n!="symbol"?n+"":n,s),s),Df=(r,n,s)=>{if(!n.has(r))throw TypeError("Cannot "+s)};var ft=(r,n,s)=>(Df(r,n,"read from private field"),s?s.call(r):n.get(r)),Bt=(r,n,s)=>{if(n.has(r))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(r):n.set(r,s)},Et=(r,n,s,f)=>(Df(r,n,"write to private field"),f?f.call(r,s):n.set(r,s),s);var If=(r,n,s,f)=>({set _(x){Et(r,n,x,s)},get _(){return ft(r,n,f)}});function wp(r,n){for(var s=0;s<n.length;s++){const f=n[s];if(typeof f!="string"&&!Array.isArray(f)){for(const x in f)if(x!=="default"&&!(x in r)){const k=Object.getOwnPropertyDescriptor(f,x);k&&Object.defineProperty(r,x,k.get?k:{enumerable:!0,get:()=>f[x]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))f(x);new MutationObserver(x=>{for(const k of x)if(k.type==="childList")for(const F of k.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&f(F)}).observe(document,{childList:!0,subtree:!0});function s(x){const k={};return x.integrity&&(k.integrity=x.integrity),x.referrerPolicy&&(k.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?k.credentials="include":x.crossOrigin==="anonymous"?k.credentials="omit":k.credentials="same-origin",k}function f(x){if(x.ep)return;x.ep=!0;const k=s(x);fetch(x.href,k)}})();var cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xp={exports:{}},Fl={},jp={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=Symbol.for("react.element"),Hg=Symbol.for("react.portal"),Wg=Symbol.for("react.fragment"),qg=Symbol.for("react.strict_mode"),Yg=Symbol.for("react.profiler"),Xg=Symbol.for("react.provider"),$g=Symbol.for("react.context"),Zg=Symbol.for("react.forward_ref"),Qg=Symbol.for("react.suspense"),Kg=Symbol.for("react.memo"),Jg=Symbol.for("react.lazy"),Ff=Symbol.iterator;function e0(r){return r===null||typeof r!="object"?null:(r=Ff&&r[Ff]||r["@@iterator"],typeof r=="function"?r:null)}var Sp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ep=Object.assign,Tp={};function Ks(r,n,s){this.props=r,this.context=n,this.refs=Tp,this.updater=s||Sp}Ks.prototype.isReactComponent={};Ks.prototype.setState=function(r,n){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,n,"setState")};Ks.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function kp(){}kp.prototype=Ks.prototype;function $c(r,n,s){this.props=r,this.context=n,this.refs=Tp,this.updater=s||Sp}var Zc=$c.prototype=new kp;Zc.constructor=$c;Ep(Zc,Ks.prototype);Zc.isPureReactComponent=!0;var Nf=Array.isArray,Mp=Object.prototype.hasOwnProperty,Qc={current:null},Cp={key:!0,ref:!0,__self:!0,__source:!0};function Pp(r,n,s){var f,x={},k=null,F=null;if(n!=null)for(f in n.ref!==void 0&&(F=n.ref),n.key!==void 0&&(k=""+n.key),n)Mp.call(n,f)&&!Cp.hasOwnProperty(f)&&(x[f]=n[f]);var t=arguments.length-2;if(t===1)x.children=s;else if(1<t){for(var C=Array(t),S=0;S<t;S++)C[S]=arguments[S+2];x.children=C}if(r&&r.defaultProps)for(f in t=r.defaultProps,t)x[f]===void 0&&(x[f]=t[f]);return{$$typeof:da,type:r,key:k,ref:F,props:x,_owner:Qc.current}}function t0(r,n){return{$$typeof:da,type:r.type,key:n,ref:r.ref,props:r.props,_owner:r._owner}}function Kc(r){return typeof r=="object"&&r!==null&&r.$$typeof===da}function r0(r){var n={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(s){return n[s]})}var Uf=/\/+/g;function vu(r,n){return typeof r=="object"&&r!==null&&r.key!=null?r0(""+r.key):n.toString(36)}function za(r,n,s,f,x){var k=typeof r;(k==="undefined"||k==="boolean")&&(r=null);var F=!1;if(r===null)F=!0;else switch(k){case"string":case"number":F=!0;break;case"object":switch(r.$$typeof){case da:case Hg:F=!0}}if(F)return F=r,x=x(F),r=f===""?"."+vu(F,0):f,Nf(x)?(s="",r!=null&&(s=r.replace(Uf,"$&/")+"/"),za(x,n,s,"",function(S){return S})):x!=null&&(Kc(x)&&(x=t0(x,s+(!x.key||F&&F.key===x.key?"":(""+x.key).replace(Uf,"$&/")+"/")+r)),n.push(x)),1;if(F=0,f=f===""?".":f+":",Nf(r))for(var t=0;t<r.length;t++){k=r[t];var C=f+vu(k,t);F+=za(k,n,s,C,x)}else if(C=e0(r),typeof C=="function")for(r=C.call(r),t=0;!(k=r.next()).done;)k=k.value,C=f+vu(k,t++),F+=za(k,n,s,C,x);else if(k==="object")throw n=String(r),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return F}function Ea(r,n,s){if(r==null)return r;var f=[],x=0;return za(r,f,"","",function(k){return n.call(s,k,x++)}),f}function n0(r){if(r._status===-1){var n=r._result;n=n(),n.then(function(s){(r._status===0||r._status===-1)&&(r._status=1,r._result=s)},function(s){(r._status===0||r._status===-1)&&(r._status=2,r._result=s)}),r._status===-1&&(r._status=0,r._result=n)}if(r._status===1)return r._result.default;throw r._result}var Vr={current:null},Va={transition:null},o0={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:Va,ReactCurrentOwner:Qc};function Ap(){throw Error("act(...) is not supported in production builds of React.")}Nt.Children={map:Ea,forEach:function(r,n,s){Ea(r,function(){n.apply(this,arguments)},s)},count:function(r){var n=0;return Ea(r,function(){n++}),n},toArray:function(r){return Ea(r,function(n){return n})||[]},only:function(r){if(!Kc(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Nt.Component=Ks;Nt.Fragment=Wg;Nt.Profiler=Yg;Nt.PureComponent=$c;Nt.StrictMode=qg;Nt.Suspense=Qg;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o0;Nt.act=Ap;Nt.cloneElement=function(r,n,s){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var f=Ep({},r.props),x=r.key,k=r.ref,F=r._owner;if(n!=null){if(n.ref!==void 0&&(k=n.ref,F=Qc.current),n.key!==void 0&&(x=""+n.key),r.type&&r.type.defaultProps)var t=r.type.defaultProps;for(C in n)Mp.call(n,C)&&!Cp.hasOwnProperty(C)&&(f[C]=n[C]===void 0&&t!==void 0?t[C]:n[C])}var C=arguments.length-2;if(C===1)f.children=s;else if(1<C){t=Array(C);for(var S=0;S<C;S++)t[S]=arguments[S+2];f.children=t}return{$$typeof:da,type:r.type,key:x,ref:k,props:f,_owner:F}};Nt.createContext=function(r){return r={$$typeof:$g,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:Xg,_context:r},r.Consumer=r};Nt.createElement=Pp;Nt.createFactory=function(r){var n=Pp.bind(null,r);return n.type=r,n};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(r){return{$$typeof:Zg,render:r}};Nt.isValidElement=Kc;Nt.lazy=function(r){return{$$typeof:Jg,_payload:{_status:-1,_result:r},_init:n0}};Nt.memo=function(r,n){return{$$typeof:Kg,type:r,compare:n===void 0?null:n}};Nt.startTransition=function(r){var n=Va.transition;Va.transition={};try{r()}finally{Va.transition=n}};Nt.unstable_act=Ap;Nt.useCallback=function(r,n){return Vr.current.useCallback(r,n)};Nt.useContext=function(r){return Vr.current.useContext(r)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(r){return Vr.current.useDeferredValue(r)};Nt.useEffect=function(r,n){return Vr.current.useEffect(r,n)};Nt.useId=function(){return Vr.current.useId()};Nt.useImperativeHandle=function(r,n,s){return Vr.current.useImperativeHandle(r,n,s)};Nt.useInsertionEffect=function(r,n){return Vr.current.useInsertionEffect(r,n)};Nt.useLayoutEffect=function(r,n){return Vr.current.useLayoutEffect(r,n)};Nt.useMemo=function(r,n){return Vr.current.useMemo(r,n)};Nt.useReducer=function(r,n,s){return Vr.current.useReducer(r,n,s)};Nt.useRef=function(r){return Vr.current.useRef(r)};Nt.useState=function(r){return Vr.current.useState(r)};Nt.useSyncExternalStore=function(r,n,s){return Vr.current.useSyncExternalStore(r,n,s)};Nt.useTransition=function(){return Vr.current.useTransition()};Nt.version="18.3.1";jp.exports=Nt;var Ke=jp.exports;const s0=Xc(Ke),i0=wp({__proto__:null,default:s0},[Ke]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=Ke,l0=Symbol.for("react.element"),u0=Symbol.for("react.fragment"),c0=Object.prototype.hasOwnProperty,d0=a0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f0={key:!0,ref:!0,__self:!0,__source:!0};function Op(r,n,s){var f,x={},k=null,F=null;s!==void 0&&(k=""+s),n.key!==void 0&&(k=""+n.key),n.ref!==void 0&&(F=n.ref);for(f in n)c0.call(n,f)&&!f0.hasOwnProperty(f)&&(x[f]=n[f]);if(r&&r.defaultProps)for(f in n=r.defaultProps,n)x[f]===void 0&&(x[f]=n[f]);return{$$typeof:l0,type:r,key:k,ref:F,props:x,_owner:d0.current}}Fl.Fragment=u0;Fl.jsx=Op;Fl.jsxs=Op;xp.exports=Fl;var Rp=xp.exports;const xr=Rp.jsx,ds=Rp.jsxs;var Lp={exports:{}},an={},Dp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function n(N,O){var V=N.length;N.push(O);e:for(;0<V;){var q=V-1>>>1,X=N[q];if(0<x(X,O))N[q]=O,N[V]=X,V=q;else break e}}function s(N){return N.length===0?null:N[0]}function f(N){if(N.length===0)return null;var O=N[0],V=N.pop();if(V!==O){N[0]=V;e:for(var q=0,X=N.length,Z=X>>>1;q<Z;){var re=2*(q+1)-1,ee=N[re],ae=re+1,z=N[ae];if(0>x(ee,V))ae<X&&0>x(z,ee)?(N[q]=z,N[ae]=V,q=ae):(N[q]=ee,N[re]=V,q=re);else if(ae<X&&0>x(z,V))N[q]=z,N[ae]=V,q=ae;else break e}}return O}function x(N,O){var V=N.sortIndex-O.sortIndex;return V!==0?V:N.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var k=performance;r.unstable_now=function(){return k.now()}}else{var F=Date,t=F.now();r.unstable_now=function(){return F.now()-t}}var C=[],S=[],y=1,o=null,a=3,g=!1,b=!1,l=!1,c=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,i=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(N){for(var O=s(S);O!==null;){if(O.callback===null)f(S);else if(O.startTime<=N)f(S),O.sortIndex=O.expirationTime,n(C,O);else break;O=s(S)}}function p(N){if(l=!1,d(N),!b)if(s(C)!==null)b=!0,U(v);else{var O=s(S);O!==null&&B(p,O.startTime-N)}}function v(N,O){b=!1,l&&(l=!1,u(_),_=-1),g=!0;var V=a;try{for(d(O),o=s(C);o!==null&&(!(o.expirationTime>O)||N&&!P());){var q=o.callback;if(typeof q=="function"){o.callback=null,a=o.priorityLevel;var X=q(o.expirationTime<=O);O=r.unstable_now(),typeof X=="function"?o.callback=X:o===s(C)&&f(C),d(O)}else f(C);o=s(C)}if(o!==null)var Z=!0;else{var re=s(S);re!==null&&B(p,re.startTime-O),Z=!1}return Z}finally{o=null,a=V,g=!1}}var h=!1,w=null,_=-1,E=5,R=-1;function P(){return!(r.unstable_now()-R<E)}function T(){if(w!==null){var N=r.unstable_now();R=N;var O=!0;try{O=w(!0,N)}finally{O?D():(h=!1,w=null)}}else h=!1}var D;if(typeof i=="function")D=function(){i(T)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,I=A.port2;A.port1.onmessage=T,D=function(){I.postMessage(null)}}else D=function(){c(T,0)};function U(N){w=N,h||(h=!0,D())}function B(N,O){_=c(function(){N(r.unstable_now())},O)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(N){N.callback=null},r.unstable_continueExecution=function(){b||g||(b=!0,U(v))},r.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<N?Math.floor(1e3/N):5},r.unstable_getCurrentPriorityLevel=function(){return a},r.unstable_getFirstCallbackNode=function(){return s(C)},r.unstable_next=function(N){switch(a){case 1:case 2:case 3:var O=3;break;default:O=a}var V=a;a=O;try{return N()}finally{a=V}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(N,O){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var V=a;a=N;try{return O()}finally{a=V}},r.unstable_scheduleCallback=function(N,O,V){var q=r.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?q+V:q):V=q,N){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=V+X,N={id:y++,callback:O,priorityLevel:N,startTime:V,expirationTime:X,sortIndex:-1},V>q?(N.sortIndex=V,n(S,N),s(C)===null&&N===s(S)&&(l?(u(_),_=-1):l=!0,B(p,V-q))):(N.sortIndex=X,n(C,N),b||g||(b=!0,U(v))),N},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(N){var O=a;return function(){var V=a;a=O;try{return N.apply(this,arguments)}finally{a=V}}}})(Ip);Dp.exports=Ip;var h0=Dp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0=Ke,nn=h0;function et(r){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+r,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+r+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fp=new Set,Ii={};function ts(r,n){Ws(r,n),Ws(r+"Capture",n)}function Ws(r,n){for(Ii[r]=n,r=0;r<n.length;r++)Fp.add(n[r])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=Object.prototype.hasOwnProperty,m0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bf={},Gf={};function y0(r){return Zu.call(Gf,r)?!0:Zu.call(Bf,r)?!1:m0.test(r)?Gf[r]=!0:(Bf[r]=!0,!1)}function g0(r,n,s,f){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return f?!1:s!==null?!s.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function v0(r,n,s,f){if(n===null||typeof n>"u"||g0(r,n,s,f))return!0;if(f)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Hr(r,n,s,f,x,k,F){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=f,this.attributeNamespace=x,this.mustUseProperty=s,this.propertyName=r,this.type=n,this.sanitizeURL=k,this.removeEmptyString=F}var Lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Lr[r]=new Hr(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var n=r[0];Lr[n]=new Hr(n,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Lr[r]=new Hr(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Lr[r]=new Hr(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Lr[r]=new Hr(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Lr[r]=new Hr(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Lr[r]=new Hr(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Lr[r]=new Hr(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Lr[r]=new Hr(r,5,!1,r.toLowerCase(),null,!1,!1)});var Jc=/[\-:]([a-z])/g;function ed(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var n=r.replace(Jc,ed);Lr[n]=new Hr(n,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var n=r.replace(Jc,ed);Lr[n]=new Hr(n,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var n=r.replace(Jc,ed);Lr[n]=new Hr(n,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Lr[r]=new Hr(r,1,!1,r.toLowerCase(),null,!1,!1)});Lr.xlinkHref=new Hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Lr[r]=new Hr(r,1,!1,r.toLowerCase(),null,!0,!0)});function td(r,n,s,f){var x=Lr.hasOwnProperty(n)?Lr[n]:null;(x!==null?x.type!==0:f||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(v0(n,s,x,f)&&(s=null),f||x===null?y0(n)&&(s===null?r.removeAttribute(n):r.setAttribute(n,""+s)):x.mustUseProperty?r[x.propertyName]=s===null?x.type===3?!1:"":s:(n=x.attributeName,f=x.attributeNamespace,s===null?r.removeAttribute(n):(x=x.type,s=x===3||x===4&&s===!0?"":""+s,f?r.setAttributeNS(f,n,s):r.setAttribute(n,s))))}var Zn=p0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ta=Symbol.for("react.element"),fs=Symbol.for("react.portal"),hs=Symbol.for("react.fragment"),rd=Symbol.for("react.strict_mode"),Qu=Symbol.for("react.profiler"),Np=Symbol.for("react.provider"),Up=Symbol.for("react.context"),nd=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),Ju=Symbol.for("react.suspense_list"),od=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),Bp=Symbol.for("react.offscreen"),zf=Symbol.iterator;function ui(r){return r===null||typeof r!="object"?null:(r=zf&&r[zf]||r["@@iterator"],typeof r=="function"?r:null)}var hr=Object.assign,bu;function wi(r){if(bu===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);bu=n&&n[1]||""}return`
`+bu+r}var _u=!1;function wu(r,n){if(!r||_u)return"";_u=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(S){var f=S}Reflect.construct(r,[],n)}else{try{n.call()}catch(S){f=S}r.call(n.prototype)}else{try{throw Error()}catch(S){f=S}r()}}catch(S){if(S&&f&&typeof S.stack=="string"){for(var x=S.stack.split(`
`),k=f.stack.split(`
`),F=x.length-1,t=k.length-1;1<=F&&0<=t&&x[F]!==k[t];)t--;for(;1<=F&&0<=t;F--,t--)if(x[F]!==k[t]){if(F!==1||t!==1)do if(F--,t--,0>t||x[F]!==k[t]){var C=`
`+x[F].replace(" at new "," at ");return r.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",r.displayName)),C}while(1<=F&&0<=t);break}}}finally{_u=!1,Error.prepareStackTrace=s}return(r=r?r.displayName||r.name:"")?wi(r):""}function b0(r){switch(r.tag){case 5:return wi(r.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 2:case 15:return r=wu(r.type,!1),r;case 11:return r=wu(r.type.render,!1),r;case 1:return r=wu(r.type,!0),r;default:return""}}function ec(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case hs:return"Fragment";case fs:return"Portal";case Qu:return"Profiler";case rd:return"StrictMode";case Ku:return"Suspense";case Ju:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Up:return(r.displayName||"Context")+".Consumer";case Np:return(r._context.displayName||"Context")+".Provider";case nd:var n=r.render;return r=r.displayName,r||(r=n.displayName||n.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case od:return n=r.displayName||null,n!==null?n:ec(r.type)||"Memo";case ro:n=r._payload,r=r._init;try{return ec(r(n))}catch{}}return null}function _0(r){var n=r.type;switch(r.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=n.render,r=r.displayName||r.name||"",n.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ec(n);case 8:return n===rd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function _o(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Gp(r){var n=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function w0(r){var n=Gp(r)?"checked":"value",s=Object.getOwnPropertyDescriptor(r.constructor.prototype,n),f=""+r[n];if(!r.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var x=s.get,k=s.set;return Object.defineProperty(r,n,{configurable:!0,get:function(){return x.call(this)},set:function(F){f=""+F,k.call(this,F)}}),Object.defineProperty(r,n,{enumerable:s.enumerable}),{getValue:function(){return f},setValue:function(F){f=""+F},stopTracking:function(){r._valueTracker=null,delete r[n]}}}}function ka(r){r._valueTracker||(r._valueTracker=w0(r))}function zp(r){if(!r)return!1;var n=r._valueTracker;if(!n)return!0;var s=n.getValue(),f="";return r&&(f=Gp(r)?r.checked?"true":"false":r.value),r=f,r!==s?(n.setValue(r),!0):!1}function tl(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function tc(r,n){var s=n.checked;return hr({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??r._wrapperState.initialChecked})}function Vf(r,n){var s=n.defaultValue==null?"":n.defaultValue,f=n.checked!=null?n.checked:n.defaultChecked;s=_o(n.value!=null?n.value:s),r._wrapperState={initialChecked:f,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Vp(r,n){n=n.checked,n!=null&&td(r,"checked",n,!1)}function rc(r,n){Vp(r,n);var s=_o(n.value),f=n.type;if(s!=null)f==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+s):r.value!==""+s&&(r.value=""+s);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}n.hasOwnProperty("value")?nc(r,n.type,s):n.hasOwnProperty("defaultValue")&&nc(r,n.type,_o(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(r.defaultChecked=!!n.defaultChecked)}function Hf(r,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var f=n.type;if(!(f!=="submit"&&f!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+r._wrapperState.initialValue,s||n===r.value||(r.value=n),r.defaultValue=n}s=r.name,s!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,s!==""&&(r.name=s)}function nc(r,n,s){(n!=="number"||tl(r.ownerDocument)!==r)&&(s==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+s&&(r.defaultValue=""+s))}var xi=Array.isArray;function Es(r,n,s,f){if(r=r.options,n){n={};for(var x=0;x<s.length;x++)n["$"+s[x]]=!0;for(s=0;s<r.length;s++)x=n.hasOwnProperty("$"+r[s].value),r[s].selected!==x&&(r[s].selected=x),x&&f&&(r[s].defaultSelected=!0)}else{for(s=""+_o(s),n=null,x=0;x<r.length;x++){if(r[x].value===s){r[x].selected=!0,f&&(r[x].defaultSelected=!0);return}n!==null||r[x].disabled||(n=r[x])}n!==null&&(n.selected=!0)}}function oc(r,n){if(n.dangerouslySetInnerHTML!=null)throw Error(et(91));return hr({},n,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Wf(r,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(et(92));if(xi(s)){if(1<s.length)throw Error(et(93));s=s[0]}n=s}n==null&&(n=""),s=n}r._wrapperState={initialValue:_o(s)}}function Hp(r,n){var s=_o(n.value),f=_o(n.defaultValue);s!=null&&(s=""+s,s!==r.value&&(r.value=s),n.defaultValue==null&&r.defaultValue!==s&&(r.defaultValue=s)),f!=null&&(r.defaultValue=""+f)}function qf(r){var n=r.textContent;n===r._wrapperState.initialValue&&n!==""&&n!==null&&(r.value=n)}function Wp(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sc(r,n){return r==null||r==="http://www.w3.org/1999/xhtml"?Wp(n):r==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ma,qp=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,f,x){MSApp.execUnsafeLocalFunction(function(){return r(n,s,f,x)})}:r}(function(r,n){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=n;else{for(Ma=Ma||document.createElement("div"),Ma.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ma.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;n.firstChild;)r.appendChild(n.firstChild)}});function Fi(r,n){if(n){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3){s.nodeValue=n;return}}r.textContent=n}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x0=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(r){x0.forEach(function(n){n=n+r.charAt(0).toUpperCase()+r.substring(1),ki[n]=ki[r]})});function Yp(r,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||ki.hasOwnProperty(r)&&ki[r]?(""+n).trim():n+"px"}function Xp(r,n){r=r.style;for(var s in n)if(n.hasOwnProperty(s)){var f=s.indexOf("--")===0,x=Yp(s,n[s],f);s==="float"&&(s="cssFloat"),f?r.setProperty(s,x):r[s]=x}}var j0=hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ic(r,n){if(n){if(j0[r]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(et(137,r));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(et(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(et(61))}if(n.style!=null&&typeof n.style!="object")throw Error(et(62))}}function ac(r,n){if(r.indexOf("-")===-1)return typeof n.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=null;function sd(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var uc=null,Ts=null,ks=null;function Yf(r){if(r=pa(r)){if(typeof uc!="function")throw Error(et(280));var n=r.stateNode;n&&(n=zl(n),uc(r.stateNode,r.type,n))}}function $p(r){Ts?ks?ks.push(r):ks=[r]:Ts=r}function Zp(){if(Ts){var r=Ts,n=ks;if(ks=Ts=null,Yf(r),n)for(r=0;r<n.length;r++)Yf(n[r])}}function Qp(r,n){return r(n)}function Kp(){}var xu=!1;function Jp(r,n,s){if(xu)return r(n,s);xu=!0;try{return Qp(r,n,s)}finally{xu=!1,(Ts!==null||ks!==null)&&(Kp(),Zp())}}function Ni(r,n){var s=r.stateNode;if(s===null)return null;var f=zl(s);if(f===null)return null;s=f[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(et(231,n,typeof s));return s}var cc=!1;if(qn)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){cc=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{cc=!1}function S0(r,n,s,f,x,k,F,t,C){var S=Array.prototype.slice.call(arguments,3);try{n.apply(s,S)}catch(y){this.onError(y)}}var Mi=!1,rl=null,nl=!1,dc=null,E0={onError:function(r){Mi=!0,rl=r}};function T0(r,n,s,f,x,k,F,t,C){Mi=!1,rl=null,S0.apply(E0,arguments)}function k0(r,n,s,f,x,k,F,t,C){if(T0.apply(this,arguments),Mi){if(Mi){var S=rl;Mi=!1,rl=null}else throw Error(et(198));nl||(nl=!0,dc=S)}}function rs(r){var n=r,s=r;if(r.alternate)for(;n.return;)n=n.return;else{r=n;do n=r,n.flags&4098&&(s=n.return),r=n.return;while(r)}return n.tag===3?s:null}function em(r){if(r.tag===13){var n=r.memoizedState;if(n===null&&(r=r.alternate,r!==null&&(n=r.memoizedState)),n!==null)return n.dehydrated}return null}function Xf(r){if(rs(r)!==r)throw Error(et(188))}function M0(r){var n=r.alternate;if(!n){if(n=rs(r),n===null)throw Error(et(188));return n!==r?null:r}for(var s=r,f=n;;){var x=s.return;if(x===null)break;var k=x.alternate;if(k===null){if(f=x.return,f!==null){s=f;continue}break}if(x.child===k.child){for(k=x.child;k;){if(k===s)return Xf(x),r;if(k===f)return Xf(x),n;k=k.sibling}throw Error(et(188))}if(s.return!==f.return)s=x,f=k;else{for(var F=!1,t=x.child;t;){if(t===s){F=!0,s=x,f=k;break}if(t===f){F=!0,f=x,s=k;break}t=t.sibling}if(!F){for(t=k.child;t;){if(t===s){F=!0,s=k,f=x;break}if(t===f){F=!0,f=k,s=x;break}t=t.sibling}if(!F)throw Error(et(189))}}if(s.alternate!==f)throw Error(et(190))}if(s.tag!==3)throw Error(et(188));return s.stateNode.current===s?r:n}function tm(r){return r=M0(r),r!==null?rm(r):null}function rm(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var n=rm(r);if(n!==null)return n;r=r.sibling}return null}var nm=nn.unstable_scheduleCallback,$f=nn.unstable_cancelCallback,C0=nn.unstable_shouldYield,P0=nn.unstable_requestPaint,vr=nn.unstable_now,A0=nn.unstable_getCurrentPriorityLevel,id=nn.unstable_ImmediatePriority,om=nn.unstable_UserBlockingPriority,ol=nn.unstable_NormalPriority,O0=nn.unstable_LowPriority,sm=nn.unstable_IdlePriority,Nl=null,On=null;function R0(r){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Nl,r,void 0,(r.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:I0,L0=Math.log,D0=Math.LN2;function I0(r){return r>>>=0,r===0?32:31-(L0(r)/D0|0)|0}var Ca=64,Pa=4194304;function ji(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function sl(r,n){var s=r.pendingLanes;if(s===0)return 0;var f=0,x=r.suspendedLanes,k=r.pingedLanes,F=s&268435455;if(F!==0){var t=F&~x;t!==0?f=ji(t):(k&=F,k!==0&&(f=ji(k)))}else F=s&~x,F!==0?f=ji(F):k!==0&&(f=ji(k));if(f===0)return 0;if(n!==0&&n!==f&&!(n&x)&&(x=f&-f,k=n&-n,x>=k||x===16&&(k&4194240)!==0))return n;if(f&4&&(f|=s&16),n=r.entangledLanes,n!==0)for(r=r.entanglements,n&=f;0<n;)s=31-Sn(n),x=1<<s,f|=r[s],n&=~x;return f}function F0(r,n){switch(r){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N0(r,n){for(var s=r.suspendedLanes,f=r.pingedLanes,x=r.expirationTimes,k=r.pendingLanes;0<k;){var F=31-Sn(k),t=1<<F,C=x[F];C===-1?(!(t&s)||t&f)&&(x[F]=F0(t,n)):C<=n&&(r.expiredLanes|=t),k&=~t}}function fc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function im(){var r=Ca;return Ca<<=1,!(Ca&4194240)&&(Ca=64),r}function ju(r){for(var n=[],s=0;31>s;s++)n.push(r);return n}function fa(r,n,s){r.pendingLanes|=n,n!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,n=31-Sn(n),r[n]=s}function U0(r,n){var s=r.pendingLanes&~n;r.pendingLanes=n,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=n,r.mutableReadLanes&=n,r.entangledLanes&=n,n=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<s;){var x=31-Sn(s),k=1<<x;n[x]=0,f[x]=-1,r[x]=-1,s&=~k}}function ad(r,n){var s=r.entangledLanes|=n;for(r=r.entanglements;s;){var f=31-Sn(s),x=1<<f;x&n|r[f]&n&&(r[f]|=n),s&=~x}}var $t=0;function am(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var lm,ld,um,cm,dm,hc=!1,Aa=[],fo=null,ho=null,po=null,Ui=new Map,Bi=new Map,oo=[],B0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zf(r,n){switch(r){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":Ui.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(n.pointerId)}}function di(r,n,s,f,x,k){return r===null||r.nativeEvent!==k?(r={blockedOn:n,domEventName:s,eventSystemFlags:f,nativeEvent:k,targetContainers:[x]},n!==null&&(n=pa(n),n!==null&&ld(n)),r):(r.eventSystemFlags|=f,n=r.targetContainers,x!==null&&n.indexOf(x)===-1&&n.push(x),r)}function G0(r,n,s,f,x){switch(n){case"focusin":return fo=di(fo,r,n,s,f,x),!0;case"dragenter":return ho=di(ho,r,n,s,f,x),!0;case"mouseover":return po=di(po,r,n,s,f,x),!0;case"pointerover":var k=x.pointerId;return Ui.set(k,di(Ui.get(k)||null,r,n,s,f,x)),!0;case"gotpointercapture":return k=x.pointerId,Bi.set(k,di(Bi.get(k)||null,r,n,s,f,x)),!0}return!1}function fm(r){var n=Ao(r.target);if(n!==null){var s=rs(n);if(s!==null){if(n=s.tag,n===13){if(n=em(s),n!==null){r.blockedOn=n,dm(r.priority,function(){um(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){r.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ha(r){if(r.blockedOn!==null)return!1;for(var n=r.targetContainers;0<n.length;){var s=pc(r.domEventName,r.eventSystemFlags,n[0],r.nativeEvent);if(s===null){s=r.nativeEvent;var f=new s.constructor(s.type,s);lc=f,s.target.dispatchEvent(f),lc=null}else return n=pa(s),n!==null&&ld(n),r.blockedOn=s,!1;n.shift()}return!0}function Qf(r,n,s){Ha(r)&&s.delete(n)}function z0(){hc=!1,fo!==null&&Ha(fo)&&(fo=null),ho!==null&&Ha(ho)&&(ho=null),po!==null&&Ha(po)&&(po=null),Ui.forEach(Qf),Bi.forEach(Qf)}function fi(r,n){r.blockedOn===n&&(r.blockedOn=null,hc||(hc=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,z0)))}function Gi(r){function n(x){return fi(x,r)}if(0<Aa.length){fi(Aa[0],r);for(var s=1;s<Aa.length;s++){var f=Aa[s];f.blockedOn===r&&(f.blockedOn=null)}}for(fo!==null&&fi(fo,r),ho!==null&&fi(ho,r),po!==null&&fi(po,r),Ui.forEach(n),Bi.forEach(n),s=0;s<oo.length;s++)f=oo[s],f.blockedOn===r&&(f.blockedOn=null);for(;0<oo.length&&(s=oo[0],s.blockedOn===null);)fm(s),s.blockedOn===null&&oo.shift()}var Ms=Zn.ReactCurrentBatchConfig,il=!0;function V0(r,n,s,f){var x=$t,k=Ms.transition;Ms.transition=null;try{$t=1,ud(r,n,s,f)}finally{$t=x,Ms.transition=k}}function H0(r,n,s,f){var x=$t,k=Ms.transition;Ms.transition=null;try{$t=4,ud(r,n,s,f)}finally{$t=x,Ms.transition=k}}function ud(r,n,s,f){if(il){var x=pc(r,n,s,f);if(x===null)Ru(r,n,f,al,s),Zf(r,f);else if(G0(x,r,n,s,f))f.stopPropagation();else if(Zf(r,f),n&4&&-1<B0.indexOf(r)){for(;x!==null;){var k=pa(x);if(k!==null&&lm(k),k=pc(r,n,s,f),k===null&&Ru(r,n,f,al,s),k===x)break;x=k}x!==null&&f.stopPropagation()}else Ru(r,n,f,null,s)}}var al=null;function pc(r,n,s,f){if(al=null,r=sd(f),r=Ao(r),r!==null)if(n=rs(r),n===null)r=null;else if(s=n.tag,s===13){if(r=em(n),r!==null)return r;r=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;r=null}else n!==r&&(r=null);return al=r,null}function hm(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A0()){case id:return 1;case om:return 4;case ol:case O0:return 16;case sm:return 536870912;default:return 16}default:return 16}}var uo=null,cd=null,Wa=null;function pm(){if(Wa)return Wa;var r,n=cd,s=n.length,f,x="value"in uo?uo.value:uo.textContent,k=x.length;for(r=0;r<s&&n[r]===x[r];r++);var F=s-r;for(f=1;f<=F&&n[s-f]===x[k-f];f++);return Wa=x.slice(r,1<f?1-f:void 0)}function qa(r){var n=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&n===13&&(r=13)):r=n,r===10&&(r=13),32<=r||r===13?r:0}function Oa(){return!0}function Kf(){return!1}function ln(r){function n(s,f,x,k,F){this._reactName=s,this._targetInst=x,this.type=f,this.nativeEvent=k,this.target=F,this.currentTarget=null;for(var t in r)r.hasOwnProperty(t)&&(s=r[t],this[t]=s?s(k):k[t]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Oa:Kf,this.isPropagationStopped=Kf,this}return hr(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),n}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dd=ln(Js),ha=hr({},Js,{view:0,detail:0}),W0=ln(ha),Su,Eu,hi,Ul=hr({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==hi&&(hi&&r.type==="mousemove"?(Su=r.screenX-hi.screenX,Eu=r.screenY-hi.screenY):Eu=Su=0,hi=r),Su)},movementY:function(r){return"movementY"in r?r.movementY:Eu}}),Jf=ln(Ul),q0=hr({},Ul,{dataTransfer:0}),Y0=ln(q0),X0=hr({},ha,{relatedTarget:0}),Tu=ln(X0),$0=hr({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),Z0=ln($0),Q0=hr({},Js,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),K0=ln(Q0),J0=hr({},Js,{data:0}),eh=ln(J0),ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nv(r){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(r):(r=rv[r])?!!n[r]:!1}function fd(){return nv}var ov=hr({},ha,{key:function(r){if(r.key){var n=ev[r.key]||r.key;if(n!=="Unidentified")return n}return r.type==="keypress"?(r=qa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tv[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fd,charCode:function(r){return r.type==="keypress"?qa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?qa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),sv=ln(ov),iv=hr({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),th=ln(iv),av=hr({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fd}),lv=ln(av),uv=hr({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),cv=ln(uv),dv=hr({},Ul,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),fv=ln(dv),hv=[9,13,27,32],hd=qn&&"CompositionEvent"in window,Ci=null;qn&&"documentMode"in document&&(Ci=document.documentMode);var pv=qn&&"TextEvent"in window&&!Ci,mm=qn&&(!hd||Ci&&8<Ci&&11>=Ci),rh=String.fromCharCode(32),nh=!1;function ym(r,n){switch(r){case"keyup":return hv.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ps=!1;function mv(r,n){switch(r){case"compositionend":return gm(n);case"keypress":return n.which!==32?null:(nh=!0,rh);case"textInput":return r=n.data,r===rh&&nh?null:r;default:return null}}function yv(r,n){if(ps)return r==="compositionend"||!hd&&ym(r,n)?(r=pm(),Wa=cd=uo=null,ps=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mm&&n.locale!=="ko"?null:n.data;default:return null}}var gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oh(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n==="input"?!!gv[r.type]:n==="textarea"}function vm(r,n,s,f){$p(f),n=ll(n,"onChange"),0<n.length&&(s=new dd("onChange","change",null,s,f),r.push({event:s,listeners:n}))}var Pi=null,zi=null;function vv(r){Cm(r,0)}function Bl(r){var n=gs(r);if(zp(n))return r}function bv(r,n){if(r==="change")return n}var bm=!1;if(qn){var ku;if(qn){var Mu="oninput"in document;if(!Mu){var sh=document.createElement("div");sh.setAttribute("oninput","return;"),Mu=typeof sh.oninput=="function"}ku=Mu}else ku=!1;bm=ku&&(!document.documentMode||9<document.documentMode)}function ih(){Pi&&(Pi.detachEvent("onpropertychange",_m),zi=Pi=null)}function _m(r){if(r.propertyName==="value"&&Bl(zi)){var n=[];vm(n,zi,r,sd(r)),Jp(vv,n)}}function _v(r,n,s){r==="focusin"?(ih(),Pi=n,zi=s,Pi.attachEvent("onpropertychange",_m)):r==="focusout"&&ih()}function wv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Bl(zi)}function xv(r,n){if(r==="click")return Bl(n)}function jv(r,n){if(r==="input"||r==="change")return Bl(n)}function Sv(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var Tn=typeof Object.is=="function"?Object.is:Sv;function Vi(r,n){if(Tn(r,n))return!0;if(typeof r!="object"||r===null||typeof n!="object"||n===null)return!1;var s=Object.keys(r),f=Object.keys(n);if(s.length!==f.length)return!1;for(f=0;f<s.length;f++){var x=s[f];if(!Zu.call(n,x)||!Tn(r[x],n[x]))return!1}return!0}function ah(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function lh(r,n){var s=ah(r);r=0;for(var f;s;){if(s.nodeType===3){if(f=r+s.textContent.length,r<=n&&f>=n)return{node:s,offset:n-r};r=f}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ah(s)}}function wm(r,n){return r&&n?r===n?!0:r&&r.nodeType===3?!1:n&&n.nodeType===3?wm(r,n.parentNode):"contains"in r?r.contains(n):r.compareDocumentPosition?!!(r.compareDocumentPosition(n)&16):!1:!1}function xm(){for(var r=window,n=tl();n instanceof r.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)r=n.contentWindow;else break;n=tl(r.document)}return n}function pd(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n&&(n==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||n==="textarea"||r.contentEditable==="true")}function Ev(r){var n=xm(),s=r.focusedElem,f=r.selectionRange;if(n!==s&&s&&s.ownerDocument&&wm(s.ownerDocument.documentElement,s)){if(f!==null&&pd(s)){if(n=f.start,r=f.end,r===void 0&&(r=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(r,s.value.length);else if(r=(n=s.ownerDocument||document)&&n.defaultView||window,r.getSelection){r=r.getSelection();var x=s.textContent.length,k=Math.min(f.start,x);f=f.end===void 0?k:Math.min(f.end,x),!r.extend&&k>f&&(x=f,f=k,k=x),x=lh(s,k);var F=lh(s,f);x&&F&&(r.rangeCount!==1||r.anchorNode!==x.node||r.anchorOffset!==x.offset||r.focusNode!==F.node||r.focusOffset!==F.offset)&&(n=n.createRange(),n.setStart(x.node,x.offset),r.removeAllRanges(),k>f?(r.addRange(n),r.extend(F.node,F.offset)):(n.setEnd(F.node,F.offset),r.addRange(n)))}}for(n=[],r=s;r=r.parentNode;)r.nodeType===1&&n.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)r=n[s],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Tv=qn&&"documentMode"in document&&11>=document.documentMode,ms=null,mc=null,Ai=null,yc=!1;function uh(r,n,s){var f=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yc||ms==null||ms!==tl(f)||(f=ms,"selectionStart"in f&&pd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ai&&Vi(Ai,f)||(Ai=f,f=ll(mc,"onSelect"),0<f.length&&(n=new dd("onSelect","select",null,n,s),r.push({event:n,listeners:f}),n.target=ms)))}function Ra(r,n){var s={};return s[r.toLowerCase()]=n.toLowerCase(),s["Webkit"+r]="webkit"+n,s["Moz"+r]="moz"+n,s}var ys={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionend:Ra("Transition","TransitionEnd")},Cu={},jm={};qn&&(jm=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Gl(r){if(Cu[r])return Cu[r];if(!ys[r])return r;var n=ys[r],s;for(s in n)if(n.hasOwnProperty(s)&&s in jm)return Cu[r]=n[s];return r}var Sm=Gl("animationend"),Em=Gl("animationiteration"),Tm=Gl("animationstart"),km=Gl("transitionend"),Mm=new Map,ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(r,n){Mm.set(r,n),ts(n,[r])}for(var Pu=0;Pu<ch.length;Pu++){var Au=ch[Pu],kv=Au.toLowerCase(),Mv=Au[0].toUpperCase()+Au.slice(1);jo(kv,"on"+Mv)}jo(Sm,"onAnimationEnd");jo(Em,"onAnimationIteration");jo(Tm,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(km,"onTransitionEnd");Ws("onMouseEnter",["mouseout","mouseover"]);Ws("onMouseLeave",["mouseout","mouseover"]);Ws("onPointerEnter",["pointerout","pointerover"]);Ws("onPointerLeave",["pointerout","pointerover"]);ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Si));function dh(r,n,s){var f=r.type||"unknown-event";r.currentTarget=s,k0(f,n,void 0,r),r.currentTarget=null}function Cm(r,n){n=(n&4)!==0;for(var s=0;s<r.length;s++){var f=r[s],x=f.event;f=f.listeners;e:{var k=void 0;if(n)for(var F=f.length-1;0<=F;F--){var t=f[F],C=t.instance,S=t.currentTarget;if(t=t.listener,C!==k&&x.isPropagationStopped())break e;dh(x,t,S),k=C}else for(F=0;F<f.length;F++){if(t=f[F],C=t.instance,S=t.currentTarget,t=t.listener,C!==k&&x.isPropagationStopped())break e;dh(x,t,S),k=C}}}if(nl)throw r=dc,nl=!1,dc=null,r}function ir(r,n){var s=n[wc];s===void 0&&(s=n[wc]=new Set);var f=r+"__bubble";s.has(f)||(Pm(n,r,2,!1),s.add(f))}function Ou(r,n,s){var f=0;n&&(f|=4),Pm(s,r,f,n)}var La="_reactListening"+Math.random().toString(36).slice(2);function Hi(r){if(!r[La]){r[La]=!0,Fp.forEach(function(s){s!=="selectionchange"&&(Cv.has(s)||Ou(s,!1,r),Ou(s,!0,r))});var n=r.nodeType===9?r:r.ownerDocument;n===null||n[La]||(n[La]=!0,Ou("selectionchange",!1,n))}}function Pm(r,n,s,f){switch(hm(n)){case 1:var x=V0;break;case 4:x=H0;break;default:x=ud}s=x.bind(null,n,s,r),x=void 0,!cc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(x=!0),f?x!==void 0?r.addEventListener(n,s,{capture:!0,passive:x}):r.addEventListener(n,s,!0):x!==void 0?r.addEventListener(n,s,{passive:x}):r.addEventListener(n,s,!1)}function Ru(r,n,s,f,x){var k=f;if(!(n&1)&&!(n&2)&&f!==null)e:for(;;){if(f===null)return;var F=f.tag;if(F===3||F===4){var t=f.stateNode.containerInfo;if(t===x||t.nodeType===8&&t.parentNode===x)break;if(F===4)for(F=f.return;F!==null;){var C=F.tag;if((C===3||C===4)&&(C=F.stateNode.containerInfo,C===x||C.nodeType===8&&C.parentNode===x))return;F=F.return}for(;t!==null;){if(F=Ao(t),F===null)return;if(C=F.tag,C===5||C===6){f=k=F;continue e}t=t.parentNode}}f=f.return}Jp(function(){var S=k,y=sd(s),o=[];e:{var a=Mm.get(r);if(a!==void 0){var g=dd,b=r;switch(r){case"keypress":if(qa(s)===0)break e;case"keydown":case"keyup":g=sv;break;case"focusin":b="focus",g=Tu;break;case"focusout":b="blur",g=Tu;break;case"beforeblur":case"afterblur":g=Tu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=lv;break;case Sm:case Em:case Tm:g=Z0;break;case km:g=cv;break;case"scroll":g=W0;break;case"wheel":g=fv;break;case"copy":case"cut":case"paste":g=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=th}var l=(n&4)!==0,c=!l&&r==="scroll",u=l?a!==null?a+"Capture":null:a;l=[];for(var i=S,d;i!==null;){d=i;var p=d.stateNode;if(d.tag===5&&p!==null&&(d=p,u!==null&&(p=Ni(i,u),p!=null&&l.push(Wi(i,p,d)))),c)break;i=i.return}0<l.length&&(a=new g(a,b,null,s,y),o.push({event:a,listeners:l}))}}if(!(n&7)){e:{if(a=r==="mouseover"||r==="pointerover",g=r==="mouseout"||r==="pointerout",a&&s!==lc&&(b=s.relatedTarget||s.fromElement)&&(Ao(b)||b[Yn]))break e;if((g||a)&&(a=y.window===y?y:(a=y.ownerDocument)?a.defaultView||a.parentWindow:window,g?(b=s.relatedTarget||s.toElement,g=S,b=b?Ao(b):null,b!==null&&(c=rs(b),b!==c||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=S),g!==b)){if(l=Jf,p="onMouseLeave",u="onMouseEnter",i="mouse",(r==="pointerout"||r==="pointerover")&&(l=th,p="onPointerLeave",u="onPointerEnter",i="pointer"),c=g==null?a:gs(g),d=b==null?a:gs(b),a=new l(p,i+"leave",g,s,y),a.target=c,a.relatedTarget=d,p=null,Ao(y)===S&&(l=new l(u,i+"enter",b,s,y),l.target=d,l.relatedTarget=c,p=l),c=p,g&&b)t:{for(l=g,u=b,i=0,d=l;d;d=ls(d))i++;for(d=0,p=u;p;p=ls(p))d++;for(;0<i-d;)l=ls(l),i--;for(;0<d-i;)u=ls(u),d--;for(;i--;){if(l===u||u!==null&&l===u.alternate)break t;l=ls(l),u=ls(u)}l=null}else l=null;g!==null&&fh(o,a,g,l,!1),b!==null&&c!==null&&fh(o,c,b,l,!0)}}e:{if(a=S?gs(S):window,g=a.nodeName&&a.nodeName.toLowerCase(),g==="select"||g==="input"&&a.type==="file")var v=bv;else if(oh(a))if(bm)v=jv;else{v=wv;var h=_v}else(g=a.nodeName)&&g.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")&&(v=xv);if(v&&(v=v(r,S))){vm(o,v,s,y);break e}h&&h(r,a,S),r==="focusout"&&(h=a._wrapperState)&&h.controlled&&a.type==="number"&&nc(a,"number",a.value)}switch(h=S?gs(S):window,r){case"focusin":(oh(h)||h.contentEditable==="true")&&(ms=h,mc=S,Ai=null);break;case"focusout":Ai=mc=ms=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,uh(o,s,y);break;case"selectionchange":if(Tv)break;case"keydown":case"keyup":uh(o,s,y)}var w;if(hd)e:{switch(r){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ps?ym(r,s)&&(_="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(_="onCompositionStart");_&&(mm&&s.locale!=="ko"&&(ps||_!=="onCompositionStart"?_==="onCompositionEnd"&&ps&&(w=pm()):(uo=y,cd="value"in uo?uo.value:uo.textContent,ps=!0)),h=ll(S,_),0<h.length&&(_=new eh(_,r,null,s,y),o.push({event:_,listeners:h}),w?_.data=w:(w=gm(s),w!==null&&(_.data=w)))),(w=pv?mv(r,s):yv(r,s))&&(S=ll(S,"onBeforeInput"),0<S.length&&(y=new eh("onBeforeInput","beforeinput",null,s,y),o.push({event:y,listeners:S}),y.data=w))}Cm(o,n)})}function Wi(r,n,s){return{instance:r,listener:n,currentTarget:s}}function ll(r,n){for(var s=n+"Capture",f=[];r!==null;){var x=r,k=x.stateNode;x.tag===5&&k!==null&&(x=k,k=Ni(r,s),k!=null&&f.unshift(Wi(r,k,x)),k=Ni(r,n),k!=null&&f.push(Wi(r,k,x))),r=r.return}return f}function ls(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function fh(r,n,s,f,x){for(var k=n._reactName,F=[];s!==null&&s!==f;){var t=s,C=t.alternate,S=t.stateNode;if(C!==null&&C===f)break;t.tag===5&&S!==null&&(t=S,x?(C=Ni(s,k),C!=null&&F.unshift(Wi(s,C,t))):x||(C=Ni(s,k),C!=null&&F.push(Wi(s,C,t)))),s=s.return}F.length!==0&&r.push({event:n,listeners:F})}var Pv=/\r\n?/g,Av=/\u0000|\uFFFD/g;function hh(r){return(typeof r=="string"?r:""+r).replace(Pv,`
`).replace(Av,"")}function Da(r,n,s){if(n=hh(n),hh(r)!==n&&s)throw Error(et(425))}function ul(){}var gc=null,vc=null;function bc(r,n){return r==="textarea"||r==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _c=typeof setTimeout=="function"?setTimeout:void 0,Ov=typeof clearTimeout=="function"?clearTimeout:void 0,ph=typeof Promise=="function"?Promise:void 0,Rv=typeof queueMicrotask=="function"?queueMicrotask:typeof ph<"u"?function(r){return ph.resolve(null).then(r).catch(Lv)}:_c;function Lv(r){setTimeout(function(){throw r})}function Lu(r,n){var s=n,f=0;do{var x=s.nextSibling;if(r.removeChild(s),x&&x.nodeType===8)if(s=x.data,s==="/$"){if(f===0){r.removeChild(x),Gi(n);return}f--}else s!=="$"&&s!=="$?"&&s!=="$!"||f++;s=x}while(s);Gi(n)}function mo(r){for(;r!=null;r=r.nextSibling){var n=r.nodeType;if(n===1||n===3)break;if(n===8){if(n=r.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return r}function mh(r){r=r.previousSibling;for(var n=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return r;n--}else s==="/$"&&n++}r=r.previousSibling}return null}var ei=Math.random().toString(36).slice(2),An="__reactFiber$"+ei,qi="__reactProps$"+ei,Yn="__reactContainer$"+ei,wc="__reactEvents$"+ei,Dv="__reactListeners$"+ei,Iv="__reactHandles$"+ei;function Ao(r){var n=r[An];if(n)return n;for(var s=r.parentNode;s;){if(n=s[Yn]||s[An]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(r=mh(r);r!==null;){if(s=r[An])return s;r=mh(r)}return n}r=s,s=r.parentNode}return null}function pa(r){return r=r[An]||r[Yn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function gs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(et(33))}function zl(r){return r[qi]||null}var xc=[],vs=-1;function So(r){return{current:r}}function ar(r){0>vs||(r.current=xc[vs],xc[vs]=null,vs--)}function rr(r,n){vs++,xc[vs]=r.current,r.current=n}var wo={},Ur=So(wo),$r=So(!1),Xo=wo;function qs(r,n){var s=r.type.contextTypes;if(!s)return wo;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===n)return f.__reactInternalMemoizedMaskedChildContext;var x={},k;for(k in s)x[k]=n[k];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=n,r.__reactInternalMemoizedMaskedChildContext=x),x}function Zr(r){return r=r.childContextTypes,r!=null}function cl(){ar($r),ar(Ur)}function yh(r,n,s){if(Ur.current!==wo)throw Error(et(168));rr(Ur,n),rr($r,s)}function Am(r,n,s){var f=r.stateNode;if(n=n.childContextTypes,typeof f.getChildContext!="function")return s;f=f.getChildContext();for(var x in f)if(!(x in n))throw Error(et(108,_0(r)||"Unknown",x));return hr({},s,f)}function dl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||wo,Xo=Ur.current,rr(Ur,r),rr($r,$r.current),!0}function gh(r,n,s){var f=r.stateNode;if(!f)throw Error(et(169));s?(r=Am(r,n,Xo),f.__reactInternalMemoizedMergedChildContext=r,ar($r),ar(Ur),rr(Ur,r)):ar($r),rr($r,s)}var Nn=null,Vl=!1,Du=!1;function Om(r){Nn===null?Nn=[r]:Nn.push(r)}function Fv(r){Vl=!0,Om(r)}function Eo(){if(!Du&&Nn!==null){Du=!0;var r=0,n=$t;try{var s=Nn;for($t=1;r<s.length;r++){var f=s[r];do f=f(!0);while(f!==null)}Nn=null,Vl=!1}catch(x){throw Nn!==null&&(Nn=Nn.slice(r+1)),nm(id,Eo),x}finally{$t=n,Du=!1}}return null}var bs=[],_s=0,fl=null,hl=0,dn=[],fn=0,$o=null,zn=1,Vn="";function ko(r,n){bs[_s++]=hl,bs[_s++]=fl,fl=r,hl=n}function Rm(r,n,s){dn[fn++]=zn,dn[fn++]=Vn,dn[fn++]=$o,$o=r;var f=zn;r=Vn;var x=32-Sn(f)-1;f&=~(1<<x),s+=1;var k=32-Sn(n)+x;if(30<k){var F=x-x%5;k=(f&(1<<F)-1).toString(32),f>>=F,x-=F,zn=1<<32-Sn(n)+x|s<<x|f,Vn=k+r}else zn=1<<k|s<<x|f,Vn=r}function md(r){r.return!==null&&(ko(r,1),Rm(r,1,0))}function yd(r){for(;r===fl;)fl=bs[--_s],bs[_s]=null,hl=bs[--_s],bs[_s]=null;for(;r===$o;)$o=dn[--fn],dn[fn]=null,Vn=dn[--fn],dn[fn]=null,zn=dn[--fn],dn[fn]=null}var rn=null,en=null,ur=!1,jn=null;function Lm(r,n){var s=hn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=r,n=r.deletions,n===null?(r.deletions=[s],r.flags|=16):n.push(s)}function vh(r,n){switch(r.tag){case 5:var s=r.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(r.stateNode=n,rn=r,en=mo(n.firstChild),!0):!1;case 6:return n=r.pendingProps===""||n.nodeType!==3?null:n,n!==null?(r.stateNode=n,rn=r,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=$o!==null?{id:zn,overflow:Vn}:null,r.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=hn(18,null,null,0),s.stateNode=n,s.return=r,r.child=s,rn=r,en=null,!0):!1;default:return!1}}function jc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Sc(r){if(ur){var n=en;if(n){var s=n;if(!vh(r,n)){if(jc(r))throw Error(et(418));n=mo(s.nextSibling);var f=rn;n&&vh(r,n)?Lm(f,s):(r.flags=r.flags&-4097|2,ur=!1,rn=r)}}else{if(jc(r))throw Error(et(418));r.flags=r.flags&-4097|2,ur=!1,rn=r}}}function bh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;rn=r}function Ia(r){if(r!==rn)return!1;if(!ur)return bh(r),ur=!0,!1;var n;if((n=r.tag!==3)&&!(n=r.tag!==5)&&(n=r.type,n=n!=="head"&&n!=="body"&&!bc(r.type,r.memoizedProps)),n&&(n=en)){if(jc(r))throw Dm(),Error(et(418));for(;n;)Lm(r,n),n=mo(n.nextSibling)}if(bh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(et(317));e:{for(r=r.nextSibling,n=0;r;){if(r.nodeType===8){var s=r.data;if(s==="/$"){if(n===0){en=mo(r.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}r=r.nextSibling}en=null}}else en=rn?mo(r.stateNode.nextSibling):null;return!0}function Dm(){for(var r=en;r;)r=mo(r.nextSibling)}function Ys(){en=rn=null,ur=!1}function gd(r){jn===null?jn=[r]:jn.push(r)}var Nv=Zn.ReactCurrentBatchConfig;function pi(r,n,s){if(r=s.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(et(309));var f=s.stateNode}if(!f)throw Error(et(147,r));var x=f,k=""+r;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===k?n.ref:(n=function(F){var t=x.refs;F===null?delete t[k]:t[k]=F},n._stringRef=k,n)}if(typeof r!="string")throw Error(et(284));if(!s._owner)throw Error(et(290,r))}return r}function Fa(r,n){throw r=Object.prototype.toString.call(n),Error(et(31,r==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":r))}function _h(r){var n=r._init;return n(r._payload)}function Im(r){function n(u,i){if(r){var d=u.deletions;d===null?(u.deletions=[i],u.flags|=16):d.push(i)}}function s(u,i){if(!r)return null;for(;i!==null;)n(u,i),i=i.sibling;return null}function f(u,i){for(u=new Map;i!==null;)i.key!==null?u.set(i.key,i):u.set(i.index,i),i=i.sibling;return u}function x(u,i){return u=bo(u,i),u.index=0,u.sibling=null,u}function k(u,i,d){return u.index=d,r?(d=u.alternate,d!==null?(d=d.index,d<i?(u.flags|=2,i):d):(u.flags|=2,i)):(u.flags|=1048576,i)}function F(u){return r&&u.alternate===null&&(u.flags|=2),u}function t(u,i,d,p){return i===null||i.tag!==6?(i=zu(d,u.mode,p),i.return=u,i):(i=x(i,d),i.return=u,i)}function C(u,i,d,p){var v=d.type;return v===hs?y(u,i,d.props.children,p,d.key):i!==null&&(i.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===ro&&_h(v)===i.type)?(p=x(i,d.props),p.ref=pi(u,i,d),p.return=u,p):(p=Ja(d.type,d.key,d.props,null,u.mode,p),p.ref=pi(u,i,d),p.return=u,p)}function S(u,i,d,p){return i===null||i.tag!==4||i.stateNode.containerInfo!==d.containerInfo||i.stateNode.implementation!==d.implementation?(i=Vu(d,u.mode,p),i.return=u,i):(i=x(i,d.children||[]),i.return=u,i)}function y(u,i,d,p,v){return i===null||i.tag!==7?(i=Wo(d,u.mode,p,v),i.return=u,i):(i=x(i,d),i.return=u,i)}function o(u,i,d){if(typeof i=="string"&&i!==""||typeof i=="number")return i=zu(""+i,u.mode,d),i.return=u,i;if(typeof i=="object"&&i!==null){switch(i.$$typeof){case Ta:return d=Ja(i.type,i.key,i.props,null,u.mode,d),d.ref=pi(u,null,i),d.return=u,d;case fs:return i=Vu(i,u.mode,d),i.return=u,i;case ro:var p=i._init;return o(u,p(i._payload),d)}if(xi(i)||ui(i))return i=Wo(i,u.mode,d,null),i.return=u,i;Fa(u,i)}return null}function a(u,i,d,p){var v=i!==null?i.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return v!==null?null:t(u,i,""+d,p);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ta:return d.key===v?C(u,i,d,p):null;case fs:return d.key===v?S(u,i,d,p):null;case ro:return v=d._init,a(u,i,v(d._payload),p)}if(xi(d)||ui(d))return v!==null?null:y(u,i,d,p,null);Fa(u,d)}return null}function g(u,i,d,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return u=u.get(d)||null,t(i,u,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ta:return u=u.get(p.key===null?d:p.key)||null,C(i,u,p,v);case fs:return u=u.get(p.key===null?d:p.key)||null,S(i,u,p,v);case ro:var h=p._init;return g(u,i,d,h(p._payload),v)}if(xi(p)||ui(p))return u=u.get(d)||null,y(i,u,p,v,null);Fa(i,p)}return null}function b(u,i,d,p){for(var v=null,h=null,w=i,_=i=0,E=null;w!==null&&_<d.length;_++){w.index>_?(E=w,w=null):E=w.sibling;var R=a(u,w,d[_],p);if(R===null){w===null&&(w=E);break}r&&w&&R.alternate===null&&n(u,w),i=k(R,i,_),h===null?v=R:h.sibling=R,h=R,w=E}if(_===d.length)return s(u,w),ur&&ko(u,_),v;if(w===null){for(;_<d.length;_++)w=o(u,d[_],p),w!==null&&(i=k(w,i,_),h===null?v=w:h.sibling=w,h=w);return ur&&ko(u,_),v}for(w=f(u,w);_<d.length;_++)E=g(w,u,_,d[_],p),E!==null&&(r&&E.alternate!==null&&w.delete(E.key===null?_:E.key),i=k(E,i,_),h===null?v=E:h.sibling=E,h=E);return r&&w.forEach(function(P){return n(u,P)}),ur&&ko(u,_),v}function l(u,i,d,p){var v=ui(d);if(typeof v!="function")throw Error(et(150));if(d=v.call(d),d==null)throw Error(et(151));for(var h=v=null,w=i,_=i=0,E=null,R=d.next();w!==null&&!R.done;_++,R=d.next()){w.index>_?(E=w,w=null):E=w.sibling;var P=a(u,w,R.value,p);if(P===null){w===null&&(w=E);break}r&&w&&P.alternate===null&&n(u,w),i=k(P,i,_),h===null?v=P:h.sibling=P,h=P,w=E}if(R.done)return s(u,w),ur&&ko(u,_),v;if(w===null){for(;!R.done;_++,R=d.next())R=o(u,R.value,p),R!==null&&(i=k(R,i,_),h===null?v=R:h.sibling=R,h=R);return ur&&ko(u,_),v}for(w=f(u,w);!R.done;_++,R=d.next())R=g(w,u,_,R.value,p),R!==null&&(r&&R.alternate!==null&&w.delete(R.key===null?_:R.key),i=k(R,i,_),h===null?v=R:h.sibling=R,h=R);return r&&w.forEach(function(T){return n(u,T)}),ur&&ko(u,_),v}function c(u,i,d,p){if(typeof d=="object"&&d!==null&&d.type===hs&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case Ta:e:{for(var v=d.key,h=i;h!==null;){if(h.key===v){if(v=d.type,v===hs){if(h.tag===7){s(u,h.sibling),i=x(h,d.props.children),i.return=u,u=i;break e}}else if(h.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===ro&&_h(v)===h.type){s(u,h.sibling),i=x(h,d.props),i.ref=pi(u,h,d),i.return=u,u=i;break e}s(u,h);break}else n(u,h);h=h.sibling}d.type===hs?(i=Wo(d.props.children,u.mode,p,d.key),i.return=u,u=i):(p=Ja(d.type,d.key,d.props,null,u.mode,p),p.ref=pi(u,i,d),p.return=u,u=p)}return F(u);case fs:e:{for(h=d.key;i!==null;){if(i.key===h)if(i.tag===4&&i.stateNode.containerInfo===d.containerInfo&&i.stateNode.implementation===d.implementation){s(u,i.sibling),i=x(i,d.children||[]),i.return=u,u=i;break e}else{s(u,i);break}else n(u,i);i=i.sibling}i=Vu(d,u.mode,p),i.return=u,u=i}return F(u);case ro:return h=d._init,c(u,i,h(d._payload),p)}if(xi(d))return b(u,i,d,p);if(ui(d))return l(u,i,d,p);Fa(u,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,i!==null&&i.tag===6?(s(u,i.sibling),i=x(i,d),i.return=u,u=i):(s(u,i),i=zu(d,u.mode,p),i.return=u,u=i),F(u)):s(u,i)}return c}var Xs=Im(!0),Fm=Im(!1),pl=So(null),ml=null,ws=null,vd=null;function bd(){vd=ws=ml=null}function _d(r){var n=pl.current;ar(pl),r._currentValue=n}function Ec(r,n,s){for(;r!==null;){var f=r.alternate;if((r.childLanes&n)!==n?(r.childLanes|=n,f!==null&&(f.childLanes|=n)):f!==null&&(f.childLanes&n)!==n&&(f.childLanes|=n),r===s)break;r=r.return}}function Cs(r,n){ml=r,vd=ws=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&n&&(Xr=!0),r.firstContext=null)}function mn(r){var n=r._currentValue;if(vd!==r)if(r={context:r,memoizedValue:n,next:null},ws===null){if(ml===null)throw Error(et(308));ws=r,ml.dependencies={lanes:0,firstContext:r}}else ws=ws.next=r;return n}var Oo=null;function wd(r){Oo===null?Oo=[r]:Oo.push(r)}function Nm(r,n,s,f){var x=n.interleaved;return x===null?(s.next=s,wd(n)):(s.next=x.next,x.next=s),n.interleaved=s,Xn(r,f)}function Xn(r,n){r.lanes|=n;var s=r.alternate;for(s!==null&&(s.lanes|=n),s=r,r=r.return;r!==null;)r.childLanes|=n,s=r.alternate,s!==null&&(s.childLanes|=n),s=r,r=r.return;return s.tag===3?s.stateNode:null}var no=!1;function xd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Um(r,n){r=r.updateQueue,n.updateQueue===r&&(n.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Hn(r,n){return{eventTime:r,lane:n,tag:0,payload:null,callback:null,next:null}}function yo(r,n,s){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,zt&2){var x=f.pending;return x===null?n.next=n:(n.next=x.next,x.next=n),f.pending=n,Xn(r,s)}return x=f.interleaved,x===null?(n.next=n,wd(f)):(n.next=x.next,x.next=n),f.interleaved=n,Xn(r,s)}function Ya(r,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var f=n.lanes;f&=r.pendingLanes,s|=f,n.lanes=s,ad(r,s)}}function wh(r,n){var s=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,s===f)){var x=null,k=null;if(s=s.firstBaseUpdate,s!==null){do{var F={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};k===null?x=k=F:k=k.next=F,s=s.next}while(s!==null);k===null?x=k=n:k=k.next=n}else x=k=n;s={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:k,shared:f.shared,effects:f.effects},r.updateQueue=s;return}r=s.lastBaseUpdate,r===null?s.firstBaseUpdate=n:r.next=n,s.lastBaseUpdate=n}function yl(r,n,s,f){var x=r.updateQueue;no=!1;var k=x.firstBaseUpdate,F=x.lastBaseUpdate,t=x.shared.pending;if(t!==null){x.shared.pending=null;var C=t,S=C.next;C.next=null,F===null?k=S:F.next=S,F=C;var y=r.alternate;y!==null&&(y=y.updateQueue,t=y.lastBaseUpdate,t!==F&&(t===null?y.firstBaseUpdate=S:t.next=S,y.lastBaseUpdate=C))}if(k!==null){var o=x.baseState;F=0,y=S=C=null,t=k;do{var a=t.lane,g=t.eventTime;if((f&a)===a){y!==null&&(y=y.next={eventTime:g,lane:0,tag:t.tag,payload:t.payload,callback:t.callback,next:null});e:{var b=r,l=t;switch(a=n,g=s,l.tag){case 1:if(b=l.payload,typeof b=="function"){o=b.call(g,o,a);break e}o=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=l.payload,a=typeof b=="function"?b.call(g,o,a):b,a==null)break e;o=hr({},o,a);break e;case 2:no=!0}}t.callback!==null&&t.lane!==0&&(r.flags|=64,a=x.effects,a===null?x.effects=[t]:a.push(t))}else g={eventTime:g,lane:a,tag:t.tag,payload:t.payload,callback:t.callback,next:null},y===null?(S=y=g,C=o):y=y.next=g,F|=a;if(t=t.next,t===null){if(t=x.shared.pending,t===null)break;a=t,t=a.next,a.next=null,x.lastBaseUpdate=a,x.shared.pending=null}}while(1);if(y===null&&(C=o),x.baseState=C,x.firstBaseUpdate=S,x.lastBaseUpdate=y,n=x.shared.interleaved,n!==null){x=n;do F|=x.lane,x=x.next;while(x!==n)}else k===null&&(x.shared.lanes=0);Qo|=F,r.lanes=F,r.memoizedState=o}}function xh(r,n,s){if(r=n.effects,n.effects=null,r!==null)for(n=0;n<r.length;n++){var f=r[n],x=f.callback;if(x!==null){if(f.callback=null,f=s,typeof x!="function")throw Error(et(191,x));x.call(f)}}}var ma={},Rn=So(ma),Yi=So(ma),Xi=So(ma);function Ro(r){if(r===ma)throw Error(et(174));return r}function jd(r,n){switch(rr(Xi,n),rr(Yi,r),rr(Rn,ma),r=n.nodeType,r){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:sc(null,"");break;default:r=r===8?n.parentNode:n,n=r.namespaceURI||null,r=r.tagName,n=sc(n,r)}ar(Rn),rr(Rn,n)}function $s(){ar(Rn),ar(Yi),ar(Xi)}function Bm(r){Ro(Xi.current);var n=Ro(Rn.current),s=sc(n,r.type);n!==s&&(rr(Yi,r),rr(Rn,s))}function Sd(r){Yi.current===r&&(ar(Rn),ar(Yi))}var dr=So(0);function gl(r){for(var n=r;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Iu=[];function Ed(){for(var r=0;r<Iu.length;r++)Iu[r]._workInProgressVersionPrimary=null;Iu.length=0}var Xa=Zn.ReactCurrentDispatcher,Fu=Zn.ReactCurrentBatchConfig,Zo=0,fr=null,kr=null,Cr=null,vl=!1,Oi=!1,$i=0,Uv=0;function Ir(){throw Error(et(321))}function Td(r,n){if(n===null)return!1;for(var s=0;s<n.length&&s<r.length;s++)if(!Tn(r[s],n[s]))return!1;return!0}function kd(r,n,s,f,x,k){if(Zo=k,fr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Xa.current=r===null||r.memoizedState===null?Vv:Hv,r=s(f,x),Oi){k=0;do{if(Oi=!1,$i=0,25<=k)throw Error(et(301));k+=1,Cr=kr=null,n.updateQueue=null,Xa.current=Wv,r=s(f,x)}while(Oi)}if(Xa.current=bl,n=kr!==null&&kr.next!==null,Zo=0,Cr=kr=fr=null,vl=!1,n)throw Error(et(300));return r}function Md(){var r=$i!==0;return $i=0,r}function Pn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?fr.memoizedState=Cr=r:Cr=Cr.next=r,Cr}function yn(){if(kr===null){var r=fr.alternate;r=r!==null?r.memoizedState:null}else r=kr.next;var n=Cr===null?fr.memoizedState:Cr.next;if(n!==null)Cr=n,kr=r;else{if(r===null)throw Error(et(310));kr=r,r={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Cr===null?fr.memoizedState=Cr=r:Cr=Cr.next=r}return Cr}function Zi(r,n){return typeof n=="function"?n(r):n}function Nu(r){var n=yn(),s=n.queue;if(s===null)throw Error(et(311));s.lastRenderedReducer=r;var f=kr,x=f.baseQueue,k=s.pending;if(k!==null){if(x!==null){var F=x.next;x.next=k.next,k.next=F}f.baseQueue=x=k,s.pending=null}if(x!==null){k=x.next,f=f.baseState;var t=F=null,C=null,S=k;do{var y=S.lane;if((Zo&y)===y)C!==null&&(C=C.next={lane:0,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),f=S.hasEagerState?S.eagerState:r(f,S.action);else{var o={lane:y,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null};C===null?(t=C=o,F=f):C=C.next=o,fr.lanes|=y,Qo|=y}S=S.next}while(S!==null&&S!==k);C===null?F=f:C.next=t,Tn(f,n.memoizedState)||(Xr=!0),n.memoizedState=f,n.baseState=F,n.baseQueue=C,s.lastRenderedState=f}if(r=s.interleaved,r!==null){x=r;do k=x.lane,fr.lanes|=k,Qo|=k,x=x.next;while(x!==r)}else x===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Uu(r){var n=yn(),s=n.queue;if(s===null)throw Error(et(311));s.lastRenderedReducer=r;var f=s.dispatch,x=s.pending,k=n.memoizedState;if(x!==null){s.pending=null;var F=x=x.next;do k=r(k,F.action),F=F.next;while(F!==x);Tn(k,n.memoizedState)||(Xr=!0),n.memoizedState=k,n.baseQueue===null&&(n.baseState=k),s.lastRenderedState=k}return[k,f]}function Gm(){}function zm(r,n){var s=fr,f=yn(),x=n(),k=!Tn(f.memoizedState,x);if(k&&(f.memoizedState=x,Xr=!0),f=f.queue,Cd(Wm.bind(null,s,f,r),[r]),f.getSnapshot!==n||k||Cr!==null&&Cr.memoizedState.tag&1){if(s.flags|=2048,Qi(9,Hm.bind(null,s,f,x,n),void 0,null),Pr===null)throw Error(et(349));Zo&30||Vm(s,n,x)}return x}function Vm(r,n,s){r.flags|=16384,r={getSnapshot:n,value:s},n=fr.updateQueue,n===null?(n={lastEffect:null,stores:null},fr.updateQueue=n,n.stores=[r]):(s=n.stores,s===null?n.stores=[r]:s.push(r))}function Hm(r,n,s,f){n.value=s,n.getSnapshot=f,qm(n)&&Ym(r)}function Wm(r,n,s){return s(function(){qm(n)&&Ym(r)})}function qm(r){var n=r.getSnapshot;r=r.value;try{var s=n();return!Tn(r,s)}catch{return!0}}function Ym(r){var n=Xn(r,1);n!==null&&En(n,r,1,-1)}function jh(r){var n=Pn();return typeof r=="function"&&(r=r()),n.memoizedState=n.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:r},n.queue=r,r=r.dispatch=zv.bind(null,fr,r),[n.memoizedState,r]}function Qi(r,n,s,f){return r={tag:r,create:n,destroy:s,deps:f,next:null},n=fr.updateQueue,n===null?(n={lastEffect:null,stores:null},fr.updateQueue=n,n.lastEffect=r.next=r):(s=n.lastEffect,s===null?n.lastEffect=r.next=r:(f=s.next,s.next=r,r.next=f,n.lastEffect=r)),r}function Xm(){return yn().memoizedState}function $a(r,n,s,f){var x=Pn();fr.flags|=r,x.memoizedState=Qi(1|n,s,void 0,f===void 0?null:f)}function Hl(r,n,s,f){var x=yn();f=f===void 0?null:f;var k=void 0;if(kr!==null){var F=kr.memoizedState;if(k=F.destroy,f!==null&&Td(f,F.deps)){x.memoizedState=Qi(n,s,k,f);return}}fr.flags|=r,x.memoizedState=Qi(1|n,s,k,f)}function Sh(r,n){return $a(8390656,8,r,n)}function Cd(r,n){return Hl(2048,8,r,n)}function $m(r,n){return Hl(4,2,r,n)}function Zm(r,n){return Hl(4,4,r,n)}function Qm(r,n){if(typeof n=="function")return r=r(),n(r),function(){n(null)};if(n!=null)return r=r(),n.current=r,function(){n.current=null}}function Km(r,n,s){return s=s!=null?s.concat([r]):null,Hl(4,4,Qm.bind(null,n,r),s)}function Pd(){}function Jm(r,n){var s=yn();n=n===void 0?null:n;var f=s.memoizedState;return f!==null&&n!==null&&Td(n,f[1])?f[0]:(s.memoizedState=[r,n],r)}function ey(r,n){var s=yn();n=n===void 0?null:n;var f=s.memoizedState;return f!==null&&n!==null&&Td(n,f[1])?f[0]:(r=r(),s.memoizedState=[r,n],r)}function ty(r,n,s){return Zo&21?(Tn(s,n)||(s=im(),fr.lanes|=s,Qo|=s,r.baseState=!0),n):(r.baseState&&(r.baseState=!1,Xr=!0),r.memoizedState=s)}function Bv(r,n){var s=$t;$t=s!==0&&4>s?s:4,r(!0);var f=Fu.transition;Fu.transition={};try{r(!1),n()}finally{$t=s,Fu.transition=f}}function ry(){return yn().memoizedState}function Gv(r,n,s){var f=vo(r);if(s={lane:f,action:s,hasEagerState:!1,eagerState:null,next:null},ny(r))oy(n,s);else if(s=Nm(r,n,s,f),s!==null){var x=zr();En(s,r,f,x),sy(s,n,f)}}function zv(r,n,s){var f=vo(r),x={lane:f,action:s,hasEagerState:!1,eagerState:null,next:null};if(ny(r))oy(n,x);else{var k=r.alternate;if(r.lanes===0&&(k===null||k.lanes===0)&&(k=n.lastRenderedReducer,k!==null))try{var F=n.lastRenderedState,t=k(F,s);if(x.hasEagerState=!0,x.eagerState=t,Tn(t,F)){var C=n.interleaved;C===null?(x.next=x,wd(n)):(x.next=C.next,C.next=x),n.interleaved=x;return}}catch{}finally{}s=Nm(r,n,x,f),s!==null&&(x=zr(),En(s,r,f,x),sy(s,n,f))}}function ny(r){var n=r.alternate;return r===fr||n!==null&&n===fr}function oy(r,n){Oi=vl=!0;var s=r.pending;s===null?n.next=n:(n.next=s.next,s.next=n),r.pending=n}function sy(r,n,s){if(s&4194240){var f=n.lanes;f&=r.pendingLanes,s|=f,n.lanes=s,ad(r,s)}}var bl={readContext:mn,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},Vv={readContext:mn,useCallback:function(r,n){return Pn().memoizedState=[r,n===void 0?null:n],r},useContext:mn,useEffect:Sh,useImperativeHandle:function(r,n,s){return s=s!=null?s.concat([r]):null,$a(4194308,4,Qm.bind(null,n,r),s)},useLayoutEffect:function(r,n){return $a(4194308,4,r,n)},useInsertionEffect:function(r,n){return $a(4,2,r,n)},useMemo:function(r,n){var s=Pn();return n=n===void 0?null:n,r=r(),s.memoizedState=[r,n],r},useReducer:function(r,n,s){var f=Pn();return n=s!==void 0?s(n):n,f.memoizedState=f.baseState=n,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:n},f.queue=r,r=r.dispatch=Gv.bind(null,fr,r),[f.memoizedState,r]},useRef:function(r){var n=Pn();return r={current:r},n.memoizedState=r},useState:jh,useDebugValue:Pd,useDeferredValue:function(r){return Pn().memoizedState=r},useTransition:function(){var r=jh(!1),n=r[0];return r=Bv.bind(null,r[1]),Pn().memoizedState=r,[n,r]},useMutableSource:function(){},useSyncExternalStore:function(r,n,s){var f=fr,x=Pn();if(ur){if(s===void 0)throw Error(et(407));s=s()}else{if(s=n(),Pr===null)throw Error(et(349));Zo&30||Vm(f,n,s)}x.memoizedState=s;var k={value:s,getSnapshot:n};return x.queue=k,Sh(Wm.bind(null,f,k,r),[r]),f.flags|=2048,Qi(9,Hm.bind(null,f,k,s,n),void 0,null),s},useId:function(){var r=Pn(),n=Pr.identifierPrefix;if(ur){var s=Vn,f=zn;s=(f&~(1<<32-Sn(f)-1)).toString(32)+s,n=":"+n+"R"+s,s=$i++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Uv++,n=":"+n+"r"+s.toString(32)+":";return r.memoizedState=n},unstable_isNewReconciler:!1},Hv={readContext:mn,useCallback:Jm,useContext:mn,useEffect:Cd,useImperativeHandle:Km,useInsertionEffect:$m,useLayoutEffect:Zm,useMemo:ey,useReducer:Nu,useRef:Xm,useState:function(){return Nu(Zi)},useDebugValue:Pd,useDeferredValue:function(r){var n=yn();return ty(n,kr.memoizedState,r)},useTransition:function(){var r=Nu(Zi)[0],n=yn().memoizedState;return[r,n]},useMutableSource:Gm,useSyncExternalStore:zm,useId:ry,unstable_isNewReconciler:!1},Wv={readContext:mn,useCallback:Jm,useContext:mn,useEffect:Cd,useImperativeHandle:Km,useInsertionEffect:$m,useLayoutEffect:Zm,useMemo:ey,useReducer:Uu,useRef:Xm,useState:function(){return Uu(Zi)},useDebugValue:Pd,useDeferredValue:function(r){var n=yn();return kr===null?n.memoizedState=r:ty(n,kr.memoizedState,r)},useTransition:function(){var r=Uu(Zi)[0],n=yn().memoizedState;return[r,n]},useMutableSource:Gm,useSyncExternalStore:zm,useId:ry,unstable_isNewReconciler:!1};function _n(r,n){if(r&&r.defaultProps){n=hr({},n),r=r.defaultProps;for(var s in r)n[s]===void 0&&(n[s]=r[s]);return n}return n}function Tc(r,n,s,f){n=r.memoizedState,s=s(f,n),s=s==null?n:hr({},n,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var Wl={isMounted:function(r){return(r=r._reactInternals)?rs(r)===r:!1},enqueueSetState:function(r,n,s){r=r._reactInternals;var f=zr(),x=vo(r),k=Hn(f,x);k.payload=n,s!=null&&(k.callback=s),n=yo(r,k,x),n!==null&&(En(n,r,x,f),Ya(n,r,x))},enqueueReplaceState:function(r,n,s){r=r._reactInternals;var f=zr(),x=vo(r),k=Hn(f,x);k.tag=1,k.payload=n,s!=null&&(k.callback=s),n=yo(r,k,x),n!==null&&(En(n,r,x,f),Ya(n,r,x))},enqueueForceUpdate:function(r,n){r=r._reactInternals;var s=zr(),f=vo(r),x=Hn(s,f);x.tag=2,n!=null&&(x.callback=n),n=yo(r,x,f),n!==null&&(En(n,r,f,s),Ya(n,r,f))}};function Eh(r,n,s,f,x,k,F){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,k,F):n.prototype&&n.prototype.isPureReactComponent?!Vi(s,f)||!Vi(x,k):!0}function iy(r,n,s){var f=!1,x=wo,k=n.contextType;return typeof k=="object"&&k!==null?k=mn(k):(x=Zr(n)?Xo:Ur.current,f=n.contextTypes,k=(f=f!=null)?qs(r,x):wo),n=new n(s,k),r.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Wl,r.stateNode=n,n._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=x,r.__reactInternalMemoizedMaskedChildContext=k),n}function Th(r,n,s,f){r=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,f),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,f),n.state!==r&&Wl.enqueueReplaceState(n,n.state,null)}function kc(r,n,s,f){var x=r.stateNode;x.props=s,x.state=r.memoizedState,x.refs={},xd(r);var k=n.contextType;typeof k=="object"&&k!==null?x.context=mn(k):(k=Zr(n)?Xo:Ur.current,x.context=qs(r,k)),x.state=r.memoizedState,k=n.getDerivedStateFromProps,typeof k=="function"&&(Tc(r,n,k,s),x.state=r.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(n=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),n!==x.state&&Wl.enqueueReplaceState(x,x.state,null),yl(r,s,x,f),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308)}function Zs(r,n){try{var s="",f=n;do s+=b0(f),f=f.return;while(f);var x=s}catch(k){x=`
Error generating stack: `+k.message+`
`+k.stack}return{value:r,source:n,stack:x,digest:null}}function Bu(r,n,s){return{value:r,source:null,stack:s??null,digest:n??null}}function Mc(r,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var qv=typeof WeakMap=="function"?WeakMap:Map;function ay(r,n,s){s=Hn(-1,s),s.tag=3,s.payload={element:null};var f=n.value;return s.callback=function(){wl||(wl=!0,Nc=f),Mc(r,n)},s}function ly(r,n,s){s=Hn(-1,s),s.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var x=n.value;s.payload=function(){return f(x)},s.callback=function(){Mc(r,n)}}var k=r.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(s.callback=function(){Mc(r,n),typeof f!="function"&&(go===null?go=new Set([this]):go.add(this));var F=n.stack;this.componentDidCatch(n.value,{componentStack:F!==null?F:""})}),s}function kh(r,n,s){var f=r.pingCache;if(f===null){f=r.pingCache=new qv;var x=new Set;f.set(n,x)}else x=f.get(n),x===void 0&&(x=new Set,f.set(n,x));x.has(s)||(x.add(s),r=i1.bind(null,r,n,s),n.then(r,r))}function Mh(r){do{var n;if((n=r.tag===13)&&(n=r.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return r;r=r.return}while(r!==null);return null}function Ch(r,n,s,f,x){return r.mode&1?(r.flags|=65536,r.lanes=x,r):(r===n?r.flags|=65536:(r.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Hn(-1,1),n.tag=2,yo(s,n,1))),s.lanes|=1),r)}var Yv=Zn.ReactCurrentOwner,Xr=!1;function Gr(r,n,s,f){n.child=r===null?Fm(n,null,s,f):Xs(n,r.child,s,f)}function Ph(r,n,s,f,x){s=s.render;var k=n.ref;return Cs(n,x),f=kd(r,n,s,f,k,x),s=Md(),r!==null&&!Xr?(n.updateQueue=r.updateQueue,n.flags&=-2053,r.lanes&=~x,$n(r,n,x)):(ur&&s&&md(n),n.flags|=1,Gr(r,n,f,x),n.child)}function Ah(r,n,s,f,x){if(r===null){var k=s.type;return typeof k=="function"&&!Nd(k)&&k.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=k,uy(r,n,k,f,x)):(r=Ja(s.type,null,f,n,n.mode,x),r.ref=n.ref,r.return=n,n.child=r)}if(k=r.child,!(r.lanes&x)){var F=k.memoizedProps;if(s=s.compare,s=s!==null?s:Vi,s(F,f)&&r.ref===n.ref)return $n(r,n,x)}return n.flags|=1,r=bo(k,f),r.ref=n.ref,r.return=n,n.child=r}function uy(r,n,s,f,x){if(r!==null){var k=r.memoizedProps;if(Vi(k,f)&&r.ref===n.ref)if(Xr=!1,n.pendingProps=f=k,(r.lanes&x)!==0)r.flags&131072&&(Xr=!0);else return n.lanes=r.lanes,$n(r,n,x)}return Cc(r,n,s,f,x)}function cy(r,n,s){var f=n.pendingProps,x=f.children,k=r!==null?r.memoizedState:null;if(f.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr(js,Kr),Kr|=s;else{if(!(s&1073741824))return r=k!==null?k.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:r,cachePool:null,transitions:null},n.updateQueue=null,rr(js,Kr),Kr|=r,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=k!==null?k.baseLanes:s,rr(js,Kr),Kr|=f}else k!==null?(f=k.baseLanes|s,n.memoizedState=null):f=s,rr(js,Kr),Kr|=f;return Gr(r,n,x,s),n.child}function dy(r,n){var s=n.ref;(r===null&&s!==null||r!==null&&r.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Cc(r,n,s,f,x){var k=Zr(s)?Xo:Ur.current;return k=qs(n,k),Cs(n,x),s=kd(r,n,s,f,k,x),f=Md(),r!==null&&!Xr?(n.updateQueue=r.updateQueue,n.flags&=-2053,r.lanes&=~x,$n(r,n,x)):(ur&&f&&md(n),n.flags|=1,Gr(r,n,s,x),n.child)}function Oh(r,n,s,f,x){if(Zr(s)){var k=!0;dl(n)}else k=!1;if(Cs(n,x),n.stateNode===null)Za(r,n),iy(n,s,f),kc(n,s,f,x),f=!0;else if(r===null){var F=n.stateNode,t=n.memoizedProps;F.props=t;var C=F.context,S=s.contextType;typeof S=="object"&&S!==null?S=mn(S):(S=Zr(s)?Xo:Ur.current,S=qs(n,S));var y=s.getDerivedStateFromProps,o=typeof y=="function"||typeof F.getSnapshotBeforeUpdate=="function";o||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(t!==f||C!==S)&&Th(n,F,f,S),no=!1;var a=n.memoizedState;F.state=a,yl(n,f,F,x),C=n.memoizedState,t!==f||a!==C||$r.current||no?(typeof y=="function"&&(Tc(n,s,y,f),C=n.memoizedState),(t=no||Eh(n,s,t,f,a,C,S))?(o||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(n.flags|=4194308)):(typeof F.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=f,n.memoizedState=C),F.props=f,F.state=C,F.context=S,f=t):(typeof F.componentDidMount=="function"&&(n.flags|=4194308),f=!1)}else{F=n.stateNode,Um(r,n),t=n.memoizedProps,S=n.type===n.elementType?t:_n(n.type,t),F.props=S,o=n.pendingProps,a=F.context,C=s.contextType,typeof C=="object"&&C!==null?C=mn(C):(C=Zr(s)?Xo:Ur.current,C=qs(n,C));var g=s.getDerivedStateFromProps;(y=typeof g=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(t!==o||a!==C)&&Th(n,F,f,C),no=!1,a=n.memoizedState,F.state=a,yl(n,f,F,x);var b=n.memoizedState;t!==o||a!==b||$r.current||no?(typeof g=="function"&&(Tc(n,s,g,f),b=n.memoizedState),(S=no||Eh(n,s,S,f,a,b,C)||!1)?(y||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(f,b,C),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(f,b,C)),typeof F.componentDidUpdate=="function"&&(n.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof F.componentDidUpdate!="function"||t===r.memoizedProps&&a===r.memoizedState||(n.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||t===r.memoizedProps&&a===r.memoizedState||(n.flags|=1024),n.memoizedProps=f,n.memoizedState=b),F.props=f,F.state=b,F.context=C,f=S):(typeof F.componentDidUpdate!="function"||t===r.memoizedProps&&a===r.memoizedState||(n.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||t===r.memoizedProps&&a===r.memoizedState||(n.flags|=1024),f=!1)}return Pc(r,n,s,f,k,x)}function Pc(r,n,s,f,x,k){dy(r,n);var F=(n.flags&128)!==0;if(!f&&!F)return x&&gh(n,s,!1),$n(r,n,k);f=n.stateNode,Yv.current=n;var t=F&&typeof s.getDerivedStateFromError!="function"?null:f.render();return n.flags|=1,r!==null&&F?(n.child=Xs(n,r.child,null,k),n.child=Xs(n,null,t,k)):Gr(r,n,t,k),n.memoizedState=f.state,x&&gh(n,s,!0),n.child}function fy(r){var n=r.stateNode;n.pendingContext?yh(r,n.pendingContext,n.pendingContext!==n.context):n.context&&yh(r,n.context,!1),jd(r,n.containerInfo)}function Rh(r,n,s,f,x){return Ys(),gd(x),n.flags|=256,Gr(r,n,s,f),n.child}var Ac={dehydrated:null,treeContext:null,retryLane:0};function Oc(r){return{baseLanes:r,cachePool:null,transitions:null}}function hy(r,n,s){var f=n.pendingProps,x=dr.current,k=!1,F=(n.flags&128)!==0,t;if((t=F)||(t=r!==null&&r.memoizedState===null?!1:(x&2)!==0),t?(k=!0,n.flags&=-129):(r===null||r.memoizedState!==null)&&(x|=1),rr(dr,x&1),r===null)return Sc(n),r=n.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(n.mode&1?r.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(F=f.children,r=f.fallback,k?(f=n.mode,k=n.child,F={mode:"hidden",children:F},!(f&1)&&k!==null?(k.childLanes=0,k.pendingProps=F):k=Xl(F,f,0,null),r=Wo(r,f,s,null),k.return=n,r.return=n,k.sibling=r,n.child=k,n.child.memoizedState=Oc(s),n.memoizedState=Ac,r):Ad(n,F));if(x=r.memoizedState,x!==null&&(t=x.dehydrated,t!==null))return Xv(r,n,F,f,t,x,s);if(k){k=f.fallback,F=n.mode,x=r.child,t=x.sibling;var C={mode:"hidden",children:f.children};return!(F&1)&&n.child!==x?(f=n.child,f.childLanes=0,f.pendingProps=C,n.deletions=null):(f=bo(x,C),f.subtreeFlags=x.subtreeFlags&14680064),t!==null?k=bo(t,k):(k=Wo(k,F,s,null),k.flags|=2),k.return=n,f.return=n,f.sibling=k,n.child=f,f=k,k=n.child,F=r.child.memoizedState,F=F===null?Oc(s):{baseLanes:F.baseLanes|s,cachePool:null,transitions:F.transitions},k.memoizedState=F,k.childLanes=r.childLanes&~s,n.memoizedState=Ac,f}return k=r.child,r=k.sibling,f=bo(k,{mode:"visible",children:f.children}),!(n.mode&1)&&(f.lanes=s),f.return=n,f.sibling=null,r!==null&&(s=n.deletions,s===null?(n.deletions=[r],n.flags|=16):s.push(r)),n.child=f,n.memoizedState=null,f}function Ad(r,n){return n=Xl({mode:"visible",children:n},r.mode,0,null),n.return=r,r.child=n}function Na(r,n,s,f){return f!==null&&gd(f),Xs(n,r.child,null,s),r=Ad(n,n.pendingProps.children),r.flags|=2,n.memoizedState=null,r}function Xv(r,n,s,f,x,k,F){if(s)return n.flags&256?(n.flags&=-257,f=Bu(Error(et(422))),Na(r,n,F,f)):n.memoizedState!==null?(n.child=r.child,n.flags|=128,null):(k=f.fallback,x=n.mode,f=Xl({mode:"visible",children:f.children},x,0,null),k=Wo(k,x,F,null),k.flags|=2,f.return=n,k.return=n,f.sibling=k,n.child=f,n.mode&1&&Xs(n,r.child,null,F),n.child.memoizedState=Oc(F),n.memoizedState=Ac,k);if(!(n.mode&1))return Na(r,n,F,null);if(x.data==="$!"){if(f=x.nextSibling&&x.nextSibling.dataset,f)var t=f.dgst;return f=t,k=Error(et(419)),f=Bu(k,f,void 0),Na(r,n,F,f)}if(t=(F&r.childLanes)!==0,Xr||t){if(f=Pr,f!==null){switch(F&-F){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=x&(f.suspendedLanes|F)?0:x,x!==0&&x!==k.retryLane&&(k.retryLane=x,Xn(r,x),En(f,r,x,-1))}return Fd(),f=Bu(Error(et(421))),Na(r,n,F,f)}return x.data==="$?"?(n.flags|=128,n.child=r.child,n=a1.bind(null,r),x._reactRetry=n,null):(r=k.treeContext,en=mo(x.nextSibling),rn=n,ur=!0,jn=null,r!==null&&(dn[fn++]=zn,dn[fn++]=Vn,dn[fn++]=$o,zn=r.id,Vn=r.overflow,$o=n),n=Ad(n,f.children),n.flags|=4096,n)}function Lh(r,n,s){r.lanes|=n;var f=r.alternate;f!==null&&(f.lanes|=n),Ec(r.return,n,s)}function Gu(r,n,s,f,x){var k=r.memoizedState;k===null?r.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:f,tail:s,tailMode:x}:(k.isBackwards=n,k.rendering=null,k.renderingStartTime=0,k.last=f,k.tail=s,k.tailMode=x)}function py(r,n,s){var f=n.pendingProps,x=f.revealOrder,k=f.tail;if(Gr(r,n,f.children,s),f=dr.current,f&2)f=f&1|2,n.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=n.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Lh(r,s,n);else if(r.tag===19)Lh(r,s,n);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(rr(dr,f),!(n.mode&1))n.memoizedState=null;else switch(x){case"forwards":for(s=n.child,x=null;s!==null;)r=s.alternate,r!==null&&gl(r)===null&&(x=s),s=s.sibling;s=x,s===null?(x=n.child,n.child=null):(x=s.sibling,s.sibling=null),Gu(n,!1,x,s,k);break;case"backwards":for(s=null,x=n.child,n.child=null;x!==null;){if(r=x.alternate,r!==null&&gl(r)===null){n.child=x;break}r=x.sibling,x.sibling=s,s=x,x=r}Gu(n,!0,s,null,k);break;case"together":Gu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Za(r,n){!(n.mode&1)&&r!==null&&(r.alternate=null,n.alternate=null,n.flags|=2)}function $n(r,n,s){if(r!==null&&(n.dependencies=r.dependencies),Qo|=n.lanes,!(s&n.childLanes))return null;if(r!==null&&n.child!==r.child)throw Error(et(153));if(n.child!==null){for(r=n.child,s=bo(r,r.pendingProps),n.child=s,s.return=n;r.sibling!==null;)r=r.sibling,s=s.sibling=bo(r,r.pendingProps),s.return=n;s.sibling=null}return n.child}function $v(r,n,s){switch(n.tag){case 3:fy(n),Ys();break;case 5:Bm(n);break;case 1:Zr(n.type)&&dl(n);break;case 4:jd(n,n.stateNode.containerInfo);break;case 10:var f=n.type._context,x=n.memoizedProps.value;rr(pl,f._currentValue),f._currentValue=x;break;case 13:if(f=n.memoizedState,f!==null)return f.dehydrated!==null?(rr(dr,dr.current&1),n.flags|=128,null):s&n.child.childLanes?hy(r,n,s):(rr(dr,dr.current&1),r=$n(r,n,s),r!==null?r.sibling:null);rr(dr,dr.current&1);break;case 19:if(f=(s&n.childLanes)!==0,r.flags&128){if(f)return py(r,n,s);n.flags|=128}if(x=n.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),rr(dr,dr.current),f)break;return null;case 22:case 23:return n.lanes=0,cy(r,n,s)}return $n(r,n,s)}var my,Rc,yy,gy;my=function(r,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)r.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Rc=function(){};yy=function(r,n,s,f){var x=r.memoizedProps;if(x!==f){r=n.stateNode,Ro(Rn.current);var k=null;switch(s){case"input":x=tc(r,x),f=tc(r,f),k=[];break;case"select":x=hr({},x,{value:void 0}),f=hr({},f,{value:void 0}),k=[];break;case"textarea":x=oc(r,x),f=oc(r,f),k=[];break;default:typeof x.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=ul)}ic(s,f);var F;s=null;for(S in x)if(!f.hasOwnProperty(S)&&x.hasOwnProperty(S)&&x[S]!=null)if(S==="style"){var t=x[S];for(F in t)t.hasOwnProperty(F)&&(s||(s={}),s[F]="")}else S!=="dangerouslySetInnerHTML"&&S!=="children"&&S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(Ii.hasOwnProperty(S)?k||(k=[]):(k=k||[]).push(S,null));for(S in f){var C=f[S];if(t=x!=null?x[S]:void 0,f.hasOwnProperty(S)&&C!==t&&(C!=null||t!=null))if(S==="style")if(t){for(F in t)!t.hasOwnProperty(F)||C&&C.hasOwnProperty(F)||(s||(s={}),s[F]="");for(F in C)C.hasOwnProperty(F)&&t[F]!==C[F]&&(s||(s={}),s[F]=C[F])}else s||(k||(k=[]),k.push(S,s)),s=C;else S==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,t=t?t.__html:void 0,C!=null&&t!==C&&(k=k||[]).push(S,C)):S==="children"?typeof C!="string"&&typeof C!="number"||(k=k||[]).push(S,""+C):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&(Ii.hasOwnProperty(S)?(C!=null&&S==="onScroll"&&ir("scroll",r),k||t===C||(k=[])):(k=k||[]).push(S,C))}s&&(k=k||[]).push("style",s);var S=k;(n.updateQueue=S)&&(n.flags|=4)}};gy=function(r,n,s,f){s!==f&&(n.flags|=4)};function mi(r,n){if(!ur)switch(r.tailMode){case"hidden":n=r.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?n||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Fr(r){var n=r.alternate!==null&&r.alternate.child===r.child,s=0,f=0;if(n)for(var x=r.child;x!==null;)s|=x.lanes|x.childLanes,f|=x.subtreeFlags&14680064,f|=x.flags&14680064,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)s|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=f,r.childLanes=s,n}function Zv(r,n,s){var f=n.pendingProps;switch(yd(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(n),null;case 1:return Zr(n.type)&&cl(),Fr(n),null;case 3:return f=n.stateNode,$s(),ar($r),ar(Ur),Ed(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Ia(n)?n.flags|=4:r===null||r.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,jn!==null&&(Gc(jn),jn=null))),Rc(r,n),Fr(n),null;case 5:Sd(n);var x=Ro(Xi.current);if(s=n.type,r!==null&&n.stateNode!=null)yy(r,n,s,f,x),r.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!f){if(n.stateNode===null)throw Error(et(166));return Fr(n),null}if(r=Ro(Rn.current),Ia(n)){f=n.stateNode,s=n.type;var k=n.memoizedProps;switch(f[An]=n,f[qi]=k,r=(n.mode&1)!==0,s){case"dialog":ir("cancel",f),ir("close",f);break;case"iframe":case"object":case"embed":ir("load",f);break;case"video":case"audio":for(x=0;x<Si.length;x++)ir(Si[x],f);break;case"source":ir("error",f);break;case"img":case"image":case"link":ir("error",f),ir("load",f);break;case"details":ir("toggle",f);break;case"input":Vf(f,k),ir("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!k.multiple},ir("invalid",f);break;case"textarea":Wf(f,k),ir("invalid",f)}ic(s,k),x=null;for(var F in k)if(k.hasOwnProperty(F)){var t=k[F];F==="children"?typeof t=="string"?f.textContent!==t&&(k.suppressHydrationWarning!==!0&&Da(f.textContent,t,r),x=["children",t]):typeof t=="number"&&f.textContent!==""+t&&(k.suppressHydrationWarning!==!0&&Da(f.textContent,t,r),x=["children",""+t]):Ii.hasOwnProperty(F)&&t!=null&&F==="onScroll"&&ir("scroll",f)}switch(s){case"input":ka(f),Hf(f,k,!0);break;case"textarea":ka(f),qf(f);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(f.onclick=ul)}f=x,n.updateQueue=f,f!==null&&(n.flags|=4)}else{F=x.nodeType===9?x:x.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Wp(s)),r==="http://www.w3.org/1999/xhtml"?s==="script"?(r=F.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=F.createElement(s,{is:f.is}):(r=F.createElement(s),s==="select"&&(F=r,f.multiple?F.multiple=!0:f.size&&(F.size=f.size))):r=F.createElementNS(r,s),r[An]=n,r[qi]=f,my(r,n,!1,!1),n.stateNode=r;e:{switch(F=ac(s,f),s){case"dialog":ir("cancel",r),ir("close",r),x=f;break;case"iframe":case"object":case"embed":ir("load",r),x=f;break;case"video":case"audio":for(x=0;x<Si.length;x++)ir(Si[x],r);x=f;break;case"source":ir("error",r),x=f;break;case"img":case"image":case"link":ir("error",r),ir("load",r),x=f;break;case"details":ir("toggle",r),x=f;break;case"input":Vf(r,f),x=tc(r,f),ir("invalid",r);break;case"option":x=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},x=hr({},f,{value:void 0}),ir("invalid",r);break;case"textarea":Wf(r,f),x=oc(r,f),ir("invalid",r);break;default:x=f}ic(s,x),t=x;for(k in t)if(t.hasOwnProperty(k)){var C=t[k];k==="style"?Xp(r,C):k==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&qp(r,C)):k==="children"?typeof C=="string"?(s!=="textarea"||C!=="")&&Fi(r,C):typeof C=="number"&&Fi(r,""+C):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(Ii.hasOwnProperty(k)?C!=null&&k==="onScroll"&&ir("scroll",r):C!=null&&td(r,k,C,F))}switch(s){case"input":ka(r),Hf(r,f,!1);break;case"textarea":ka(r),qf(r);break;case"option":f.value!=null&&r.setAttribute("value",""+_o(f.value));break;case"select":r.multiple=!!f.multiple,k=f.value,k!=null?Es(r,!!f.multiple,k,!1):f.defaultValue!=null&&Es(r,!!f.multiple,f.defaultValue,!0);break;default:typeof x.onClick=="function"&&(r.onclick=ul)}switch(s){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Fr(n),null;case 6:if(r&&n.stateNode!=null)gy(r,n,r.memoizedProps,f);else{if(typeof f!="string"&&n.stateNode===null)throw Error(et(166));if(s=Ro(Xi.current),Ro(Rn.current),Ia(n)){if(f=n.stateNode,s=n.memoizedProps,f[An]=n,(k=f.nodeValue!==s)&&(r=rn,r!==null))switch(r.tag){case 3:Da(f.nodeValue,s,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Da(f.nodeValue,s,(r.mode&1)!==0)}k&&(n.flags|=4)}else f=(s.nodeType===9?s:s.ownerDocument).createTextNode(f),f[An]=n,n.stateNode=f}return Fr(n),null;case 13:if(ar(dr),f=n.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ur&&en!==null&&n.mode&1&&!(n.flags&128))Dm(),Ys(),n.flags|=98560,k=!1;else if(k=Ia(n),f!==null&&f.dehydrated!==null){if(r===null){if(!k)throw Error(et(318));if(k=n.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(et(317));k[An]=n}else Ys(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Fr(n),k=!1}else jn!==null&&(Gc(jn),jn=null),k=!0;if(!k)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(n.child.flags|=8192,n.mode&1&&(r===null||dr.current&1?Mr===0&&(Mr=3):Fd())),n.updateQueue!==null&&(n.flags|=4),Fr(n),null);case 4:return $s(),Rc(r,n),r===null&&Hi(n.stateNode.containerInfo),Fr(n),null;case 10:return _d(n.type._context),Fr(n),null;case 17:return Zr(n.type)&&cl(),Fr(n),null;case 19:if(ar(dr),k=n.memoizedState,k===null)return Fr(n),null;if(f=(n.flags&128)!==0,F=k.rendering,F===null)if(f)mi(k,!1);else{if(Mr!==0||r!==null&&r.flags&128)for(r=n.child;r!==null;){if(F=gl(r),F!==null){for(n.flags|=128,mi(k,!1),f=F.updateQueue,f!==null&&(n.updateQueue=f,n.flags|=4),n.subtreeFlags=0,f=s,s=n.child;s!==null;)k=s,r=f,k.flags&=14680066,F=k.alternate,F===null?(k.childLanes=0,k.lanes=r,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=F.childLanes,k.lanes=F.lanes,k.child=F.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=F.memoizedProps,k.memoizedState=F.memoizedState,k.updateQueue=F.updateQueue,k.type=F.type,r=F.dependencies,k.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s=s.sibling;return rr(dr,dr.current&1|2),n.child}r=r.sibling}k.tail!==null&&vr()>Qs&&(n.flags|=128,f=!0,mi(k,!1),n.lanes=4194304)}else{if(!f)if(r=gl(F),r!==null){if(n.flags|=128,f=!0,s=r.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),mi(k,!0),k.tail===null&&k.tailMode==="hidden"&&!F.alternate&&!ur)return Fr(n),null}else 2*vr()-k.renderingStartTime>Qs&&s!==1073741824&&(n.flags|=128,f=!0,mi(k,!1),n.lanes=4194304);k.isBackwards?(F.sibling=n.child,n.child=F):(s=k.last,s!==null?s.sibling=F:n.child=F,k.last=F)}return k.tail!==null?(n=k.tail,k.rendering=n,k.tail=n.sibling,k.renderingStartTime=vr(),n.sibling=null,s=dr.current,rr(dr,f?s&1|2:s&1),n):(Fr(n),null);case 22:case 23:return Id(),f=n.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(n.flags|=8192),f&&n.mode&1?Kr&1073741824&&(Fr(n),n.subtreeFlags&6&&(n.flags|=8192)):Fr(n),null;case 24:return null;case 25:return null}throw Error(et(156,n.tag))}function Qv(r,n){switch(yd(n),n.tag){case 1:return Zr(n.type)&&cl(),r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 3:return $s(),ar($r),ar(Ur),Ed(),r=n.flags,r&65536&&!(r&128)?(n.flags=r&-65537|128,n):null;case 5:return Sd(n),null;case 13:if(ar(dr),r=n.memoizedState,r!==null&&r.dehydrated!==null){if(n.alternate===null)throw Error(et(340));Ys()}return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 19:return ar(dr),null;case 4:return $s(),null;case 10:return _d(n.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var Ua=!1,Nr=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,mt=null;function xs(r,n){var s=r.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(f){mr(r,n,f)}else s.current=null}function Lc(r,n,s){try{s()}catch(f){mr(r,n,f)}}var Dh=!1;function Jv(r,n){if(gc=il,r=xm(),pd(r)){if("selectionStart"in r)var s={start:r.selectionStart,end:r.selectionEnd};else e:{s=(s=r.ownerDocument)&&s.defaultView||window;var f=s.getSelection&&s.getSelection();if(f&&f.rangeCount!==0){s=f.anchorNode;var x=f.anchorOffset,k=f.focusNode;f=f.focusOffset;try{s.nodeType,k.nodeType}catch{s=null;break e}var F=0,t=-1,C=-1,S=0,y=0,o=r,a=null;t:for(;;){for(var g;o!==s||x!==0&&o.nodeType!==3||(t=F+x),o!==k||f!==0&&o.nodeType!==3||(C=F+f),o.nodeType===3&&(F+=o.nodeValue.length),(g=o.firstChild)!==null;)a=o,o=g;for(;;){if(o===r)break t;if(a===s&&++S===x&&(t=F),a===k&&++y===f&&(C=F),(g=o.nextSibling)!==null)break;o=a,a=o.parentNode}o=g}s=t===-1||C===-1?null:{start:t,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(vc={focusedElem:r,selectionRange:s},il=!1,mt=n;mt!==null;)if(n=mt,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,mt=r;else for(;mt!==null;){n=mt;try{var b=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var l=b.memoizedProps,c=b.memoizedState,u=n.stateNode,i=u.getSnapshotBeforeUpdate(n.elementType===n.type?l:_n(n.type,l),c);u.__reactInternalSnapshotBeforeUpdate=i}break;case 3:var d=n.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(p){mr(n,n.return,p)}if(r=n.sibling,r!==null){r.return=n.return,mt=r;break}mt=n.return}return b=Dh,Dh=!1,b}function Ri(r,n,s){var f=n.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var x=f=f.next;do{if((x.tag&r)===r){var k=x.destroy;x.destroy=void 0,k!==void 0&&Lc(n,s,k)}x=x.next}while(x!==f)}}function ql(r,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&r)===r){var f=s.create;s.destroy=f()}s=s.next}while(s!==n)}}function Dc(r){var n=r.ref;if(n!==null){var s=r.stateNode;switch(r.tag){case 5:r=s;break;default:r=s}typeof n=="function"?n(r):n.current=r}}function vy(r){var n=r.alternate;n!==null&&(r.alternate=null,vy(n)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(n=r.stateNode,n!==null&&(delete n[An],delete n[qi],delete n[wc],delete n[Dv],delete n[Iv])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function by(r){return r.tag===5||r.tag===3||r.tag===4}function Ih(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||by(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ic(r,n,s){var f=r.tag;if(f===5||f===6)r=r.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(r,n):s.insertBefore(r,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(r,s)):(n=s,n.appendChild(r)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ul));else if(f!==4&&(r=r.child,r!==null))for(Ic(r,n,s),r=r.sibling;r!==null;)Ic(r,n,s),r=r.sibling}function Fc(r,n,s){var f=r.tag;if(f===5||f===6)r=r.stateNode,n?s.insertBefore(r,n):s.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(Fc(r,n,s),r=r.sibling;r!==null;)Fc(r,n,s),r=r.sibling}var Or=null,wn=!1;function eo(r,n,s){for(s=s.child;s!==null;)_y(r,n,s),s=s.sibling}function _y(r,n,s){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Nl,s)}catch{}switch(s.tag){case 5:Nr||xs(s,n);case 6:var f=Or,x=wn;Or=null,eo(r,n,s),Or=f,wn=x,Or!==null&&(wn?(r=Or,s=s.stateNode,r.nodeType===8?r.parentNode.removeChild(s):r.removeChild(s)):Or.removeChild(s.stateNode));break;case 18:Or!==null&&(wn?(r=Or,s=s.stateNode,r.nodeType===8?Lu(r.parentNode,s):r.nodeType===1&&Lu(r,s),Gi(r)):Lu(Or,s.stateNode));break;case 4:f=Or,x=wn,Or=s.stateNode.containerInfo,wn=!0,eo(r,n,s),Or=f,wn=x;break;case 0:case 11:case 14:case 15:if(!Nr&&(f=s.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){x=f=f.next;do{var k=x,F=k.destroy;k=k.tag,F!==void 0&&(k&2||k&4)&&Lc(s,n,F),x=x.next}while(x!==f)}eo(r,n,s);break;case 1:if(!Nr&&(xs(s,n),f=s.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=s.memoizedProps,f.state=s.memoizedState,f.componentWillUnmount()}catch(t){mr(s,n,t)}eo(r,n,s);break;case 21:eo(r,n,s);break;case 22:s.mode&1?(Nr=(f=Nr)||s.memoizedState!==null,eo(r,n,s),Nr=f):eo(r,n,s);break;default:eo(r,n,s)}}function Fh(r){var n=r.updateQueue;if(n!==null){r.updateQueue=null;var s=r.stateNode;s===null&&(s=r.stateNode=new Kv),n.forEach(function(f){var x=l1.bind(null,r,f);s.has(f)||(s.add(f),f.then(x,x))})}}function bn(r,n){var s=n.deletions;if(s!==null)for(var f=0;f<s.length;f++){var x=s[f];try{var k=r,F=n,t=F;e:for(;t!==null;){switch(t.tag){case 5:Or=t.stateNode,wn=!1;break e;case 3:Or=t.stateNode.containerInfo,wn=!0;break e;case 4:Or=t.stateNode.containerInfo,wn=!0;break e}t=t.return}if(Or===null)throw Error(et(160));_y(k,F,x),Or=null,wn=!1;var C=x.alternate;C!==null&&(C.return=null),x.return=null}catch(S){mr(x,n,S)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)wy(n,r),n=n.sibling}function wy(r,n){var s=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(bn(n,r),Cn(r),f&4){try{Ri(3,r,r.return),ql(3,r)}catch(l){mr(r,r.return,l)}try{Ri(5,r,r.return)}catch(l){mr(r,r.return,l)}}break;case 1:bn(n,r),Cn(r),f&512&&s!==null&&xs(s,s.return);break;case 5:if(bn(n,r),Cn(r),f&512&&s!==null&&xs(s,s.return),r.flags&32){var x=r.stateNode;try{Fi(x,"")}catch(l){mr(r,r.return,l)}}if(f&4&&(x=r.stateNode,x!=null)){var k=r.memoizedProps,F=s!==null?s.memoizedProps:k,t=r.type,C=r.updateQueue;if(r.updateQueue=null,C!==null)try{t==="input"&&k.type==="radio"&&k.name!=null&&Vp(x,k),ac(t,F);var S=ac(t,k);for(F=0;F<C.length;F+=2){var y=C[F],o=C[F+1];y==="style"?Xp(x,o):y==="dangerouslySetInnerHTML"?qp(x,o):y==="children"?Fi(x,o):td(x,y,o,S)}switch(t){case"input":rc(x,k);break;case"textarea":Hp(x,k);break;case"select":var a=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!k.multiple;var g=k.value;g!=null?Es(x,!!k.multiple,g,!1):a!==!!k.multiple&&(k.defaultValue!=null?Es(x,!!k.multiple,k.defaultValue,!0):Es(x,!!k.multiple,k.multiple?[]:"",!1))}x[qi]=k}catch(l){mr(r,r.return,l)}}break;case 6:if(bn(n,r),Cn(r),f&4){if(r.stateNode===null)throw Error(et(162));x=r.stateNode,k=r.memoizedProps;try{x.nodeValue=k}catch(l){mr(r,r.return,l)}}break;case 3:if(bn(n,r),Cn(r),f&4&&s!==null&&s.memoizedState.isDehydrated)try{Gi(n.containerInfo)}catch(l){mr(r,r.return,l)}break;case 4:bn(n,r),Cn(r);break;case 13:bn(n,r),Cn(r),x=r.child,x.flags&8192&&(k=x.memoizedState!==null,x.stateNode.isHidden=k,!k||x.alternate!==null&&x.alternate.memoizedState!==null||(Ld=vr())),f&4&&Fh(r);break;case 22:if(y=s!==null&&s.memoizedState!==null,r.mode&1?(Nr=(S=Nr)||y,bn(n,r),Nr=S):bn(n,r),Cn(r),f&8192){if(S=r.memoizedState!==null,(r.stateNode.isHidden=S)&&!y&&r.mode&1)for(mt=r,y=r.child;y!==null;){for(o=mt=y;mt!==null;){switch(a=mt,g=a.child,a.tag){case 0:case 11:case 14:case 15:Ri(4,a,a.return);break;case 1:xs(a,a.return);var b=a.stateNode;if(typeof b.componentWillUnmount=="function"){f=a,s=a.return;try{n=f,b.props=n.memoizedProps,b.state=n.memoizedState,b.componentWillUnmount()}catch(l){mr(f,s,l)}}break;case 5:xs(a,a.return);break;case 22:if(a.memoizedState!==null){Uh(o);continue}}g!==null?(g.return=a,mt=g):Uh(o)}y=y.sibling}e:for(y=null,o=r;;){if(o.tag===5){if(y===null){y=o;try{x=o.stateNode,S?(k=x.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(t=o.stateNode,C=o.memoizedProps.style,F=C!=null&&C.hasOwnProperty("display")?C.display:null,t.style.display=Yp("display",F))}catch(l){mr(r,r.return,l)}}}else if(o.tag===6){if(y===null)try{o.stateNode.nodeValue=S?"":o.memoizedProps}catch(l){mr(r,r.return,l)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;y===o&&(y=null),o=o.return}y===o&&(y=null),o.sibling.return=o.return,o=o.sibling}}break;case 19:bn(n,r),Cn(r),f&4&&Fh(r);break;case 21:break;default:bn(n,r),Cn(r)}}function Cn(r){var n=r.flags;if(n&2){try{e:{for(var s=r.return;s!==null;){if(by(s)){var f=s;break e}s=s.return}throw Error(et(160))}switch(f.tag){case 5:var x=f.stateNode;f.flags&32&&(Fi(x,""),f.flags&=-33);var k=Ih(r);Fc(r,k,x);break;case 3:case 4:var F=f.stateNode.containerInfo,t=Ih(r);Ic(r,t,F);break;default:throw Error(et(161))}}catch(C){mr(r,r.return,C)}r.flags&=-3}n&4096&&(r.flags&=-4097)}function e1(r,n,s){mt=r,xy(r)}function xy(r,n,s){for(var f=(r.mode&1)!==0;mt!==null;){var x=mt,k=x.child;if(x.tag===22&&f){var F=x.memoizedState!==null||Ua;if(!F){var t=x.alternate,C=t!==null&&t.memoizedState!==null||Nr;t=Ua;var S=Nr;if(Ua=F,(Nr=C)&&!S)for(mt=x;mt!==null;)F=mt,C=F.child,F.tag===22&&F.memoizedState!==null?Bh(x):C!==null?(C.return=F,mt=C):Bh(x);for(;k!==null;)mt=k,xy(k),k=k.sibling;mt=x,Ua=t,Nr=S}Nh(r)}else x.subtreeFlags&8772&&k!==null?(k.return=x,mt=k):Nh(r)}}function Nh(r){for(;mt!==null;){var n=mt;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Nr||ql(5,n);break;case 1:var f=n.stateNode;if(n.flags&4&&!Nr)if(s===null)f.componentDidMount();else{var x=n.elementType===n.type?s.memoizedProps:_n(n.type,s.memoizedProps);f.componentDidUpdate(x,s.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var k=n.updateQueue;k!==null&&xh(n,k,f);break;case 3:var F=n.updateQueue;if(F!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}xh(n,F,s)}break;case 5:var t=n.stateNode;if(s===null&&n.flags&4){s=t;var C=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&s.focus();break;case"img":C.src&&(s.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var S=n.alternate;if(S!==null){var y=S.memoizedState;if(y!==null){var o=y.dehydrated;o!==null&&Gi(o)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}Nr||n.flags&512&&Dc(n)}catch(a){mr(n,n.return,a)}}if(n===r){mt=null;break}if(s=n.sibling,s!==null){s.return=n.return,mt=s;break}mt=n.return}}function Uh(r){for(;mt!==null;){var n=mt;if(n===r){mt=null;break}var s=n.sibling;if(s!==null){s.return=n.return,mt=s;break}mt=n.return}}function Bh(r){for(;mt!==null;){var n=mt;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{ql(4,n)}catch(C){mr(n,s,C)}break;case 1:var f=n.stateNode;if(typeof f.componentDidMount=="function"){var x=n.return;try{f.componentDidMount()}catch(C){mr(n,x,C)}}var k=n.return;try{Dc(n)}catch(C){mr(n,k,C)}break;case 5:var F=n.return;try{Dc(n)}catch(C){mr(n,F,C)}}}catch(C){mr(n,n.return,C)}if(n===r){mt=null;break}var t=n.sibling;if(t!==null){t.return=n.return,mt=t;break}mt=n.return}}var t1=Math.ceil,_l=Zn.ReactCurrentDispatcher,Od=Zn.ReactCurrentOwner,pn=Zn.ReactCurrentBatchConfig,zt=0,Pr=null,jr=null,Rr=0,Kr=0,js=So(0),Mr=0,Ki=null,Qo=0,Yl=0,Rd=0,Li=null,qr=null,Ld=0,Qs=1/0,Fn=null,wl=!1,Nc=null,go=null,Ba=!1,co=null,xl=0,Di=0,Uc=null,Qa=-1,Ka=0;function zr(){return zt&6?vr():Qa!==-1?Qa:Qa=vr()}function vo(r){return r.mode&1?zt&2&&Rr!==0?Rr&-Rr:Nv.transition!==null?(Ka===0&&(Ka=im()),Ka):(r=$t,r!==0||(r=window.event,r=r===void 0?16:hm(r.type)),r):1}function En(r,n,s,f){if(50<Di)throw Di=0,Uc=null,Error(et(185));fa(r,s,f),(!(zt&2)||r!==Pr)&&(r===Pr&&(!(zt&2)&&(Yl|=s),Mr===4&&so(r,Rr)),Qr(r,f),s===1&&zt===0&&!(n.mode&1)&&(Qs=vr()+500,Vl&&Eo()))}function Qr(r,n){var s=r.callbackNode;N0(r,n);var f=sl(r,r===Pr?Rr:0);if(f===0)s!==null&&$f(s),r.callbackNode=null,r.callbackPriority=0;else if(n=f&-f,r.callbackPriority!==n){if(s!=null&&$f(s),n===1)r.tag===0?Fv(Gh.bind(null,r)):Om(Gh.bind(null,r)),Rv(function(){!(zt&6)&&Eo()}),s=null;else{switch(am(f)){case 1:s=id;break;case 4:s=om;break;case 16:s=ol;break;case 536870912:s=sm;break;default:s=ol}s=Py(s,jy.bind(null,r))}r.callbackPriority=n,r.callbackNode=s}}function jy(r,n){if(Qa=-1,Ka=0,zt&6)throw Error(et(327));var s=r.callbackNode;if(Ps()&&r.callbackNode!==s)return null;var f=sl(r,r===Pr?Rr:0);if(f===0)return null;if(f&30||f&r.expiredLanes||n)n=jl(r,f);else{n=f;var x=zt;zt|=2;var k=Ey();(Pr!==r||Rr!==n)&&(Fn=null,Qs=vr()+500,Ho(r,n));do try{o1();break}catch(t){Sy(r,t)}while(1);bd(),_l.current=k,zt=x,jr!==null?n=0:(Pr=null,Rr=0,n=Mr)}if(n!==0){if(n===2&&(x=fc(r),x!==0&&(f=x,n=Bc(r,x))),n===1)throw s=Ki,Ho(r,0),so(r,f),Qr(r,vr()),s;if(n===6)so(r,f);else{if(x=r.current.alternate,!(f&30)&&!r1(x)&&(n=jl(r,f),n===2&&(k=fc(r),k!==0&&(f=k,n=Bc(r,k))),n===1))throw s=Ki,Ho(r,0),so(r,f),Qr(r,vr()),s;switch(r.finishedWork=x,r.finishedLanes=f,n){case 0:case 1:throw Error(et(345));case 2:Mo(r,qr,Fn);break;case 3:if(so(r,f),(f&130023424)===f&&(n=Ld+500-vr(),10<n)){if(sl(r,0)!==0)break;if(x=r.suspendedLanes,(x&f)!==f){zr(),r.pingedLanes|=r.suspendedLanes&x;break}r.timeoutHandle=_c(Mo.bind(null,r,qr,Fn),n);break}Mo(r,qr,Fn);break;case 4:if(so(r,f),(f&4194240)===f)break;for(n=r.eventTimes,x=-1;0<f;){var F=31-Sn(f);k=1<<F,F=n[F],F>x&&(x=F),f&=~k}if(f=x,f=vr()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*t1(f/1960))-f,10<f){r.timeoutHandle=_c(Mo.bind(null,r,qr,Fn),f);break}Mo(r,qr,Fn);break;case 5:Mo(r,qr,Fn);break;default:throw Error(et(329))}}}return Qr(r,vr()),r.callbackNode===s?jy.bind(null,r):null}function Bc(r,n){var s=Li;return r.current.memoizedState.isDehydrated&&(Ho(r,n).flags|=256),r=jl(r,n),r!==2&&(n=qr,qr=s,n!==null&&Gc(n)),r}function Gc(r){qr===null?qr=r:qr.push.apply(qr,r)}function r1(r){for(var n=r;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var f=0;f<s.length;f++){var x=s[f],k=x.getSnapshot;x=x.value;try{if(!Tn(k(),x))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function so(r,n){for(n&=~Rd,n&=~Yl,r.suspendedLanes|=n,r.pingedLanes&=~n,r=r.expirationTimes;0<n;){var s=31-Sn(n),f=1<<s;r[s]=-1,n&=~f}}function Gh(r){if(zt&6)throw Error(et(327));Ps();var n=sl(r,0);if(!(n&1))return Qr(r,vr()),null;var s=jl(r,n);if(r.tag!==0&&s===2){var f=fc(r);f!==0&&(n=f,s=Bc(r,f))}if(s===1)throw s=Ki,Ho(r,0),so(r,n),Qr(r,vr()),s;if(s===6)throw Error(et(345));return r.finishedWork=r.current.alternate,r.finishedLanes=n,Mo(r,qr,Fn),Qr(r,vr()),null}function Dd(r,n){var s=zt;zt|=1;try{return r(n)}finally{zt=s,zt===0&&(Qs=vr()+500,Vl&&Eo())}}function Ko(r){co!==null&&co.tag===0&&!(zt&6)&&Ps();var n=zt;zt|=1;var s=pn.transition,f=$t;try{if(pn.transition=null,$t=1,r)return r()}finally{$t=f,pn.transition=s,zt=n,!(zt&6)&&Eo()}}function Id(){Kr=js.current,ar(js)}function Ho(r,n){r.finishedWork=null,r.finishedLanes=0;var s=r.timeoutHandle;if(s!==-1&&(r.timeoutHandle=-1,Ov(s)),jr!==null)for(s=jr.return;s!==null;){var f=s;switch(yd(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&cl();break;case 3:$s(),ar($r),ar(Ur),Ed();break;case 5:Sd(f);break;case 4:$s();break;case 13:ar(dr);break;case 19:ar(dr);break;case 10:_d(f.type._context);break;case 22:case 23:Id()}s=s.return}if(Pr=r,jr=r=bo(r.current,null),Rr=Kr=n,Mr=0,Ki=null,Rd=Yl=Qo=0,qr=Li=null,Oo!==null){for(n=0;n<Oo.length;n++)if(s=Oo[n],f=s.interleaved,f!==null){s.interleaved=null;var x=f.next,k=s.pending;if(k!==null){var F=k.next;k.next=x,f.next=F}s.pending=f}Oo=null}return r}function Sy(r,n){do{var s=jr;try{if(bd(),Xa.current=bl,vl){for(var f=fr.memoizedState;f!==null;){var x=f.queue;x!==null&&(x.pending=null),f=f.next}vl=!1}if(Zo=0,Cr=kr=fr=null,Oi=!1,$i=0,Od.current=null,s===null||s.return===null){Mr=1,Ki=n,jr=null;break}e:{var k=r,F=s.return,t=s,C=n;if(n=Rr,t.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var S=C,y=t,o=y.tag;if(!(y.mode&1)&&(o===0||o===11||o===15)){var a=y.alternate;a?(y.updateQueue=a.updateQueue,y.memoizedState=a.memoizedState,y.lanes=a.lanes):(y.updateQueue=null,y.memoizedState=null)}var g=Mh(F);if(g!==null){g.flags&=-257,Ch(g,F,t,k,n),g.mode&1&&kh(k,S,n),n=g,C=S;var b=n.updateQueue;if(b===null){var l=new Set;l.add(C),n.updateQueue=l}else b.add(C);break e}else{if(!(n&1)){kh(k,S,n),Fd();break e}C=Error(et(426))}}else if(ur&&t.mode&1){var c=Mh(F);if(c!==null){!(c.flags&65536)&&(c.flags|=256),Ch(c,F,t,k,n),gd(Zs(C,t));break e}}k=C=Zs(C,t),Mr!==4&&(Mr=2),Li===null?Li=[k]:Li.push(k),k=F;do{switch(k.tag){case 3:k.flags|=65536,n&=-n,k.lanes|=n;var u=ay(k,C,n);wh(k,u);break e;case 1:t=C;var i=k.type,d=k.stateNode;if(!(k.flags&128)&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(go===null||!go.has(d)))){k.flags|=65536,n&=-n,k.lanes|=n;var p=ly(k,t,n);wh(k,p);break e}}k=k.return}while(k!==null)}ky(s)}catch(v){n=v,jr===s&&s!==null&&(jr=s=s.return);continue}break}while(1)}function Ey(){var r=_l.current;return _l.current=bl,r===null?bl:r}function Fd(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),Pr===null||!(Qo&268435455)&&!(Yl&268435455)||so(Pr,Rr)}function jl(r,n){var s=zt;zt|=2;var f=Ey();(Pr!==r||Rr!==n)&&(Fn=null,Ho(r,n));do try{n1();break}catch(x){Sy(r,x)}while(1);if(bd(),zt=s,_l.current=f,jr!==null)throw Error(et(261));return Pr=null,Rr=0,Mr}function n1(){for(;jr!==null;)Ty(jr)}function o1(){for(;jr!==null&&!C0();)Ty(jr)}function Ty(r){var n=Cy(r.alternate,r,Kr);r.memoizedProps=r.pendingProps,n===null?ky(r):jr=n,Od.current=null}function ky(r){var n=r;do{var s=n.alternate;if(r=n.return,n.flags&32768){if(s=Qv(s,n),s!==null){s.flags&=32767,jr=s;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Mr=6,jr=null;return}}else if(s=Zv(s,n,Kr),s!==null){jr=s;return}if(n=n.sibling,n!==null){jr=n;return}jr=n=r}while(n!==null);Mr===0&&(Mr=5)}function Mo(r,n,s){var f=$t,x=pn.transition;try{pn.transition=null,$t=1,s1(r,n,s,f)}finally{pn.transition=x,$t=f}return null}function s1(r,n,s,f){do Ps();while(co!==null);if(zt&6)throw Error(et(327));s=r.finishedWork;var x=r.finishedLanes;if(s===null)return null;if(r.finishedWork=null,r.finishedLanes=0,s===r.current)throw Error(et(177));r.callbackNode=null,r.callbackPriority=0;var k=s.lanes|s.childLanes;if(U0(r,k),r===Pr&&(jr=Pr=null,Rr=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ba||(Ba=!0,Py(ol,function(){return Ps(),null})),k=(s.flags&15990)!==0,s.subtreeFlags&15990||k){k=pn.transition,pn.transition=null;var F=$t;$t=1;var t=zt;zt|=4,Od.current=null,Jv(r,s),wy(s,r),Ev(vc),il=!!gc,vc=gc=null,r.current=s,e1(s),P0(),zt=t,$t=F,pn.transition=k}else r.current=s;if(Ba&&(Ba=!1,co=r,xl=x),k=r.pendingLanes,k===0&&(go=null),R0(s.stateNode),Qr(r,vr()),n!==null)for(f=r.onRecoverableError,s=0;s<n.length;s++)x=n[s],f(x.value,{componentStack:x.stack,digest:x.digest});if(wl)throw wl=!1,r=Nc,Nc=null,r;return xl&1&&r.tag!==0&&Ps(),k=r.pendingLanes,k&1?r===Uc?Di++:(Di=0,Uc=r):Di=0,Eo(),null}function Ps(){if(co!==null){var r=am(xl),n=pn.transition,s=$t;try{if(pn.transition=null,$t=16>r?16:r,co===null)var f=!1;else{if(r=co,co=null,xl=0,zt&6)throw Error(et(331));var x=zt;for(zt|=4,mt=r.current;mt!==null;){var k=mt,F=k.child;if(mt.flags&16){var t=k.deletions;if(t!==null){for(var C=0;C<t.length;C++){var S=t[C];for(mt=S;mt!==null;){var y=mt;switch(y.tag){case 0:case 11:case 15:Ri(8,y,k)}var o=y.child;if(o!==null)o.return=y,mt=o;else for(;mt!==null;){y=mt;var a=y.sibling,g=y.return;if(vy(y),y===S){mt=null;break}if(a!==null){a.return=g,mt=a;break}mt=g}}}var b=k.alternate;if(b!==null){var l=b.child;if(l!==null){b.child=null;do{var c=l.sibling;l.sibling=null,l=c}while(l!==null)}}mt=k}}if(k.subtreeFlags&2064&&F!==null)F.return=k,mt=F;else e:for(;mt!==null;){if(k=mt,k.flags&2048)switch(k.tag){case 0:case 11:case 15:Ri(9,k,k.return)}var u=k.sibling;if(u!==null){u.return=k.return,mt=u;break e}mt=k.return}}var i=r.current;for(mt=i;mt!==null;){F=mt;var d=F.child;if(F.subtreeFlags&2064&&d!==null)d.return=F,mt=d;else e:for(F=i;mt!==null;){if(t=mt,t.flags&2048)try{switch(t.tag){case 0:case 11:case 15:ql(9,t)}}catch(v){mr(t,t.return,v)}if(t===F){mt=null;break e}var p=t.sibling;if(p!==null){p.return=t.return,mt=p;break e}mt=t.return}}if(zt=x,Eo(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Nl,r)}catch{}f=!0}return f}finally{$t=s,pn.transition=n}}return!1}function zh(r,n,s){n=Zs(s,n),n=ay(r,n,1),r=yo(r,n,1),n=zr(),r!==null&&(fa(r,1,n),Qr(r,n))}function mr(r,n,s){if(r.tag===3)zh(r,r,s);else for(;n!==null;){if(n.tag===3){zh(n,r,s);break}else if(n.tag===1){var f=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(go===null||!go.has(f))){r=Zs(s,r),r=ly(n,r,1),n=yo(n,r,1),r=zr(),n!==null&&(fa(n,1,r),Qr(n,r));break}}n=n.return}}function i1(r,n,s){var f=r.pingCache;f!==null&&f.delete(n),n=zr(),r.pingedLanes|=r.suspendedLanes&s,Pr===r&&(Rr&s)===s&&(Mr===4||Mr===3&&(Rr&130023424)===Rr&&500>vr()-Ld?Ho(r,0):Rd|=s),Qr(r,n)}function My(r,n){n===0&&(r.mode&1?(n=Pa,Pa<<=1,!(Pa&130023424)&&(Pa=4194304)):n=1);var s=zr();r=Xn(r,n),r!==null&&(fa(r,n,s),Qr(r,s))}function a1(r){var n=r.memoizedState,s=0;n!==null&&(s=n.retryLane),My(r,s)}function l1(r,n){var s=0;switch(r.tag){case 13:var f=r.stateNode,x=r.memoizedState;x!==null&&(s=x.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(et(314))}f!==null&&f.delete(n),My(r,s)}var Cy;Cy=function(r,n,s){if(r!==null)if(r.memoizedProps!==n.pendingProps||$r.current)Xr=!0;else{if(!(r.lanes&s)&&!(n.flags&128))return Xr=!1,$v(r,n,s);Xr=!!(r.flags&131072)}else Xr=!1,ur&&n.flags&1048576&&Rm(n,hl,n.index);switch(n.lanes=0,n.tag){case 2:var f=n.type;Za(r,n),r=n.pendingProps;var x=qs(n,Ur.current);Cs(n,s),x=kd(null,n,f,r,x,s);var k=Md();return n.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Zr(f)?(k=!0,dl(n)):k=!1,n.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,xd(n),x.updater=Wl,n.stateNode=x,x._reactInternals=n,kc(n,f,r,s),n=Pc(null,n,f,!0,k,s)):(n.tag=0,ur&&k&&md(n),Gr(null,n,x,s),n=n.child),n;case 16:f=n.elementType;e:{switch(Za(r,n),r=n.pendingProps,x=f._init,f=x(f._payload),n.type=f,x=n.tag=c1(f),r=_n(f,r),x){case 0:n=Cc(null,n,f,r,s);break e;case 1:n=Oh(null,n,f,r,s);break e;case 11:n=Ph(null,n,f,r,s);break e;case 14:n=Ah(null,n,f,_n(f.type,r),s);break e}throw Error(et(306,f,""))}return n;case 0:return f=n.type,x=n.pendingProps,x=n.elementType===f?x:_n(f,x),Cc(r,n,f,x,s);case 1:return f=n.type,x=n.pendingProps,x=n.elementType===f?x:_n(f,x),Oh(r,n,f,x,s);case 3:e:{if(fy(n),r===null)throw Error(et(387));f=n.pendingProps,k=n.memoizedState,x=k.element,Um(r,n),yl(n,f,null,s);var F=n.memoizedState;if(f=F.element,k.isDehydrated)if(k={element:f,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},n.updateQueue.baseState=k,n.memoizedState=k,n.flags&256){x=Zs(Error(et(423)),n),n=Rh(r,n,f,s,x);break e}else if(f!==x){x=Zs(Error(et(424)),n),n=Rh(r,n,f,s,x);break e}else for(en=mo(n.stateNode.containerInfo.firstChild),rn=n,ur=!0,jn=null,s=Fm(n,null,f,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ys(),f===x){n=$n(r,n,s);break e}Gr(r,n,f,s)}n=n.child}return n;case 5:return Bm(n),r===null&&Sc(n),f=n.type,x=n.pendingProps,k=r!==null?r.memoizedProps:null,F=x.children,bc(f,x)?F=null:k!==null&&bc(f,k)&&(n.flags|=32),dy(r,n),Gr(r,n,F,s),n.child;case 6:return r===null&&Sc(n),null;case 13:return hy(r,n,s);case 4:return jd(n,n.stateNode.containerInfo),f=n.pendingProps,r===null?n.child=Xs(n,null,f,s):Gr(r,n,f,s),n.child;case 11:return f=n.type,x=n.pendingProps,x=n.elementType===f?x:_n(f,x),Ph(r,n,f,x,s);case 7:return Gr(r,n,n.pendingProps,s),n.child;case 8:return Gr(r,n,n.pendingProps.children,s),n.child;case 12:return Gr(r,n,n.pendingProps.children,s),n.child;case 10:e:{if(f=n.type._context,x=n.pendingProps,k=n.memoizedProps,F=x.value,rr(pl,f._currentValue),f._currentValue=F,k!==null)if(Tn(k.value,F)){if(k.children===x.children&&!$r.current){n=$n(r,n,s);break e}}else for(k=n.child,k!==null&&(k.return=n);k!==null;){var t=k.dependencies;if(t!==null){F=k.child;for(var C=t.firstContext;C!==null;){if(C.context===f){if(k.tag===1){C=Hn(-1,s&-s),C.tag=2;var S=k.updateQueue;if(S!==null){S=S.shared;var y=S.pending;y===null?C.next=C:(C.next=y.next,y.next=C),S.pending=C}}k.lanes|=s,C=k.alternate,C!==null&&(C.lanes|=s),Ec(k.return,s,n),t.lanes|=s;break}C=C.next}}else if(k.tag===10)F=k.type===n.type?null:k.child;else if(k.tag===18){if(F=k.return,F===null)throw Error(et(341));F.lanes|=s,t=F.alternate,t!==null&&(t.lanes|=s),Ec(F,s,n),F=k.sibling}else F=k.child;if(F!==null)F.return=k;else for(F=k;F!==null;){if(F===n){F=null;break}if(k=F.sibling,k!==null){k.return=F.return,F=k;break}F=F.return}k=F}Gr(r,n,x.children,s),n=n.child}return n;case 9:return x=n.type,f=n.pendingProps.children,Cs(n,s),x=mn(x),f=f(x),n.flags|=1,Gr(r,n,f,s),n.child;case 14:return f=n.type,x=_n(f,n.pendingProps),x=_n(f.type,x),Ah(r,n,f,x,s);case 15:return uy(r,n,n.type,n.pendingProps,s);case 17:return f=n.type,x=n.pendingProps,x=n.elementType===f?x:_n(f,x),Za(r,n),n.tag=1,Zr(f)?(r=!0,dl(n)):r=!1,Cs(n,s),iy(n,f,x),kc(n,f,x,s),Pc(null,n,f,!0,r,s);case 19:return py(r,n,s);case 22:return cy(r,n,s)}throw Error(et(156,n.tag))};function Py(r,n){return nm(r,n)}function u1(r,n,s,f){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(r,n,s,f){return new u1(r,n,s,f)}function Nd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function c1(r){if(typeof r=="function")return Nd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===nd)return 11;if(r===od)return 14}return 2}function bo(r,n){var s=r.alternate;return s===null?(s=hn(r.tag,n,r.key,r.mode),s.elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=n,s.type=r.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=r.flags&14680064,s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,n=r.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s}function Ja(r,n,s,f,x,k){var F=2;if(f=r,typeof r=="function")Nd(r)&&(F=1);else if(typeof r=="string")F=5;else e:switch(r){case hs:return Wo(s.children,x,k,n);case rd:F=8,x|=8;break;case Qu:return r=hn(12,s,n,x|2),r.elementType=Qu,r.lanes=k,r;case Ku:return r=hn(13,s,n,x),r.elementType=Ku,r.lanes=k,r;case Ju:return r=hn(19,s,n,x),r.elementType=Ju,r.lanes=k,r;case Bp:return Xl(s,x,k,n);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Np:F=10;break e;case Up:F=9;break e;case nd:F=11;break e;case od:F=14;break e;case ro:F=16,f=null;break e}throw Error(et(130,r==null?r:typeof r,""))}return n=hn(F,s,n,x),n.elementType=r,n.type=f,n.lanes=k,n}function Wo(r,n,s,f){return r=hn(7,r,f,n),r.lanes=s,r}function Xl(r,n,s,f){return r=hn(22,r,f,n),r.elementType=Bp,r.lanes=s,r.stateNode={isHidden:!1},r}function zu(r,n,s){return r=hn(6,r,null,n),r.lanes=s,r}function Vu(r,n,s){return n=hn(4,r.children!==null?r.children:[],r.key,n),n.lanes=s,n.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},n}function d1(r,n,s,f,x){this.tag=n,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ju(0),this.expirationTimes=ju(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ju(0),this.identifierPrefix=f,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Ud(r,n,s,f,x,k,F,t,C){return r=new d1(r,n,s,t,C),n===1?(n=1,k===!0&&(n|=8)):n=0,k=hn(3,null,null,n),r.current=k,k.stateNode=r,k.memoizedState={element:f,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},xd(k),r}function f1(r,n,s){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fs,key:f==null?null:""+f,children:r,containerInfo:n,implementation:s}}function Ay(r){if(!r)return wo;r=r._reactInternals;e:{if(rs(r)!==r||r.tag!==1)throw Error(et(170));var n=r;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Zr(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(et(171))}if(r.tag===1){var s=r.type;if(Zr(s))return Am(r,s,n)}return n}function Oy(r,n,s,f,x,k,F,t,C){return r=Ud(s,f,!0,r,x,k,F,t,C),r.context=Ay(null),s=r.current,f=zr(),x=vo(s),k=Hn(f,x),k.callback=n??null,yo(s,k,x),r.current.lanes=x,fa(r,x,f),Qr(r,f),r}function $l(r,n,s,f){var x=n.current,k=zr(),F=vo(x);return s=Ay(s),n.context===null?n.context=s:n.pendingContext=s,n=Hn(k,F),n.payload={element:r},f=f===void 0?null:f,f!==null&&(n.callback=f),r=yo(x,n,F),r!==null&&(En(r,x,F,k),Ya(r,x,F)),F}function Sl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Vh(r,n){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<n?s:n}}function Bd(r,n){Vh(r,n),(r=r.alternate)&&Vh(r,n)}function h1(){return null}var Ry=typeof reportError=="function"?reportError:function(r){console.error(r)};function Gd(r){this._internalRoot=r}Zl.prototype.render=Gd.prototype.render=function(r){var n=this._internalRoot;if(n===null)throw Error(et(409));$l(r,n,null,null)};Zl.prototype.unmount=Gd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var n=r.containerInfo;Ko(function(){$l(null,r,null,null)}),n[Yn]=null}};function Zl(r){this._internalRoot=r}Zl.prototype.unstable_scheduleHydration=function(r){if(r){var n=cm();r={blockedOn:null,target:r,priority:n};for(var s=0;s<oo.length&&n!==0&&n<oo[s].priority;s++);oo.splice(s,0,r),s===0&&fm(r)}};function zd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ql(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Hh(){}function p1(r,n,s,f,x){if(x){if(typeof f=="function"){var k=f;f=function(){var S=Sl(F);k.call(S)}}var F=Oy(n,f,r,0,null,!1,!1,"",Hh);return r._reactRootContainer=F,r[Yn]=F.current,Hi(r.nodeType===8?r.parentNode:r),Ko(),F}for(;x=r.lastChild;)r.removeChild(x);if(typeof f=="function"){var t=f;f=function(){var S=Sl(C);t.call(S)}}var C=Ud(r,0,!1,null,null,!1,!1,"",Hh);return r._reactRootContainer=C,r[Yn]=C.current,Hi(r.nodeType===8?r.parentNode:r),Ko(function(){$l(n,C,s,f)}),C}function Kl(r,n,s,f,x){var k=s._reactRootContainer;if(k){var F=k;if(typeof x=="function"){var t=x;x=function(){var C=Sl(F);t.call(C)}}$l(n,F,r,x)}else F=p1(s,n,r,x,f);return Sl(F)}lm=function(r){switch(r.tag){case 3:var n=r.stateNode;if(n.current.memoizedState.isDehydrated){var s=ji(n.pendingLanes);s!==0&&(ad(n,s|1),Qr(n,vr()),!(zt&6)&&(Qs=vr()+500,Eo()))}break;case 13:Ko(function(){var f=Xn(r,1);if(f!==null){var x=zr();En(f,r,1,x)}}),Bd(r,1)}};ld=function(r){if(r.tag===13){var n=Xn(r,134217728);if(n!==null){var s=zr();En(n,r,134217728,s)}Bd(r,134217728)}};um=function(r){if(r.tag===13){var n=vo(r),s=Xn(r,n);if(s!==null){var f=zr();En(s,r,n,f)}Bd(r,n)}};cm=function(){return $t};dm=function(r,n){var s=$t;try{return $t=r,n()}finally{$t=s}};uc=function(r,n,s){switch(n){case"input":if(rc(r,s),n=s.name,s.type==="radio"&&n!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var f=s[n];if(f!==r&&f.form===r.form){var x=zl(f);if(!x)throw Error(et(90));zp(f),rc(f,x)}}}break;case"textarea":Hp(r,s);break;case"select":n=s.value,n!=null&&Es(r,!!s.multiple,n,!1)}};Qp=Dd;Kp=Ko;var m1={usingClientEntryPoint:!1,Events:[pa,gs,zl,$p,Zp,Dd]},yi={findFiberByHostInstance:Ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y1={bundleType:yi.bundleType,version:yi.version,rendererPackageName:yi.rendererPackageName,rendererConfig:yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=tm(r),r===null?null:r.stateNode},findFiberByHostInstance:yi.findFiberByHostInstance||h1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ga.isDisabled&&Ga.supportsFiber)try{Nl=Ga.inject(y1),On=Ga}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m1;an.createPortal=function(r,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zd(n))throw Error(et(200));return f1(r,n,null,s)};an.createRoot=function(r,n){if(!zd(r))throw Error(et(299));var s=!1,f="",x=Ry;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(f=n.identifierPrefix),n.onRecoverableError!==void 0&&(x=n.onRecoverableError)),n=Ud(r,1,!1,null,null,s,!1,f,x),r[Yn]=n.current,Hi(r.nodeType===8?r.parentNode:r),new Gd(n)};an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var n=r._reactInternals;if(n===void 0)throw typeof r.render=="function"?Error(et(188)):(r=Object.keys(r).join(","),Error(et(268,r)));return r=tm(n),r=r===null?null:r.stateNode,r};an.flushSync=function(r){return Ko(r)};an.hydrate=function(r,n,s){if(!Ql(n))throw Error(et(200));return Kl(null,r,n,!0,s)};an.hydrateRoot=function(r,n,s){if(!zd(r))throw Error(et(405));var f=s!=null&&s.hydratedSources||null,x=!1,k="",F=Ry;if(s!=null&&(s.unstable_strictMode===!0&&(x=!0),s.identifierPrefix!==void 0&&(k=s.identifierPrefix),s.onRecoverableError!==void 0&&(F=s.onRecoverableError)),n=Oy(n,null,r,1,s??null,x,!1,k,F),r[Yn]=n.current,Hi(r),f)for(r=0;r<f.length;r++)s=f[r],x=s._getVersion,x=x(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,x]:n.mutableSourceEagerHydrationData.push(s,x);return new Zl(n)};an.render=function(r,n,s){if(!Ql(n))throw Error(et(200));return Kl(null,r,n,!1,s)};an.unmountComponentAtNode=function(r){if(!Ql(r))throw Error(et(40));return r._reactRootContainer?(Ko(function(){Kl(null,null,r,!1,function(){r._reactRootContainer=null,r[Yn]=null})}),!0):!1};an.unstable_batchedUpdates=Dd;an.unstable_renderSubtreeIntoContainer=function(r,n,s,f){if(!Ql(s))throw Error(et(200));if(r==null||r._reactInternals===void 0)throw Error(et(38));return Kl(r,n,s,!1,f)};an.version="18.3.1-next-f1338f8080-20240426";function Ly(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ly)}catch(r){console.error(r)}}Ly(),Lp.exports=an;var Vd=Lp.exports;const g1=Xc(Vd),v1=wp({__proto__:null,default:g1},[Vd]);var Dy,Wh=Vd;Dy=Wh.createRoot,Wh.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cr(){return cr=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(r[f]=s[f])}return r},cr.apply(this,arguments)}var gr;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(gr||(gr={}));const qh="popstate";function b1(r){r===void 0&&(r={});function n(x,k){let{pathname:F="/",search:t="",hash:C=""}=Ln(x.location.hash.substr(1));return!F.startsWith("/")&&!F.startsWith(".")&&(F="/"+F),Ji("",{pathname:F,search:t,hash:C},k.state&&k.state.usr||null,k.state&&k.state.key||"default")}function s(x,k){let F=x.document.querySelector("base"),t="";if(F&&F.getAttribute("href")){let C=x.location.href,S=C.indexOf("#");t=S===-1?C:C.slice(0,S)}return t+"#"+(typeof k=="string"?k:es(k))}function f(x,k){Jo(x.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(k)+")")}return w1(n,s,f,r)}function Lt(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Jo(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function _1(){return Math.random().toString(36).substr(2,8)}function Yh(r,n){return{usr:r.state,key:r.key,idx:n}}function Ji(r,n,s,f){return s===void 0&&(s=null),cr({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof n=="string"?Ln(n):n,{state:s,key:n&&n.key||f||_1()})}function es(r){let{pathname:n="/",search:s="",hash:f=""}=r;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),f&&f!=="#"&&(n+=f.charAt(0)==="#"?f:"#"+f),n}function Ln(r){let n={};if(r){let s=r.indexOf("#");s>=0&&(n.hash=r.substr(s),r=r.substr(0,s));let f=r.indexOf("?");f>=0&&(n.search=r.substr(f),r=r.substr(0,f)),r&&(n.pathname=r)}return n}function w1(r,n,s,f){f===void 0&&(f={});let{window:x=document.defaultView,v5Compat:k=!1}=f,F=x.history,t=gr.Pop,C=null,S=y();S==null&&(S=0,F.replaceState(cr({},F.state,{idx:S}),""));function y(){return(F.state||{idx:null}).idx}function o(){t=gr.Pop;let c=y(),u=c==null?null:c-S;S=c,C&&C({action:t,location:l.location,delta:u})}function a(c,u){t=gr.Push;let i=Ji(l.location,c,u);s&&s(i,c),S=y()+1;let d=Yh(i,S),p=l.createHref(i);try{F.pushState(d,"",p)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;x.location.assign(p)}k&&C&&C({action:t,location:l.location,delta:1})}function g(c,u){t=gr.Replace;let i=Ji(l.location,c,u);s&&s(i,c),S=y();let d=Yh(i,S),p=l.createHref(i);F.replaceState(d,"",p),k&&C&&C({action:t,location:l.location,delta:0})}function b(c){let u=x.location.origin!=="null"?x.location.origin:x.location.href,i=typeof c=="string"?c:es(c);return i=i.replace(/ $/,"%20"),Lt(u,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,u)}let l={get action(){return t},get location(){return r(x,F)},listen(c){if(C)throw new Error("A history only accepts one active listener");return x.addEventListener(qh,o),C=c,()=>{x.removeEventListener(qh,o),C=null}},createHref(c){return n(x,c)},createURL:b,encodeLocation(c){let u=b(c);return{pathname:u.pathname,search:u.search,hash:u.hash}},push:a,replace:g,go(c){return F.go(c)}};return l}var Qt;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Qt||(Qt={}));const x1=new Set(["lazy","caseSensitive","path","id","index","children"]);function j1(r){return r.index===!0}function ea(r,n,s,f){return s===void 0&&(s=[]),f===void 0&&(f={}),r.map((x,k)=>{let F=[...s,String(k)],t=typeof x.id=="string"?x.id:F.join("-");if(Lt(x.index!==!0||!x.children,"Cannot specify children on an index route"),Lt(!f[t],'Found a route id collision on id "'+t+`".  Route id's must be globally unique within Data Router usages`),j1(x)){let C=cr({},x,n(x),{id:t});return f[t]=C,C}else{let C=cr({},x,n(x),{id:t,children:void 0});return f[t]=C,x.children&&(C.children=ea(x.children,n,F,f)),C}})}function Po(r,n,s){return s===void 0&&(s="/"),el(r,n,s,!1)}function el(r,n,s,f){let x=typeof n=="string"?Ln(n):n,k=ti(x.pathname||"/",s);if(k==null)return null;let F=Iy(r);E1(F);let t=null;for(let C=0;t==null&&C<F.length;++C){let S=I1(k);t=L1(F[C],S,f)}return t}function S1(r,n){let{route:s,pathname:f,params:x}=r;return{id:s.id,pathname:f,params:x,data:n[s.id],handle:s.handle}}function Iy(r,n,s,f){n===void 0&&(n=[]),s===void 0&&(s=[]),f===void 0&&(f="");let x=(k,F,t)=>{let C={relativePath:t===void 0?k.path||"":t,caseSensitive:k.caseSensitive===!0,childrenIndex:F,route:k};C.relativePath.startsWith("/")&&(Lt(C.relativePath.startsWith(f),'Absolute route path "'+C.relativePath+'" nested under path '+('"'+f+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),C.relativePath=C.relativePath.slice(f.length));let S=Wn([f,C.relativePath]),y=s.concat(C);k.children&&k.children.length>0&&(Lt(k.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+S+'".')),Iy(k.children,n,y,S)),!(k.path==null&&!k.index)&&n.push({path:S,score:O1(S,k.index),routesMeta:y})};return r.forEach((k,F)=>{var t;if(k.path===""||!((t=k.path)!=null&&t.includes("?")))x(k,F);else for(let C of Fy(k.path))x(k,F,C)}),n}function Fy(r){let n=r.split("/");if(n.length===0)return[];let[s,...f]=n,x=s.endsWith("?"),k=s.replace(/\?$/,"");if(f.length===0)return x?[k,""]:[k];let F=Fy(f.join("/")),t=[];return t.push(...F.map(C=>C===""?k:[k,C].join("/"))),x&&t.push(...F),t.map(C=>r.startsWith("/")&&C===""?"/":C)}function E1(r){r.sort((n,s)=>n.score!==s.score?s.score-n.score:R1(n.routesMeta.map(f=>f.childrenIndex),s.routesMeta.map(f=>f.childrenIndex)))}const T1=/^:[\w-]+$/,k1=3,M1=2,C1=1,P1=10,A1=-2,Xh=r=>r==="*";function O1(r,n){let s=r.split("/"),f=s.length;return s.some(Xh)&&(f+=A1),n&&(f+=M1),s.filter(x=>!Xh(x)).reduce((x,k)=>x+(T1.test(k)?k1:k===""?C1:P1),f)}function R1(r,n){return r.length===n.length&&r.slice(0,-1).every((f,x)=>f===n[x])?r[r.length-1]-n[n.length-1]:0}function L1(r,n,s){s===void 0&&(s=!1);let{routesMeta:f}=r,x={},k="/",F=[];for(let t=0;t<f.length;++t){let C=f[t],S=t===f.length-1,y=k==="/"?n:n.slice(k.length)||"/",o=$h({path:C.relativePath,caseSensitive:C.caseSensitive,end:S},y),a=C.route;if(!o&&S&&s&&!f[f.length-1].route.index&&(o=$h({path:C.relativePath,caseSensitive:C.caseSensitive,end:!1},y)),!o)return null;Object.assign(x,o.params),F.push({params:x,pathname:Wn([k,o.pathname]),pathnameBase:U1(Wn([k,o.pathnameBase])),route:a}),o.pathnameBase!=="/"&&(k=Wn([k,o.pathnameBase]))}return F}function $h(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,f]=D1(r.path,r.caseSensitive,r.end),x=n.match(s);if(!x)return null;let k=x[0],F=k.replace(/(.)\/+$/,"$1"),t=x.slice(1);return{params:f.reduce((S,y,o)=>{let{paramName:a,isOptional:g}=y;if(a==="*"){let l=t[o]||"";F=k.slice(0,k.length-l.length).replace(/(.)\/+$/,"$1")}const b=t[o];return g&&!b?S[a]=void 0:S[a]=(b||"").replace(/%2F/g,"/"),S},{}),pathname:k,pathnameBase:F,pattern:r}}function D1(r,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),Jo(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let f=[],x="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(F,t,C)=>(f.push({paramName:t,isOptional:C!=null}),C?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(f.push({paramName:"*"}),x+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?x+="\\/*$":r!==""&&r!=="/"&&(x+="(?:(?=\\/|$))"),[new RegExp(x,n?void 0:"i"),f]}function I1(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Jo(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),r}}function ti(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,f=r.charAt(s);return f&&f!=="/"?null:r.slice(s)||"/"}function F1(r,n){n===void 0&&(n="/");let{pathname:s,search:f="",hash:x=""}=typeof r=="string"?Ln(r):r;return{pathname:s?s.startsWith("/")?s:N1(s,n):n,search:B1(f),hash:G1(x)}}function N1(r,n){let s=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(x=>{x===".."?s.length>1&&s.pop():x!=="."&&s.push(x)}),s.length>1?s.join("/"):"/"}function Hu(r,n,s,f){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(f)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ny(r){return r.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function Hd(r,n){let s=Ny(r);return n?s.map((f,x)=>x===s.length-1?f.pathname:f.pathnameBase):s.map(f=>f.pathnameBase)}function Wd(r,n,s,f){f===void 0&&(f=!1);let x;typeof r=="string"?x=Ln(r):(x=cr({},r),Lt(!x.pathname||!x.pathname.includes("?"),Hu("?","pathname","search",x)),Lt(!x.pathname||!x.pathname.includes("#"),Hu("#","pathname","hash",x)),Lt(!x.search||!x.search.includes("#"),Hu("#","search","hash",x)));let k=r===""||x.pathname==="",F=k?"/":x.pathname,t;if(F==null)t=s;else{let o=n.length-1;if(!f&&F.startsWith("..")){let a=F.split("/");for(;a[0]==="..";)a.shift(),o-=1;x.pathname=a.join("/")}t=o>=0?n[o]:"/"}let C=F1(x,t),S=F&&F!=="/"&&F.endsWith("/"),y=(k||F===".")&&s.endsWith("/");return!C.pathname.endsWith("/")&&(S||y)&&(C.pathname+="/"),C}const Wn=r=>r.join("/").replace(/\/\/+/g,"/"),U1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),B1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,G1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class El{constructor(n,s,f,x){x===void 0&&(x=!1),this.status=n,this.statusText=s||"",this.internal=x,f instanceof Error?(this.data=f.toString(),this.error=f):this.data=f}}function Jl(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Uy=["post","put","patch","delete"],z1=new Set(Uy),V1=["get",...Uy],H1=new Set(V1),W1=new Set([301,302,303,307,308]),q1=new Set([307,308]),Wu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Y1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gi={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X1=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),By="remix-router-transitions";function $1(r){const n=r.window?r.window:typeof window<"u"?window:void 0,s=typeof n<"u"&&typeof n.document<"u"&&typeof n.document.createElement<"u",f=!s;Lt(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let x;if(r.mapRouteProperties)x=r.mapRouteProperties;else if(r.detectErrorBoundary){let _e=r.detectErrorBoundary;x=Se=>({hasErrorBoundary:_e(Se)})}else x=X1;let k={},F=ea(r.routes,x,void 0,k),t,C=r.basename||"/",S=r.unstable_dataStrategy||eb,y=r.unstable_patchRoutesOnNavigation,o=cr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},r.future),a=null,g=new Set,b=1e3,l=new Set,c=null,u=null,i=null,d=r.hydrationData!=null,p=Po(F,r.history.location,C),v=null;if(p==null&&!y){let _e=Br(404,{pathname:r.history.location.pathname}),{matches:Se,route:ke}=sp(F);p=Se,v={[ke.id]:_e}}p&&!r.hydrationData&&St(p,F,r.history.location.pathname).active&&(p=null);let h;if(p)if(p.some(_e=>_e.route.lazy))h=!1;else if(!p.some(_e=>_e.route.loader))h=!0;else if(o.v7_partialHydration){let _e=r.hydrationData?r.hydrationData.loaderData:null,Se=r.hydrationData?r.hydrationData.errors:null,ke=Ve=>Ve.route.loader?typeof Ve.route.loader=="function"&&Ve.route.loader.hydrate===!0?!1:_e&&_e[Ve.route.id]!==void 0||Se&&Se[Ve.route.id]!==void 0:!0;if(Se){let Ve=p.findIndex(nt=>Se[nt.route.id]!==void 0);h=p.slice(0,Ve+1).every(ke)}else h=p.every(ke)}else h=r.hydrationData!=null;else if(h=!1,p=[],o.v7_partialHydration){let _e=St(null,F,r.history.location.pathname);_e.active&&_e.matches&&(p=_e.matches)}let w,_={historyAction:r.history.action,location:r.history.location,matches:p,initialized:h,navigation:Wu,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||v,fetchers:new Map,blockers:new Map},E=gr.Pop,R=!1,P,T=!1,D=new Map,A=null,I=!1,U=!1,B=[],N=new Set,O=new Map,V=0,q=-1,X=new Map,Z=new Set,re=new Map,ee=new Map,ae=new Set,z=new Map,H=new Map,$=new Map,ne=!1;function oe(){if(a=r.history.listen(_e=>{let{action:Se,location:ke,delta:Ve}=_e;if(ne){ne=!1;return}Jo(H.size===0||Ve!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let nt=We({currentLocation:_.location,nextLocation:ke,historyAction:Se});if(nt&&Ve!=null){ne=!0,r.history.go(Ve*-1),Ye(nt,{state:"blocked",location:ke,proceed(){Ye(nt,{state:"proceeding",proceed:void 0,reset:void 0,location:ke}),r.history.go(Ve)},reset(){let tt=new Map(_.blockers);tt.set(nt,gi),se({blockers:tt})}});return}return be(Se,ke)}),s){hb(n,D);let _e=()=>pb(n,D);n.addEventListener("pagehide",_e),A=()=>n.removeEventListener("pagehide",_e)}return _.initialized||be(gr.Pop,_.location,{initialHydration:!0}),w}function le(){a&&a(),A&&A(),g.clear(),P&&P.abort(),_.fetchers.forEach((_e,Se)=>it(Se)),_.blockers.forEach((_e,Se)=>Oe(Se))}function Q(_e){return g.add(_e),()=>g.delete(_e)}function se(_e,Se){Se===void 0&&(Se={}),_=cr({},_,_e);let ke=[],Ve=[];o.v7_fetcherPersist&&_.fetchers.forEach((nt,tt)=>{nt.state==="idle"&&(ae.has(tt)?Ve.push(tt):ke.push(tt))}),[...g].forEach(nt=>nt(_,{deletedFetchers:Ve,unstable_viewTransitionOpts:Se.viewTransitionOpts,unstable_flushSync:Se.flushSync===!0})),o.v7_fetcherPersist&&(ke.forEach(nt=>_.fetchers.delete(nt)),Ve.forEach(nt=>it(nt)))}function ye(_e,Se,ke){var Ve,nt;let{flushSync:tt}=ke===void 0?{}:ke,jt=_.actionData!=null&&_.navigation.formMethod!=null&&xn(_.navigation.formMethod)&&_.navigation.state==="loading"&&((Ve=_e.state)==null?void 0:Ve._isRedirect)!==!0,ot;Se.actionData?Object.keys(Se.actionData).length>0?ot=Se.actionData:ot=null:jt?ot=_.actionData:ot=null;let kt=Se.loaderData?np(_.loaderData,Se.loaderData,Se.matches||[],Se.errors):_.loaderData,_t=_.blockers;_t.size>0&&(_t=new Map(_t),_t.forEach((Ge,Qe)=>_t.set(Qe,gi)));let Ct=R===!0||_.navigation.formMethod!=null&&xn(_.navigation.formMethod)&&((nt=_e.state)==null?void 0:nt._isRedirect)!==!0;t&&(F=t,t=void 0),I||E===gr.Pop||(E===gr.Push?r.history.push(_e,_e.state):E===gr.Replace&&r.history.replace(_e,_e.state));let de;if(E===gr.Pop){let Ge=D.get(_.location.pathname);Ge&&Ge.has(_e.pathname)?de={currentLocation:_.location,nextLocation:_e}:D.has(_e.pathname)&&(de={currentLocation:_e,nextLocation:_.location})}else if(T){let Ge=D.get(_.location.pathname);Ge?Ge.add(_e.pathname):(Ge=new Set([_e.pathname]),D.set(_.location.pathname,Ge)),de={currentLocation:_.location,nextLocation:_e}}se(cr({},Se,{actionData:ot,loaderData:kt,historyAction:E,location:_e,initialized:!0,navigation:Wu,revalidation:"idle",restoreScrollPosition:Tt(_e,Se.matches||_.matches),preventScrollReset:Ct,blockers:_t}),{viewTransitionOpts:de,flushSync:tt===!0}),E=gr.Pop,R=!1,T=!1,I=!1,U=!1,B=[]}async function me(_e,Se){if(typeof _e=="number"){r.history.go(_e);return}let ke=zc(_.location,_.matches,C,o.v7_prependBasename,_e,o.v7_relativeSplatPath,Se==null?void 0:Se.fromRouteId,Se==null?void 0:Se.relative),{path:Ve,submission:nt,error:tt}=Zh(o.v7_normalizeFormMethod,!1,ke,Se),jt=_.location,ot=Ji(_.location,Ve,Se&&Se.state);ot=cr({},ot,r.history.encodeLocation(ot));let kt=Se&&Se.replace!=null?Se.replace:void 0,_t=gr.Push;kt===!0?_t=gr.Replace:kt===!1||nt!=null&&xn(nt.formMethod)&&nt.formAction===_.location.pathname+_.location.search&&(_t=gr.Replace);let Ct=Se&&"preventScrollReset"in Se?Se.preventScrollReset===!0:void 0,de=(Se&&Se.unstable_flushSync)===!0,Ge=We({currentLocation:jt,nextLocation:ot,historyAction:_t});if(Ge){Ye(Ge,{state:"blocked",location:ot,proceed(){Ye(Ge,{state:"proceeding",proceed:void 0,reset:void 0,location:ot}),me(_e,Se)},reset(){let Qe=new Map(_.blockers);Qe.set(Ge,gi),se({blockers:Qe})}});return}return await be(_t,ot,{submission:nt,pendingError:tt,preventScrollReset:Ct,replace:Se&&Se.replace,enableViewTransition:Se&&Se.unstable_viewTransition,flushSync:de})}function he(){if(Pe(),se({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){be(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}be(E||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function be(_e,Se,ke){P&&P.abort(),P=null,E=_e,I=(ke&&ke.startUninterruptedRevalidation)===!0,Ot(_.location,_.matches),R=(ke&&ke.preventScrollReset)===!0,T=(ke&&ke.enableViewTransition)===!0;let Ve=t||F,nt=ke&&ke.overrideNavigation,tt=Po(Ve,Se,C),jt=(ke&&ke.flushSync)===!0,ot=St(tt,Ve,Se.pathname);if(ot.active&&ot.matches&&(tt=ot.matches),!tt){let{error:Ie,notFoundMatches:wt,route:De}=je(Se.pathname);ye(Se,{matches:wt,loaderData:{},errors:{[De.id]:Ie}},{flushSync:jt});return}if(_.initialized&&!U&&ib(_.location,Se)&&!(ke&&ke.submission&&xn(ke.submission.formMethod))){ye(Se,{matches:tt},{flushSync:jt});return}P=new AbortController;let kt=us(r.history,Se,P.signal,ke&&ke.submission),_t;if(ke&&ke.pendingError)_t=[Ss(tt).route.id,{type:Qt.error,error:ke.pendingError}];else if(ke&&ke.submission&&xn(ke.submission.formMethod)){let Ie=await Ue(kt,Se,ke.submission,tt,ot.active,{replace:ke.replace,flushSync:jt});if(Ie.shortCircuited)return;if(Ie.pendingActionResult){let[wt,De]=Ie.pendingActionResult;if(Jr(De)&&Jl(De.error)&&De.error.status===404){P=null,ye(Se,{matches:Ie.matches,loaderData:{},errors:{[wt]:De.error}});return}}tt=Ie.matches||tt,_t=Ie.pendingActionResult,nt=qu(Se,ke.submission),jt=!1,ot.active=!1,kt=us(r.history,kt.url,kt.signal)}let{shortCircuited:Ct,matches:de,loaderData:Ge,errors:Qe}=await Ne(kt,Se,tt,ot.active,nt,ke&&ke.submission,ke&&ke.fetcherSubmission,ke&&ke.replace,ke&&ke.initialHydration===!0,jt,_t);Ct||(P=null,ye(Se,cr({matches:de||tt},op(_t),{loaderData:Ge,errors:Qe})))}async function Ue(_e,Se,ke,Ve,nt,tt){tt===void 0&&(tt={}),Pe();let jt=db(Se,ke);if(se({navigation:jt},{flushSync:tt.flushSync===!0}),nt){let _t=await Ut(Ve,Se.pathname,_e.signal);if(_t.type==="aborted")return{shortCircuited:!0};if(_t.type==="error"){let{boundaryId:Ct,error:de}=Ze(Se.pathname,_t);return{matches:_t.partialMatches,pendingActionResult:[Ct,{type:Qt.error,error:de}]}}else if(_t.matches)Ve=_t.matches;else{let{notFoundMatches:Ct,error:de,route:Ge}=je(Se.pathname);return{matches:Ct,pendingActionResult:[Ge.id,{type:Qt.error,error:de}]}}}let ot,kt=Ei(Ve,Se);if(!kt.route.action&&!kt.route.lazy)ot={type:Qt.error,error:Br(405,{method:_e.method,pathname:Se.pathname,routeId:kt.route.id})};else if(ot=(await fe("action",_e,[kt],Ve))[0],_e.signal.aborted)return{shortCircuited:!0};if(Do(ot)){let _t;return tt&&tt.replace!=null?_t=tt.replace:_t=ep(ot.response.headers.get("Location"),new URL(_e.url),C)===_.location.pathname+_.location.search,await rt(_e,ot,{submission:ke,replace:_t}),{shortCircuited:!0}}if(Lo(ot))throw Br(400,{type:"defer-action"});if(Jr(ot)){let _t=Ss(Ve,kt.route.id);return(tt&&tt.replace)!==!0&&(E=gr.Push),{matches:Ve,pendingActionResult:[_t.route.id,ot]}}return{matches:Ve,pendingActionResult:[kt.route.id,ot]}}async function Ne(_e,Se,ke,Ve,nt,tt,jt,ot,kt,_t,Ct){let de=nt||qu(Se,tt),Ge=tt||jt||up(de),Qe=!I&&(!o.v7_partialHydration||!kt);if(Ve){if(Qe){let Dt=Ee(Ct);se(cr({navigation:de},Dt!==void 0?{actionData:Dt}:{}),{flushSync:_t})}let bt=await Ut(ke,Se.pathname,_e.signal);if(bt.type==="aborted")return{shortCircuited:!0};if(bt.type==="error"){let{boundaryId:Dt,error:Wt}=Ze(Se.pathname,bt);return{matches:bt.partialMatches,loaderData:{},errors:{[Dt]:Wt}}}else if(bt.matches)ke=bt.matches;else{let{error:Dt,notFoundMatches:Wt,route:tr}=je(Se.pathname);return{matches:Wt,loaderData:{},errors:{[tr.id]:Dt}}}}let Ie=t||F,[wt,De]=Qh(r.history,_,ke,Ge,Se,o.v7_partialHydration&&kt===!0,o.v7_skipActionErrorRevalidation,U,B,N,ae,re,Z,Ie,C,Ct);if(st(bt=>!(ke&&ke.some(Dt=>Dt.route.id===bt))||wt&&wt.some(Dt=>Dt.route.id===bt)),q=++V,wt.length===0&&De.length===0){let bt=te();return ye(Se,cr({matches:ke,loaderData:{},errors:Ct&&Jr(Ct[1])?{[Ct[0]]:Ct[1].error}:null},op(Ct),bt?{fetchers:new Map(_.fetchers)}:{}),{flushSync:_t}),{shortCircuited:!0}}if(Qe){let bt={};if(!Ve){bt.navigation=de;let Dt=Ee(Ct);Dt!==void 0&&(bt.actionData=Dt)}De.length>0&&(bt.fetchers=Te(De)),se(bt,{flushSync:_t})}De.forEach(bt=>{O.has(bt.key)&&J(bt.key),bt.controller&&O.set(bt.key,bt.controller)});let Gt=()=>De.forEach(bt=>J(bt.key));P&&P.signal.addEventListener("abort",Gt);let{loaderResults:ht,fetcherResults:Mt}=await Ae(_.matches,ke,wt,De,_e);if(_e.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Gt),De.forEach(bt=>O.delete(bt.key));let lt=ip([...ht,...Mt]);if(lt){if(lt.idx>=wt.length){let bt=De[lt.idx-wt.length].key;Z.add(bt)}return await rt(_e,lt.result,{replace:ot}),{shortCircuited:!0}}let{loaderData:nr,errors:Zt}=rp(_,ke,wt,ht,Ct,De,Mt,z);z.forEach((bt,Dt)=>{bt.subscribe(Wt=>{(Wt||bt.done)&&z.delete(Dt)})}),o.v7_partialHydration&&kt&&_.errors&&Object.entries(_.errors).filter(bt=>{let[Dt]=bt;return!wt.some(Wt=>Wt.route.id===Dt)}).forEach(bt=>{let[Dt,Wt]=bt;Zt=Object.assign(Zt||{},{[Dt]:Wt})});let Ar=te(),er=ue(q),Kt=Ar||er||De.length>0;return cr({matches:ke,loaderData:nr,errors:Zt},Kt?{fetchers:new Map(_.fetchers)}:{})}function Ee(_e){if(_e&&!Jr(_e[1]))return{[_e[0]]:_e[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function Te(_e){return _e.forEach(Se=>{let ke=_.fetchers.get(Se.key),Ve=vi(void 0,ke?ke.data:void 0);_.fetchers.set(Se.key,Ve)}),new Map(_.fetchers)}function qe(_e,Se,ke,Ve){if(f)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(_e)&&J(_e);let nt=(Ve&&Ve.unstable_flushSync)===!0,tt=t||F,jt=zc(_.location,_.matches,C,o.v7_prependBasename,ke,o.v7_relativeSplatPath,Se,Ve==null?void 0:Ve.relative),ot=Po(tt,jt,C),kt=St(ot,tt,jt);if(kt.active&&kt.matches&&(ot=kt.matches),!ot){Je(_e,Se,Br(404,{pathname:jt}),{flushSync:nt});return}let{path:_t,submission:Ct,error:de}=Zh(o.v7_normalizeFormMethod,!0,jt,Ve);if(de){Je(_e,Se,de,{flushSync:nt});return}let Ge=Ei(ot,_t);if(R=(Ve&&Ve.preventScrollReset)===!0,Ct&&xn(Ct.formMethod)){$e(_e,Se,_t,Ge,ot,kt.active,nt,Ct);return}re.set(_e,{routeId:Se,path:_t}),pt(_e,Se,_t,Ge,ot,kt.active,nt,Ct)}async function $e(_e,Se,ke,Ve,nt,tt,jt,ot){Pe(),re.delete(_e);function kt(tr){if(!tr.route.action&&!tr.route.lazy){let un=Br(405,{method:ot.formMethod,pathname:ke,routeId:Se});return Je(_e,Se,un,{flushSync:jt}),!0}return!1}if(!tt&&kt(Ve))return;let _t=_.fetchers.get(_e);He(_e,fb(ot,_t),{flushSync:jt});let Ct=new AbortController,de=us(r.history,ke,Ct.signal,ot);if(tt){let tr=await Ut(nt,ke,de.signal);if(tr.type==="aborted")return;if(tr.type==="error"){let{error:un}=Ze(ke,tr);Je(_e,Se,un,{flushSync:jt});return}else if(tr.matches){if(nt=tr.matches,Ve=Ei(nt,ke),kt(Ve))return}else{Je(_e,Se,Br(404,{pathname:ke}),{flushSync:jt});return}}O.set(_e,Ct);let Ge=V,Ie=(await fe("action",de,[Ve],nt))[0];if(de.signal.aborted){O.get(_e)===Ct&&O.delete(_e);return}if(o.v7_fetcherPersist&&ae.has(_e)){if(Do(Ie)||Jr(Ie)){He(_e,to(void 0));return}}else{if(Do(Ie))if(O.delete(_e),q>Ge){He(_e,to(void 0));return}else return Z.add(_e),He(_e,vi(ot)),rt(de,Ie,{fetcherSubmission:ot});if(Jr(Ie)){Je(_e,Se,Ie.error);return}}if(Lo(Ie))throw Br(400,{type:"defer-action"});let wt=_.navigation.location||_.location,De=us(r.history,wt,Ct.signal),Gt=t||F,ht=_.navigation.state!=="idle"?Po(Gt,_.navigation.location,C):_.matches;Lt(ht,"Didn't find any matches after fetcher action");let Mt=++V;X.set(_e,Mt);let lt=vi(ot,Ie.data);_.fetchers.set(_e,lt);let[nr,Zt]=Qh(r.history,_,ht,ot,wt,!1,o.v7_skipActionErrorRevalidation,U,B,N,ae,re,Z,Gt,C,[Ve.route.id,Ie]);Zt.filter(tr=>tr.key!==_e).forEach(tr=>{let un=tr.key,ba=_.fetchers.get(un),du=vi(void 0,ba?ba.data:void 0);_.fetchers.set(un,du),O.has(un)&&J(un),tr.controller&&O.set(un,tr.controller)}),se({fetchers:new Map(_.fetchers)});let Ar=()=>Zt.forEach(tr=>J(tr.key));Ct.signal.addEventListener("abort",Ar);let{loaderResults:er,fetcherResults:Kt}=await Ae(_.matches,ht,nr,Zt,De);if(Ct.signal.aborted)return;Ct.signal.removeEventListener("abort",Ar),X.delete(_e),O.delete(_e),Zt.forEach(tr=>O.delete(tr.key));let bt=ip([...er,...Kt]);if(bt){if(bt.idx>=nr.length){let tr=Zt[bt.idx-nr.length].key;Z.add(tr)}return rt(De,bt.result)}let{loaderData:Dt,errors:Wt}=rp(_,_.matches,nr,er,void 0,Zt,Kt,z);if(_.fetchers.has(_e)){let tr=to(Ie.data);_.fetchers.set(_e,tr)}ue(Mt),_.navigation.state==="loading"&&Mt>q?(Lt(E,"Expected pending action"),P&&P.abort(),ye(_.navigation.location,{matches:ht,loaderData:Dt,errors:Wt,fetchers:new Map(_.fetchers)})):(se({errors:Wt,loaderData:np(_.loaderData,Dt,ht,Wt),fetchers:new Map(_.fetchers)}),U=!1)}async function pt(_e,Se,ke,Ve,nt,tt,jt,ot){let kt=_.fetchers.get(_e);He(_e,vi(ot,kt?kt.data:void 0),{flushSync:jt});let _t=new AbortController,Ct=us(r.history,ke,_t.signal);if(tt){let Ie=await Ut(nt,ke,Ct.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){let{error:wt}=Ze(ke,Ie);Je(_e,Se,wt,{flushSync:jt});return}else if(Ie.matches)nt=Ie.matches,Ve=Ei(nt,ke);else{Je(_e,Se,Br(404,{pathname:ke}),{flushSync:jt});return}}O.set(_e,_t);let de=V,Qe=(await fe("loader",Ct,[Ve],nt))[0];if(Lo(Qe)&&(Qe=await Wy(Qe,Ct.signal,!0)||Qe),O.get(_e)===_t&&O.delete(_e),!Ct.signal.aborted){if(ae.has(_e)){He(_e,to(void 0));return}if(Do(Qe))if(q>de){He(_e,to(void 0));return}else{Z.add(_e),await rt(Ct,Qe);return}if(Jr(Qe)){Je(_e,Se,Qe.error);return}Lt(!Lo(Qe),"Unhandled fetcher deferred data"),He(_e,to(Qe.data))}}async function rt(_e,Se,ke){let{submission:Ve,fetcherSubmission:nt,replace:tt}=ke===void 0?{}:ke;Se.response.headers.has("X-Remix-Revalidate")&&(U=!0);let jt=Se.response.headers.get("Location");Lt(jt,"Expected a Location header on the redirect Response"),jt=ep(jt,new URL(_e.url),C);let ot=Ji(_.location,jt,{_isRedirect:!0});if(s){let Qe=!1;if(Se.response.headers.has("X-Remix-Reload-Document"))Qe=!0;else if(qd.test(jt)){const Ie=r.history.createURL(jt);Qe=Ie.origin!==n.location.origin||ti(Ie.pathname,C)==null}if(Qe){tt?n.location.replace(jt):n.location.assign(jt);return}}P=null;let kt=tt===!0||Se.response.headers.has("X-Remix-Replace")?gr.Replace:gr.Push,{formMethod:_t,formAction:Ct,formEncType:de}=_.navigation;!Ve&&!nt&&_t&&Ct&&de&&(Ve=up(_.navigation));let Ge=Ve||nt;if(q1.has(Se.response.status)&&Ge&&xn(Ge.formMethod))await be(kt,ot,{submission:cr({},Ge,{formAction:jt}),preventScrollReset:R});else{let Qe=qu(ot,Ve);await be(kt,ot,{overrideNavigation:Qe,fetcherSubmission:nt,preventScrollReset:R})}}async function fe(_e,Se,ke,Ve){try{let nt=await tb(S,_e,Se,ke,Ve,k,x);return await Promise.all(nt.map((tt,jt)=>{if(lb(tt)){let ot=tt.result;return{type:Qt.redirect,response:ob(ot,Se,ke[jt].route.id,Ve,C,o.v7_relativeSplatPath)}}return nb(tt)}))}catch(nt){return ke.map(()=>({type:Qt.error,error:nt}))}}async function Ae(_e,Se,ke,Ve,nt){let[tt,...jt]=await Promise.all([ke.length?fe("loader",nt,ke,Se):[],...Ve.map(ot=>{if(ot.matches&&ot.match&&ot.controller){let kt=us(r.history,ot.path,ot.controller.signal);return fe("loader",kt,[ot.match],ot.matches).then(_t=>_t[0])}else return Promise.resolve({type:Qt.error,error:Br(404,{pathname:ot.path})})})]);return await Promise.all([lp(_e,ke,tt,tt.map(()=>nt.signal),!1,_.loaderData),lp(_e,Ve.map(ot=>ot.match),jt,Ve.map(ot=>ot.controller?ot.controller.signal:null),!0)]),{loaderResults:tt,fetcherResults:jt}}function Pe(){U=!0,B.push(...st()),re.forEach((_e,Se)=>{O.has(Se)&&(N.add(Se),J(Se))})}function He(_e,Se,ke){ke===void 0&&(ke={}),_.fetchers.set(_e,Se),se({fetchers:new Map(_.fetchers)},{flushSync:(ke&&ke.flushSync)===!0})}function Je(_e,Se,ke,Ve){Ve===void 0&&(Ve={});let nt=Ss(_.matches,Se);it(_e),se({errors:{[nt.route.id]:ke},fetchers:new Map(_.fetchers)},{flushSync:(Ve&&Ve.flushSync)===!0})}function yt(_e){return o.v7_fetcherPersist&&(ee.set(_e,(ee.get(_e)||0)+1),ae.has(_e)&&ae.delete(_e)),_.fetchers.get(_e)||Y1}function it(_e){let Se=_.fetchers.get(_e);O.has(_e)&&!(Se&&Se.state==="loading"&&X.has(_e))&&J(_e),re.delete(_e),X.delete(_e),Z.delete(_e),ae.delete(_e),N.delete(_e),_.fetchers.delete(_e)}function at(_e){if(o.v7_fetcherPersist){let Se=(ee.get(_e)||0)-1;Se<=0?(ee.delete(_e),ae.add(_e)):ee.set(_e,Se)}else it(_e);se({fetchers:new Map(_.fetchers)})}function J(_e){let Se=O.get(_e);Lt(Se,"Expected fetch controller: "+_e),Se.abort(),O.delete(_e)}function K(_e){for(let Se of _e){let ke=yt(Se),Ve=to(ke.data);_.fetchers.set(Se,Ve)}}function te(){let _e=[],Se=!1;for(let ke of Z){let Ve=_.fetchers.get(ke);Lt(Ve,"Expected fetcher: "+ke),Ve.state==="loading"&&(Z.delete(ke),_e.push(ke),Se=!0)}return K(_e),Se}function ue(_e){let Se=[];for(let[ke,Ve]of X)if(Ve<_e){let nt=_.fetchers.get(ke);Lt(nt,"Expected fetcher: "+ke),nt.state==="loading"&&(J(ke),X.delete(ke),Se.push(ke))}return K(Se),Se.length>0}function we(_e,Se){let ke=_.blockers.get(_e)||gi;return H.get(_e)!==Se&&H.set(_e,Se),ke}function Oe(_e){_.blockers.delete(_e),H.delete(_e)}function Ye(_e,Se){let ke=_.blockers.get(_e)||gi;Lt(ke.state==="unblocked"&&Se.state==="blocked"||ke.state==="blocked"&&Se.state==="blocked"||ke.state==="blocked"&&Se.state==="proceeding"||ke.state==="blocked"&&Se.state==="unblocked"||ke.state==="proceeding"&&Se.state==="unblocked","Invalid blocker state transition: "+ke.state+" -> "+Se.state);let Ve=new Map(_.blockers);Ve.set(_e,Se),se({blockers:Ve})}function We(_e){let{currentLocation:Se,nextLocation:ke,historyAction:Ve}=_e;if(H.size===0)return;H.size>1&&Jo(!1,"A router only supports one blocker at a time");let nt=Array.from(H.entries()),[tt,jt]=nt[nt.length-1],ot=_.blockers.get(tt);if(!(ot&&ot.state==="proceeding")&&jt({currentLocation:Se,nextLocation:ke,historyAction:Ve}))return tt}function je(_e){let Se=Br(404,{pathname:_e}),ke=t||F,{matches:Ve,route:nt}=sp(ke);return st(),{notFoundMatches:Ve,route:nt,error:Se}}function Ze(_e,Se){return{boundaryId:Ss(Se.partialMatches).route.id,error:Br(400,{type:"route-discovery",pathname:_e,message:Se.error!=null&&"message"in Se.error?Se.error:String(Se.error)})}}function st(_e){let Se=[];return z.forEach((ke,Ve)=>{(!_e||_e(Ve))&&(ke.cancel(),Se.push(Ve),z.delete(Ve))}),Se}function At(_e,Se,ke){if(c=_e,i=Se,u=ke||null,!d&&_.navigation===Wu){d=!0;let Ve=Tt(_.location,_.matches);Ve!=null&&se({restoreScrollPosition:Ve})}return()=>{c=null,i=null,u=null}}function Rt(_e,Se){return u&&u(_e,Se.map(Ve=>S1(Ve,_.loaderData)))||_e.key}function Ot(_e,Se){if(c&&i){let ke=Rt(_e,Se);c[ke]=i()}}function Tt(_e,Se){if(c){let ke=Rt(_e,Se),Ve=c[ke];if(typeof Ve=="number")return Ve}return null}function St(_e,Se,ke){if(y){if(l.has(ke))return{active:!1,matches:_e};if(_e){if(Object.keys(_e[0].params).length>0)return{active:!0,matches:el(Se,ke,C,!0)}}else return{active:!0,matches:el(Se,ke,C,!0)||[]}}return{active:!1,matches:null}}async function Ut(_e,Se,ke){let Ve=_e;for(;;){let nt=t==null,tt=t||F;try{await J1(y,Se,Ve,tt,k,x,$,ke)}catch(kt){return{type:"error",error:kt,partialMatches:Ve}}finally{nt&&(F=[...F])}if(ke.aborted)return{type:"aborted"};let jt=Po(tt,Se,C);if(jt)return Vt(Se,l),{type:"success",matches:jt};let ot=el(tt,Se,C,!0);if(!ot||Ve.length===ot.length&&Ve.every((kt,_t)=>kt.route.id===ot[_t].route.id))return Vt(Se,l),{type:"success",matches:null};Ve=ot}}function Vt(_e,Se){if(Se.size>=b){let ke=Se.values().next().value;Se.delete(ke)}Se.add(_e)}function Sr(_e){k={},t=ea(_e,x,void 0,k)}function Ht(_e,Se){let ke=t==null;zy(_e,Se,t||F,k,x),ke&&(F=[...F],se({}))}return w={get basename(){return C},get future(){return o},get state(){return _},get routes(){return F},get window(){return n},initialize:oe,subscribe:Q,enableScrollRestoration:At,navigate:me,fetch:qe,revalidate:he,createHref:_e=>r.history.createHref(_e),encodeLocation:_e=>r.history.encodeLocation(_e),getFetcher:yt,deleteFetcher:at,dispose:le,getBlocker:we,deleteBlocker:Oe,patchRoutes:Ht,_internalFetchControllers:O,_internalActiveDeferreds:z,_internalSetRoutes:Sr},w}function Z1(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function zc(r,n,s,f,x,k,F,t){let C,S;if(F){C=[];for(let o of n)if(C.push(o),o.route.id===F){S=o;break}}else C=n,S=n[n.length-1];let y=Wd(x||".",Hd(C,k),ti(r.pathname,s)||r.pathname,t==="path");return x==null&&(y.search=r.search,y.hash=r.hash),(x==null||x===""||x===".")&&S&&S.route.index&&!Yd(y.search)&&(y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index"),f&&s!=="/"&&(y.pathname=y.pathname==="/"?s:Wn([s,y.pathname])),es(y)}function Zh(r,n,s,f){if(!f||!Z1(f))return{path:s};if(f.formMethod&&!cb(f.formMethod))return{path:s,error:Br(405,{method:f.formMethod})};let x=()=>({path:s,error:Br(400,{type:"invalid-body"})}),k=f.formMethod||"get",F=r?k.toUpperCase():k.toLowerCase(),t=Vy(s);if(f.body!==void 0){if(f.formEncType==="text/plain"){if(!xn(F))return x();let a=typeof f.body=="string"?f.body:f.body instanceof FormData||f.body instanceof URLSearchParams?Array.from(f.body.entries()).reduce((g,b)=>{let[l,c]=b;return""+g+l+"="+c+`
`},""):String(f.body);return{path:s,submission:{formMethod:F,formAction:t,formEncType:f.formEncType,formData:void 0,json:void 0,text:a}}}else if(f.formEncType==="application/json"){if(!xn(F))return x();try{let a=typeof f.body=="string"?JSON.parse(f.body):f.body;return{path:s,submission:{formMethod:F,formAction:t,formEncType:f.formEncType,formData:void 0,json:a,text:void 0}}}catch{return x()}}}Lt(typeof FormData=="function","FormData is not available in this environment");let C,S;if(f.formData)C=Vc(f.formData),S=f.formData;else if(f.body instanceof FormData)C=Vc(f.body),S=f.body;else if(f.body instanceof URLSearchParams)C=f.body,S=tp(C);else if(f.body==null)C=new URLSearchParams,S=new FormData;else try{C=new URLSearchParams(f.body),S=tp(C)}catch{return x()}let y={formMethod:F,formAction:t,formEncType:f&&f.formEncType||"application/x-www-form-urlencoded",formData:S,json:void 0,text:void 0};if(xn(y.formMethod))return{path:s,submission:y};let o=Ln(s);return n&&o.search&&Yd(o.search)&&C.append("index",""),o.search="?"+C,{path:es(o),submission:y}}function Q1(r,n){let s=r;if(n){let f=r.findIndex(x=>x.route.id===n);f>=0&&(s=r.slice(0,f))}return s}function Qh(r,n,s,f,x,k,F,t,C,S,y,o,a,g,b,l){let c=l?Jr(l[1])?l[1].error:l[1].data:void 0,u=r.createURL(n.location),i=r.createURL(x),d=l&&Jr(l[1])?l[0]:void 0,p=d?Q1(s,d):s,v=l?l[1].statusCode:void 0,h=F&&v&&v>=400,w=p.filter((E,R)=>{let{route:P}=E;if(P.lazy)return!0;if(P.loader==null)return!1;if(k)return typeof P.loader!="function"||P.loader.hydrate?!0:n.loaderData[P.id]===void 0&&(!n.errors||n.errors[P.id]===void 0);if(K1(n.loaderData,n.matches[R],E)||C.some(A=>A===E.route.id))return!0;let T=n.matches[R],D=E;return Kh(E,cr({currentUrl:u,currentParams:T.params,nextUrl:i,nextParams:D.params},f,{actionResult:c,actionStatus:v,defaultShouldRevalidate:h?!1:t||u.pathname+u.search===i.pathname+i.search||u.search!==i.search||Gy(T,D)}))}),_=[];return o.forEach((E,R)=>{if(k||!s.some(I=>I.route.id===E.routeId)||y.has(R))return;let P=Po(g,E.path,b);if(!P){_.push({key:R,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let T=n.fetchers.get(R),D=Ei(P,E.path),A=!1;a.has(R)?A=!1:S.has(R)?(S.delete(R),A=!0):T&&T.state!=="idle"&&T.data===void 0?A=t:A=Kh(D,cr({currentUrl:u,currentParams:n.matches[n.matches.length-1].params,nextUrl:i,nextParams:s[s.length-1].params},f,{actionResult:c,actionStatus:v,defaultShouldRevalidate:h?!1:t})),A&&_.push({key:R,routeId:E.routeId,path:E.path,matches:P,match:D,controller:new AbortController})}),[w,_]}function K1(r,n,s){let f=!n||s.route.id!==n.route.id,x=r[s.route.id]===void 0;return f||x}function Gy(r,n){let s=r.route.path;return r.pathname!==n.pathname||s!=null&&s.endsWith("*")&&r.params["*"]!==n.params["*"]}function Kh(r,n){if(r.route.shouldRevalidate){let s=r.route.shouldRevalidate(n);if(typeof s=="boolean")return s}return n.defaultShouldRevalidate}async function J1(r,n,s,f,x,k,F,t){let C=[n,...s.map(S=>S.route.id)].join("-");try{let S=F.get(C);S||(S=r({path:n,matches:s,patch:(y,o)=>{t.aborted||zy(y,o,f,x,k)}}),F.set(C,S)),S&&ab(S)&&await S}finally{F.delete(C)}}function zy(r,n,s,f,x){if(r){var k;let F=f[r];Lt(F,"No route found to patch children into: routeId = "+r);let t=ea(n,x,[r,"patch",String(((k=F.children)==null?void 0:k.length)||"0")],f);F.children?F.children.push(...t):F.children=t}else{let F=ea(n,x,["patch",String(s.length||"0")],f);s.push(...F)}}async function Jh(r,n,s){if(!r.lazy)return;let f=await r.lazy();if(!r.lazy)return;let x=s[r.id];Lt(x,"No route found in manifest");let k={};for(let F in f){let C=x[F]!==void 0&&F!=="hasErrorBoundary";Jo(!C,'Route "'+x.id+'" has a static property "'+F+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+F+'" will be ignored.')),!C&&!x1.has(F)&&(k[F]=f[F])}Object.assign(x,k),Object.assign(x,cr({},n(x),{lazy:void 0}))}function eb(r){return Promise.all(r.matches.map(n=>n.resolve()))}async function tb(r,n,s,f,x,k,F,t){let C=f.reduce((o,a)=>o.add(a.route.id),new Set),S=new Set,y=await r({matches:x.map(o=>{let a=C.has(o.route.id);return cr({},o,{shouldLoad:a,resolve:b=>(S.add(o.route.id),a?rb(n,s,o,k,F,b,t):Promise.resolve({type:Qt.data,result:void 0}))})}),request:s,params:x[0].params,context:t});return x.forEach(o=>Lt(S.has(o.route.id),'`match.resolve()` was not called for route id "'+o.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),y.filter((o,a)=>C.has(x[a].route.id))}async function rb(r,n,s,f,x,k,F){let t,C,S=y=>{let o,a=new Promise((l,c)=>o=c);C=()=>o(),n.signal.addEventListener("abort",C);let g=l=>typeof y!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+r+'" [routeId: '+s.route.id+"]"))):y({request:n,params:s.params,context:F},...l!==void 0?[l]:[]),b;return k?b=k(l=>g(l)):b=(async()=>{try{return{type:"data",result:await g()}}catch(l){return{type:"error",result:l}}})(),Promise.race([b,a])};try{let y=s.route[r];if(s.route.lazy)if(y){let o,[a]=await Promise.all([S(y).catch(g=>{o=g}),Jh(s.route,x,f)]);if(o!==void 0)throw o;t=a}else if(await Jh(s.route,x,f),y=s.route[r],y)t=await S(y);else if(r==="action"){let o=new URL(n.url),a=o.pathname+o.search;throw Br(405,{method:n.method,pathname:a,routeId:s.route.id})}else return{type:Qt.data,result:void 0};else if(y)t=await S(y);else{let o=new URL(n.url),a=o.pathname+o.search;throw Br(404,{pathname:a})}Lt(t.result!==void 0,"You defined "+(r==="action"?"an action":"a loader")+" for route "+('"'+s.route.id+"\" but didn't return anything from your `"+r+"` ")+"function. Please return a value or `null`.")}catch(y){return{type:Qt.error,result:y}}finally{C&&n.signal.removeEventListener("abort",C)}return t}async function nb(r){let{result:n,type:s}=r;if(Hy(n)){let S;try{let y=n.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?n.body==null?S=null:S=await n.json():S=await n.text()}catch(y){return{type:Qt.error,error:y}}return s===Qt.error?{type:Qt.error,error:new El(n.status,n.statusText,S),statusCode:n.status,headers:n.headers}:{type:Qt.data,data:S,statusCode:n.status,headers:n.headers}}if(s===Qt.error){if(ap(n)){var f;if(n.data instanceof Error){var x;return{type:Qt.error,error:n.data,statusCode:(x=n.init)==null?void 0:x.status}}n=new El(((f=n.init)==null?void 0:f.status)||500,void 0,n.data)}return{type:Qt.error,error:n,statusCode:Jl(n)?n.status:void 0}}if(ub(n)){var k,F;return{type:Qt.deferred,deferredData:n,statusCode:(k=n.init)==null?void 0:k.status,headers:((F=n.init)==null?void 0:F.headers)&&new Headers(n.init.headers)}}if(ap(n)){var t,C;return{type:Qt.data,data:n.data,statusCode:(t=n.init)==null?void 0:t.status,headers:(C=n.init)!=null&&C.headers?new Headers(n.init.headers):void 0}}return{type:Qt.data,data:n}}function ob(r,n,s,f,x,k){let F=r.headers.get("Location");if(Lt(F,"Redirects returned/thrown from loaders/actions must have a Location header"),!qd.test(F)){let t=f.slice(0,f.findIndex(C=>C.route.id===s)+1);F=zc(new URL(n.url),t,x,!0,F,k),r.headers.set("Location",F)}return r}function ep(r,n,s){if(qd.test(r)){let f=r,x=f.startsWith("//")?new URL(n.protocol+f):new URL(f),k=ti(x.pathname,s)!=null;if(x.origin===n.origin&&k)return x.pathname+x.search+x.hash}return r}function us(r,n,s,f){let x=r.createURL(Vy(n)).toString(),k={signal:s};if(f&&xn(f.formMethod)){let{formMethod:F,formEncType:t}=f;k.method=F.toUpperCase(),t==="application/json"?(k.headers=new Headers({"Content-Type":t}),k.body=JSON.stringify(f.json)):t==="text/plain"?k.body=f.text:t==="application/x-www-form-urlencoded"&&f.formData?k.body=Vc(f.formData):k.body=f.formData}return new Request(x,k)}function Vc(r){let n=new URLSearchParams;for(let[s,f]of r.entries())n.append(s,typeof f=="string"?f:f.name);return n}function tp(r){let n=new FormData;for(let[s,f]of r.entries())n.append(s,f);return n}function sb(r,n,s,f,x,k){let F={},t=null,C,S=!1,y={},o=f&&Jr(f[1])?f[1].error:void 0;return s.forEach((a,g)=>{let b=n[g].route.id;if(Lt(!Do(a),"Cannot handle redirect results in processLoaderData"),Jr(a)){let l=a.error;if(o!==void 0&&(l=o,o=void 0),t=t||{},k)t[b]=l;else{let c=Ss(r,b);t[c.route.id]==null&&(t[c.route.id]=l)}F[b]=void 0,S||(S=!0,C=Jl(a.error)?a.error.status:500),a.headers&&(y[b]=a.headers)}else Lo(a)?(x.set(b,a.deferredData),F[b]=a.deferredData.data,a.statusCode!=null&&a.statusCode!==200&&!S&&(C=a.statusCode),a.headers&&(y[b]=a.headers)):(F[b]=a.data,a.statusCode&&a.statusCode!==200&&!S&&(C=a.statusCode),a.headers&&(y[b]=a.headers))}),o!==void 0&&f&&(t={[f[0]]:o},F[f[0]]=void 0),{loaderData:F,errors:t,statusCode:C||200,loaderHeaders:y}}function rp(r,n,s,f,x,k,F,t){let{loaderData:C,errors:S}=sb(n,s,f,x,t,!1);for(let y=0;y<k.length;y++){let{key:o,match:a,controller:g}=k[y];Lt(F!==void 0&&F[y]!==void 0,"Did not find corresponding fetcher result");let b=F[y];if(!(g&&g.signal.aborted))if(Jr(b)){let l=Ss(r.matches,a==null?void 0:a.route.id);S&&S[l.route.id]||(S=cr({},S,{[l.route.id]:b.error})),r.fetchers.delete(o)}else if(Do(b))Lt(!1,"Unhandled fetcher revalidation redirect");else if(Lo(b))Lt(!1,"Unhandled fetcher deferred data");else{let l=to(b.data);r.fetchers.set(o,l)}}return{loaderData:C,errors:S}}function np(r,n,s,f){let x=cr({},n);for(let k of s){let F=k.route.id;if(n.hasOwnProperty(F)?n[F]!==void 0&&(x[F]=n[F]):r[F]!==void 0&&k.route.loader&&(x[F]=r[F]),f&&f.hasOwnProperty(F))break}return x}function op(r){return r?Jr(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Ss(r,n){return(n?r.slice(0,r.findIndex(f=>f.route.id===n)+1):[...r]).reverse().find(f=>f.route.hasErrorBoundary===!0)||r[0]}function sp(r){let n=r.length===1?r[0]:r.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:n}],route:n}}function Br(r,n){let{pathname:s,routeId:f,method:x,type:k,message:F}=n===void 0?{}:n,t="Unknown Server Error",C="Unknown @remix-run/router error";return r===400?(t="Bad Request",k==="route-discovery"?C='Unable to match URL "'+s+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+F):x&&s&&f?C="You made a "+x+' request to "'+s+'" but '+('did not provide a `loader` for route "'+f+'", ')+"so there is no way to handle the request.":k==="defer-action"?C="defer() is not supported in actions":k==="invalid-body"&&(C="Unable to encode submission body")):r===403?(t="Forbidden",C='Route "'+f+'" does not match URL "'+s+'"'):r===404?(t="Not Found",C='No route matches URL "'+s+'"'):r===405&&(t="Method Not Allowed",x&&s&&f?C="You made a "+x.toUpperCase()+' request to "'+s+'" but '+('did not provide an `action` for route "'+f+'", ')+"so there is no way to handle the request.":x&&(C='Invalid request method "'+x.toUpperCase()+'"')),new El(r||500,t,new Error(C),!0)}function ip(r){for(let n=r.length-1;n>=0;n--){let s=r[n];if(Do(s))return{result:s,idx:n}}}function Vy(r){let n=typeof r=="string"?Ln(r):r;return es(cr({},n,{hash:""}))}function ib(r,n){return r.pathname!==n.pathname||r.search!==n.search?!1:r.hash===""?n.hash!=="":r.hash===n.hash?!0:n.hash!==""}function ab(r){return typeof r=="object"&&r!=null&&"then"in r}function lb(r){return Hy(r.result)&&W1.has(r.result.status)}function Lo(r){return r.type===Qt.deferred}function Jr(r){return r.type===Qt.error}function Do(r){return(r&&r.type)===Qt.redirect}function ap(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function ub(r){let n=r;return n&&typeof n=="object"&&typeof n.data=="object"&&typeof n.subscribe=="function"&&typeof n.cancel=="function"&&typeof n.resolveData=="function"}function Hy(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function cb(r){return H1.has(r.toLowerCase())}function xn(r){return z1.has(r.toLowerCase())}async function lp(r,n,s,f,x,k){for(let F=0;F<s.length;F++){let t=s[F],C=n[F];if(!C)continue;let S=r.find(o=>o.route.id===C.route.id),y=S!=null&&!Gy(S,C)&&(k&&k[C.route.id])!==void 0;if(Lo(t)&&(x||y)){let o=f[F];Lt(o,"Expected an AbortSignal for revalidating fetcher deferred result"),await Wy(t,o,x).then(a=>{a&&(s[F]=a||s[F])})}}}async function Wy(r,n,s){if(s===void 0&&(s=!1),!await r.deferredData.resolveData(n)){if(s)try{return{type:Qt.data,data:r.deferredData.unwrappedData}}catch(x){return{type:Qt.error,error:x}}return{type:Qt.data,data:r.deferredData.data}}}function Yd(r){return new URLSearchParams(r).getAll("index").some(n=>n==="")}function Ei(r,n){let s=typeof n=="string"?Ln(n).search:n.search;if(r[r.length-1].route.index&&Yd(s||""))return r[r.length-1];let f=Ny(r);return f[f.length-1]}function up(r){let{formMethod:n,formAction:s,formEncType:f,text:x,formData:k,json:F}=r;if(!(!n||!s||!f)){if(x!=null)return{formMethod:n,formAction:s,formEncType:f,formData:void 0,json:void 0,text:x};if(k!=null)return{formMethod:n,formAction:s,formEncType:f,formData:k,json:void 0,text:void 0};if(F!==void 0)return{formMethod:n,formAction:s,formEncType:f,formData:void 0,json:F,text:void 0}}}function qu(r,n){return n?{state:"loading",location:r,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function db(r,n){return{state:"submitting",location:r,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}}function vi(r,n){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:n}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function fb(r,n){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:n?n.data:void 0}}function to(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function hb(r,n){try{let s=r.sessionStorage.getItem(By);if(s){let f=JSON.parse(s);for(let[x,k]of Object.entries(f||{}))k&&Array.isArray(k)&&n.set(x,new Set(k||[]))}}catch{}}function pb(r,n){if(n.size>0){let s={};for(let[f,x]of n)s[f]=[...x];try{r.sessionStorage.setItem(By,JSON.stringify(s))}catch(f){Jo(!1,"Failed to save applied view transitions in sessionStorage ("+f+").")}}}/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(r[f]=s[f])}return r},ta.apply(this,arguments)}const eu=Ke.createContext(null),qy=Ke.createContext(null),ns=Ke.createContext(null),tu=Ke.createContext(null),os=Ke.createContext({outlet:null,matches:[],isDataRoute:!1}),Yy=Ke.createContext(null);function mb(r,n){let{relative:s}=n===void 0?{}:n;ya()||Lt(!1);let{basename:f,navigator:x}=Ke.useContext(ns),{hash:k,pathname:F,search:t}=$y(r,{relative:s}),C=F;return f!=="/"&&(C=F==="/"?f:Wn([f,F])),x.createHref({pathname:C,search:t,hash:k})}function ya(){return Ke.useContext(tu)!=null}function ru(){return ya()||Lt(!1),Ke.useContext(tu).location}function Xy(r){Ke.useContext(ns).static||Ke.useLayoutEffect(r)}function yb(){let{isDataRoute:r}=Ke.useContext(os);return r?Mb():gb()}function gb(){ya()||Lt(!1);let r=Ke.useContext(eu),{basename:n,future:s,navigator:f}=Ke.useContext(ns),{matches:x}=Ke.useContext(os),{pathname:k}=ru(),F=JSON.stringify(Hd(x,s.v7_relativeSplatPath)),t=Ke.useRef(!1);return Xy(()=>{t.current=!0}),Ke.useCallback(function(S,y){if(y===void 0&&(y={}),!t.current)return;if(typeof S=="number"){f.go(S);return}let o=Wd(S,JSON.parse(F),k,y.relative==="path");r==null&&n!=="/"&&(o.pathname=o.pathname==="/"?n:Wn([n,o.pathname])),(y.replace?f.replace:f.push)(o,y.state,y)},[n,f,F,k,r])}function $y(r,n){let{relative:s}=n===void 0?{}:n,{future:f}=Ke.useContext(ns),{matches:x}=Ke.useContext(os),{pathname:k}=ru(),F=JSON.stringify(Hd(x,f.v7_relativeSplatPath));return Ke.useMemo(()=>Wd(r,JSON.parse(F),k,s==="path"),[r,F,k,s])}function vb(r,n,s,f){ya()||Lt(!1);let{navigator:x}=Ke.useContext(ns),{matches:k}=Ke.useContext(os),F=k[k.length-1],t=F?F.params:{};F&&F.pathname;let C=F?F.pathnameBase:"/";F&&F.route;let S=ru(),y;if(n){var o;let c=typeof n=="string"?Ln(n):n;C==="/"||(o=c.pathname)!=null&&o.startsWith(C)||Lt(!1),y=c}else y=S;let a=y.pathname||"/",g=a;if(C!=="/"){let c=C.replace(/^\//,"").split("/");g="/"+a.replace(/^\//,"").split("/").slice(c.length).join("/")}let b=Po(r,{pathname:g}),l=jb(b&&b.map(c=>Object.assign({},c,{params:Object.assign({},t,c.params),pathname:Wn([C,x.encodeLocation?x.encodeLocation(c.pathname).pathname:c.pathname]),pathnameBase:c.pathnameBase==="/"?C:Wn([C,x.encodeLocation?x.encodeLocation(c.pathnameBase).pathname:c.pathnameBase])})),k,s,f);return n&&l?Ke.createElement(tu.Provider,{value:{location:ta({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:gr.Pop}},l):l}function bb(){let r=kb(),n=Jl(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,x={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},k=null;return Ke.createElement(Ke.Fragment,null,Ke.createElement("h2",null,"Unexpected Application Error!"),Ke.createElement("h3",{style:{fontStyle:"italic"}},n),s?Ke.createElement("pre",{style:x},s):null,k)}const _b=Ke.createElement(bb,null);class wb extends Ke.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?Ke.createElement(os.Provider,{value:this.props.routeContext},Ke.createElement(Yy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xb(r){let{routeContext:n,match:s,children:f}=r,x=Ke.useContext(eu);return x&&x.static&&x.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(x.staticContext._deepestRenderedBoundaryId=s.route.id),Ke.createElement(os.Provider,{value:n},f)}function jb(r,n,s,f){var x;if(n===void 0&&(n=[]),s===void 0&&(s=null),f===void 0&&(f=null),r==null){var k;if(!s)return null;if(s.errors)r=s.matches;else if((k=f)!=null&&k.v7_partialHydration&&n.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let F=r,t=(x=s)==null?void 0:x.errors;if(t!=null){let y=F.findIndex(o=>o.route.id&&(t==null?void 0:t[o.route.id])!==void 0);y>=0||Lt(!1),F=F.slice(0,Math.min(F.length,y+1))}let C=!1,S=-1;if(s&&f&&f.v7_partialHydration)for(let y=0;y<F.length;y++){let o=F[y];if((o.route.HydrateFallback||o.route.hydrateFallbackElement)&&(S=y),o.route.id){let{loaderData:a,errors:g}=s,b=o.route.loader&&a[o.route.id]===void 0&&(!g||g[o.route.id]===void 0);if(o.route.lazy||b){C=!0,S>=0?F=F.slice(0,S+1):F=[F[0]];break}}}return F.reduceRight((y,o,a)=>{let g,b=!1,l=null,c=null;s&&(g=t&&o.route.id?t[o.route.id]:void 0,l=o.route.errorElement||_b,C&&(S<0&&a===0?(Cb("route-fallback",!1),b=!0,c=null):S===a&&(b=!0,c=o.route.hydrateFallbackElement||null)));let u=n.concat(F.slice(0,a+1)),i=()=>{let d;return g?d=l:b?d=c:o.route.Component?d=Ke.createElement(o.route.Component,null):o.route.element?d=o.route.element:d=y,Ke.createElement(xb,{match:o,routeContext:{outlet:y,matches:u,isDataRoute:s!=null},children:d})};return s&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?Ke.createElement(wb,{location:s.location,revalidation:s.revalidation,component:l,error:g,children:i(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):i()},null)}var Zy=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Zy||{}),Tl=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Tl||{});function Sb(r){let n=Ke.useContext(eu);return n||Lt(!1),n}function Eb(r){let n=Ke.useContext(qy);return n||Lt(!1),n}function Tb(r){let n=Ke.useContext(os);return n||Lt(!1),n}function Qy(r){let n=Tb(),s=n.matches[n.matches.length-1];return s.route.id||Lt(!1),s.route.id}function kb(){var r;let n=Ke.useContext(Yy),s=Eb(Tl.UseRouteError),f=Qy(Tl.UseRouteError);return n!==void 0?n:(r=s.errors)==null?void 0:r[f]}function Mb(){let{router:r}=Sb(Zy.UseNavigateStable),n=Qy(Tl.UseNavigateStable),s=Ke.useRef(!1);return Xy(()=>{s.current=!0}),Ke.useCallback(function(x,k){k===void 0&&(k={}),s.current&&(typeof x=="number"?r.navigate(x):r.navigate(x,ta({fromRouteId:n},k)))},[r,n])}const cp={};function Cb(r,n,s){!n&&!cp[r]&&(cp[r]=!0)}function Pb(r){let{basename:n="/",children:s=null,location:f,navigationType:x=gr.Pop,navigator:k,static:F=!1,future:t}=r;ya()&&Lt(!1);let C=n.replace(/^\/*/,"/"),S=Ke.useMemo(()=>({basename:C,navigator:k,static:F,future:ta({v7_relativeSplatPath:!1},t)}),[C,t,k,F]);typeof f=="string"&&(f=Ln(f));let{pathname:y="/",search:o="",hash:a="",state:g=null,key:b="default"}=f,l=Ke.useMemo(()=>{let c=ti(y,C);return c==null?null:{location:{pathname:c,search:o,hash:a,state:g,key:b},navigationType:x}},[C,y,o,a,g,b,x]);return l==null?null:Ke.createElement(ns.Provider,{value:S},Ke.createElement(tu.Provider,{children:s,value:l}))}new Promise(()=>{});function Ab(r){let n={hasErrorBoundary:r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&Object.assign(n,{element:Ke.createElement(r.Component),Component:void 0}),r.HydrateFallback&&Object.assign(n,{hydrateFallbackElement:Ke.createElement(r.HydrateFallback),HydrateFallback:void 0}),r.ErrorBoundary&&Object.assign(n,{errorElement:Ke.createElement(r.ErrorBoundary),ErrorBoundary:void 0}),n}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ra(){return ra=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(r[f]=s[f])}return r},ra.apply(this,arguments)}function Ob(r,n){if(r==null)return{};var s={},f=Object.keys(r),x,k;for(k=0;k<f.length;k++)x=f[k],!(n.indexOf(x)>=0)&&(s[x]=r[x]);return s}function Rb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Lb(r,n){return r.button===0&&(!n||n==="_self")&&!Rb(r)}const Db=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Ib="6";try{window.__reactRouterVersion=Ib}catch{}function Fb(r,n){return $1({basename:n==null?void 0:n.basename,future:ra({},n==null?void 0:n.future,{v7_prependBasename:!0}),history:b1({window:n==null?void 0:n.window}),hydrationData:(n==null?void 0:n.hydrationData)||Nb(),routes:r,mapRouteProperties:Ab,unstable_dataStrategy:n==null?void 0:n.unstable_dataStrategy,unstable_patchRoutesOnNavigation:n==null?void 0:n.unstable_patchRoutesOnNavigation,window:n==null?void 0:n.window}).initialize()}function Nb(){var r;let n=(r=window)==null?void 0:r.__staticRouterHydrationData;return n&&n.errors&&(n=ra({},n,{errors:Ub(n.errors)})),n}function Ub(r){if(!r)return null;let n=Object.entries(r),s={};for(let[f,x]of n)if(x&&x.__type==="RouteErrorResponse")s[f]=new El(x.status,x.statusText,x.data,x.internal===!0);else if(x&&x.__type==="Error"){if(x.__subType){let k=window[x.__subType];if(typeof k=="function")try{let F=new k(x.message);F.stack="",s[f]=F}catch{}}if(s[f]==null){let k=new Error(x.message);k.stack="",s[f]=k}}else s[f]=x;return s}const Bb=Ke.createContext({isTransitioning:!1}),Gb=Ke.createContext(new Map),zb="startTransition",dp=i0[zb],Vb="flushSync",fp=v1[Vb];function Hb(r){dp?dp(r):r()}function bi(r){fp?fp(r):r()}class Wb{constructor(){this.status="pending",this.promise=new Promise((n,s)=>{this.resolve=f=>{this.status==="pending"&&(this.status="resolved",n(f))},this.reject=f=>{this.status==="pending"&&(this.status="rejected",s(f))}})}}function qb(r){let{fallbackElement:n,router:s,future:f}=r,[x,k]=Ke.useState(s.state),[F,t]=Ke.useState(),[C,S]=Ke.useState({isTransitioning:!1}),[y,o]=Ke.useState(),[a,g]=Ke.useState(),[b,l]=Ke.useState(),c=Ke.useRef(new Map),{v7_startTransition:u}=f||{},i=Ke.useCallback(_=>{u?Hb(_):_()},[u]),d=Ke.useCallback((_,E)=>{let{deletedFetchers:R,unstable_flushSync:P,unstable_viewTransitionOpts:T}=E;R.forEach(A=>c.current.delete(A)),_.fetchers.forEach((A,I)=>{A.data!==void 0&&c.current.set(I,A.data)});let D=s.window==null||s.window.document==null||typeof s.window.document.startViewTransition!="function";if(!T||D){P?bi(()=>k(_)):i(()=>k(_));return}if(P){bi(()=>{a&&(y&&y.resolve(),a.skipTransition()),S({isTransitioning:!0,flushSync:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation})});let A=s.window.document.startViewTransition(()=>{bi(()=>k(_))});A.finished.finally(()=>{bi(()=>{o(void 0),g(void 0),t(void 0),S({isTransitioning:!1})})}),bi(()=>g(A));return}a?(y&&y.resolve(),a.skipTransition(),l({state:_,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(t(_),S({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[s.window,a,y,c,i]);Ke.useLayoutEffect(()=>s.subscribe(d),[s,d]),Ke.useEffect(()=>{C.isTransitioning&&!C.flushSync&&o(new Wb)},[C]),Ke.useEffect(()=>{if(y&&F&&s.window){let _=F,E=y.promise,R=s.window.document.startViewTransition(async()=>{i(()=>k(_)),await E});R.finished.finally(()=>{o(void 0),g(void 0),t(void 0),S({isTransitioning:!1})}),g(R)}},[i,F,y,s.window]),Ke.useEffect(()=>{y&&F&&x.location.key===F.location.key&&y.resolve()},[y,a,x.location,F]),Ke.useEffect(()=>{!C.isTransitioning&&b&&(t(b.state),S({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),l(void 0))},[C.isTransitioning,b]),Ke.useEffect(()=>{},[]);let p=Ke.useMemo(()=>({createHref:s.createHref,encodeLocation:s.encodeLocation,go:_=>s.navigate(_),push:(_,E,R)=>s.navigate(_,{state:E,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(_,E,R)=>s.navigate(_,{replace:!0,state:E,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[s]),v=s.basename||"/",h=Ke.useMemo(()=>({router:s,navigator:p,static:!1,basename:v}),[s,p,v]),w=Ke.useMemo(()=>({v7_relativeSplatPath:s.future.v7_relativeSplatPath}),[s.future.v7_relativeSplatPath]);return Ke.createElement(Ke.Fragment,null,Ke.createElement(eu.Provider,{value:h},Ke.createElement(qy.Provider,{value:x},Ke.createElement(Gb.Provider,{value:c.current},Ke.createElement(Bb.Provider,{value:C},Ke.createElement(Pb,{basename:v,location:x.location,navigationType:x.historyAction,navigator:p,future:w},x.initialized||s.future.v7_partialHydration?Ke.createElement(Yb,{routes:s.routes,future:s.future,state:x}):n))))),null)}const Yb=Ke.memo(Xb);function Xb(r){let{routes:n,future:s,state:f}=r;return vb(n,void 0,f,s)}const $b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hp=Ke.forwardRef(function(n,s){let{onClick:f,relative:x,reloadDocument:k,replace:F,state:t,target:C,to:S,preventScrollReset:y,unstable_viewTransition:o}=n,a=Ob(n,Db),{basename:g}=Ke.useContext(ns),b,l=!1;if(typeof S=="string"&&Zb.test(S)&&(b=S,$b))try{let d=new URL(window.location.href),p=S.startsWith("//")?new URL(d.protocol+S):new URL(S),v=ti(p.pathname,g);p.origin===d.origin&&v!=null?S=v+p.search+p.hash:l=!0}catch{}let c=mb(S,{relative:x}),u=Qb(S,{replace:F,state:t,target:C,preventScrollReset:y,relative:x,unstable_viewTransition:o});function i(d){f&&f(d),d.defaultPrevented||u(d)}return Ke.createElement("a",ra({},a,{href:b||c,onClick:l||k?f:i,ref:s,target:C}))});var pp;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(pp||(pp={}));var mp;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(mp||(mp={}));function Qb(r,n){let{target:s,replace:f,state:x,preventScrollReset:k,relative:F,unstable_viewTransition:t}=n===void 0?{}:n,C=yb(),S=ru(),y=$y(r,{relative:F});return Ke.useCallback(o=>{if(Lb(o,s)){o.preventDefault();let a=f!==void 0?f:es(S)===es(y);C(r,{replace:a,state:x,preventScrollReset:k,relative:F,unstable_viewTransition:t})}},[S,C,y,f,x,s,r,k,F,t])}function Kb(){return xr("p",{children:"Not found"})}function Jb(){return ds("div",{className:"flex flex-col justify-center items-center select-none min-h-screen bg-gradient-to-br from-gray-900  to-blue-700",children:[xr("h1",{className:"text-6xl text-green-500 border-b-4 pb-4",children:"TTetris"}),xr("h2",{className:"text-4xl text-gray-300 mt-10 text-center",children:xr(hp,{to:"/solo",className:"text-green-400 underline",children:"Single player"})}),xr("h2",{className:"text-4xl text-gray-300 mt-10 text-center",children:xr(hp,{to:"/multi/local",className:"text-green-400 underline",children:"Local Multiplayer"})})]})}var qo={};Object.defineProperty(qo,"__esModule",{value:!0});var Ky=qo.useStates=qo.bindStateEffect=qo.bindState=void 0;const yp=Ke;function e_(r,n,s){if(n===void 0){const[f,x]=r;return{value:f,onChange:k=>x(k.currentTarget.value)}}if(typeof n=="string"){const[f,x]=r;return{[n]:f,onChange:k=>x(k.currentTarget[n])}}return s===void 0?{value:r,onChange:f=>n(f.currentTarget.value)}:{[s]:r,onChange:f=>n(f.currentTarget[s])}}qo.bindState=e_;function t_(r,n,s,f){if(s===void 0&&typeof n=="function"){const[x,k]=r;return{value:x,onChange:F=>{k(F.currentTarget.value),n(F.currentTarget.value)}}}if(f===void 0&&typeof n=="string"&&typeof s=="function"){const[x,k]=r;return{[n]:x,onChange:F=>{k(F.currentTarget[n]),s(F.currentTarget[n])}}}return f===void 0&&typeof n=="function"&&typeof s=="function"?{value:r,onChange:x=>{n(x.currentTarget.value),s(x.currentTarget.value)}}:typeof n=="function"&&typeof s=="string"&&typeof f=="function"?{[s]:r,onChange:x=>{n(x.currentTarget[s]),f(x.currentTarget[s])}}:{value:void 0,onChange:void 0}}qo.bindStateEffect=t_;function r_(r){const n={};return Object.entries(r).forEach(([f,x])=>{const[k,F]=yp.useState.call(this,x),t=yp.useRef(null);t.current=k,n[f]=[t,C=>{F(C),t.current=C}]}),new Proxy(n,{get(f,x,k){if(typeof x=="symbol")return Reflect.get(f,x,k);if(x==="__isProxy")return!0;if(x.startsWith("$")){const F=x.substr(1);return[f[F][0].current,f[F][1]]}return f[x][0].current},set(f,x,k,F){if(typeof x=="symbol")return Reflect.set(f,x,k,F);if(x.startsWith("$")){if(!(k instanceof Array)||k.length<2)return!1;const t=x.substr(1);return f[t]=k,!0}return f[x][1](k),!0}})}Ky=qo.useStates=r_;var Jy={exports:{}};(function(r,n){(function(s,f){r.exports=f(Ke)})(cs,function(s){return function(f){var x={};function k(F){if(x[F])return x[F].exports;var t=x[F]={i:F,l:!1,exports:{}};return f[F].call(t.exports,t,t.exports,k),t.l=!0,t.exports}return k.m=f,k.c=x,k.d=function(F,t,C){k.o(F,t)||Object.defineProperty(F,t,{enumerable:!0,get:C})},k.r=function(F){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(F,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(F,"__esModule",{value:!0})},k.t=function(F,t){if(1&t&&(F=k(F)),8&t||4&t&&typeof F=="object"&&F&&F.__esModule)return F;var C=Object.create(null);if(k.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:F}),2&t&&typeof F!="string")for(var S in F)k.d(C,S,(function(y){return F[y]}).bind(null,S));return C},k.n=function(F){var t=F&&F.__esModule?function(){return F.default}:function(){return F};return k.d(t,"a",t),t},k.o=function(F,t){return Object.prototype.hasOwnProperty.call(F,t)},k.p="",k(k.s=2)}([function(f,x){f.exports=s},function(f,x,k){(function(F){(function(t){f.exports=t()})(function(){return function t(C,S,y){function o(b,l){if(!S[b]){if(!C[b]){var c=!1;if(!l&&c)return(void 0)(b,!0);if(a)return a(b,!0);throw(l=new Error("Cannot find module '"+b+"'")).code="MODULE_NOT_FOUND",l}c=S[b]={exports:{}},C[b][0].call(c.exports,function(u){return o(C[b][1][u]||u)},c,c.exports,t,C,S,y)}return S[b].exports}for(var a=!1,g=0;g<y.length;g++)o(y[g]);return o}({1:[function(t,C,S){S.byteLength=function(u){return 3*((u=c(u))[0]+(u=u[1]))/4-u},S.toByteArray=function(u){var i,d,p=(v=c(u))[0],v=v[1],h=new a(function(E,R){return 3*(E+R)/4-R}(p,v)),w=0,_=0<v?p-4:p;for(d=0;d<_;d+=4)i=o[u.charCodeAt(d)]<<18|o[u.charCodeAt(d+1)]<<12|o[u.charCodeAt(d+2)]<<6|o[u.charCodeAt(d+3)],h[w++]=i>>16&255,h[w++]=i>>8&255,h[w++]=255&i;return v===2&&(i=o[u.charCodeAt(d)]<<2|o[u.charCodeAt(d+1)]>>4,h[w++]=255&i),v===1&&(i=o[u.charCodeAt(d)]<<10|o[u.charCodeAt(d+1)]<<4|o[u.charCodeAt(d+2)]>>2,h[w++]=i>>8&255,h[w++]=255&i),h},S.fromByteArray=function(u){for(var i,d=u.length,p=d%3,v=[],h=0,w=d-p;h<w;h+=16383)v.push(function(_,E,R){for(var P,T=[],D=E;D<R;D+=3)P=(_[D]<<16&16711680)+(_[D+1]<<8&65280)+(255&_[D+2]),T.push(function(A){return y[A>>18&63]+y[A>>12&63]+y[A>>6&63]+y[63&A]}(P));return T.join("")}(u,h,w<h+16383?w:h+16383));return p==1?(i=u[d-1],v.push(y[i>>2]+y[i<<4&63]+"==")):p==2&&(i=(u[d-2]<<8)+u[d-1],v.push(y[i>>10]+y[i>>4&63]+y[i<<2&63]+"=")),v.join("")};for(var y=[],o=[],a=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,l=g.length;b<l;++b)y[b]=g[b],o[g.charCodeAt(b)]=b;function c(u){var i=u.length;if(0<i%4)throw new Error("Invalid string. Length must be a multiple of 4");return i=(u=(u=u.indexOf("="))===-1?i:u)===i?0:4-u%4,[u,i]}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(t,C,S){},{}],3:[function(t,C,S){arguments[4][2][0].apply(S,arguments)},{dup:2}],4:[function(t,C,S){(function(c){var o=t("base64-js"),a=t("ieee754"),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,b=(S.Buffer=c,S.SlowBuffer=function(z){return+z!=z&&(z=0),c.alloc(+z)},S.INSPECT_MAX_BYTES=50,2147483647);function l(z){if(b<z)throw new RangeError('The value "'+z+'" is invalid for option "size"');return z=new Uint8Array(z),Object.setPrototypeOf(z,c.prototype),z}function c(z,H,$){if(typeof z!="number")return u(z,H,$);if(typeof H=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(z)}function u(z,H,$){if(typeof z=="string"){var ne=z,oe=H;if(c.isEncoding(oe=typeof oe=="string"&&oe!==""?oe:"utf8"))return(ne=(Q=l(le=0|h(ne,oe))).write(ne,oe))!==le?Q.slice(0,ne):Q;throw new TypeError("Unknown encoding: "+oe)}if(ArrayBuffer.isView(z))return p(z);if(z!=null){if(re(z,ArrayBuffer)||z&&re(z.buffer,ArrayBuffer)){var le=z,Q=$;if((ne=H)<0||le.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(le.byteLength<ne+(Q||0))throw new RangeError('"length" is outside of buffer bounds');return le=ne===void 0&&Q===void 0?new Uint8Array(le):Q===void 0?new Uint8Array(le,ne):new Uint8Array(le,ne,Q),Object.setPrototypeOf(le,c.prototype),le}if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if((oe=z.valueOf&&z.valueOf())!=null&&oe!==z)return c.from(oe,H,$);var se=function(ye){var me,he;return c.isBuffer(ye)?((he=l(me=0|v(ye.length))).length!==0&&ye.copy(he,0,0,me),he):ye.length!==void 0?typeof ye.length!="number"||ee(ye.length)?l(0):p(ye):ye.type==="Buffer"&&Array.isArray(ye.data)?p(ye.data):void 0}(z);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return c.from(z[Symbol.toPrimitive]("string"),H,$)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}function i(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function d(z){return i(z),l(z<0?0:0|v(z))}function p(z){for(var H=z.length<0?0:0|v(z.length),$=l(H),ne=0;ne<H;ne+=1)$[ne]=255&z[ne];return $}function v(z){if(b<=z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|z}function h(z,H){if(c.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||re(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var $=z.length,ne=2<arguments.length&&arguments[2]===!0;if(!ne&&$===0)return 0;for(var oe=!1;;)switch(H){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return q(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return X(z).length;default:if(oe)return ne?-1:q(z).length;H=(""+H).toLowerCase(),oe=!0}}function w(z,H,$){var ne,oe=!1;if((H=H===void 0||H<0?0:H)>this.length||($=$===void 0||$>this.length?this.length:$)<=0||($>>>=0)<=(H>>>=0))return"";for(z=z||"utf8";;)switch(z){case"hex":var le=H,Q=$,se=this.length;(!Q||Q<0||se<Q)&&(Q=se);for(var ye="",me=le=!le||le<0?0:le;me<Q;++me)ye+=ae[this[me]];return ye;case"utf8":case"utf-8":return D(this,H,$);case"ascii":se=H;var he=$,be="";he=Math.min(this.length,he);for(var Ue=se;Ue<he;++Ue)be+=String.fromCharCode(127&this[Ue]);return be;case"latin1":case"binary":le=H;var Ne=$,Ee="";Ne=Math.min(this.length,Ne);for(var Te=le;Te<Ne;++Te)Ee+=String.fromCharCode(this[Te]);return Ee;case"base64":return qe=this,ne=$,($e=H)===0&&ne===qe.length?o.fromByteArray(qe):o.fromByteArray(qe.slice($e,ne));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var qe=H,$e=$,pt=this.slice(qe,$e),rt="",fe=0;fe<pt.length;fe+=2)rt+=String.fromCharCode(pt[fe]+256*pt[fe+1]);return rt;default:if(oe)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),oe=!0}}function _(z,H,$){var ne=z[H];z[H]=z[$],z[$]=ne}function E(z,H,$,ne,oe){if(z.length===0)return-1;if(typeof $=="string"?(ne=$,$=0):2147483647<$?$=2147483647:$<-2147483648&&($=-2147483648),($=($=ee($=+$)?oe?0:z.length-1:$)<0?z.length+$:$)>=z.length){if(oe)return-1;$=z.length-1}else if($<0){if(!oe)return-1;$=0}if(typeof H=="string"&&(H=c.from(H,ne)),c.isBuffer(H))return H.length===0?-1:R(z,H,$,ne,oe);if(typeof H=="number")return H&=255,typeof Uint8Array.prototype.indexOf=="function"?(oe?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(z,H,$):R(z,[H],$,ne,oe);throw new TypeError("val must be string, number or Buffer")}function R(z,H,$,ne,oe){var le=1,Q=z.length,se=H.length;if(ne!==void 0&&((ne=String(ne).toLowerCase())==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(z.length<2||H.length<2)return-1;Q/=le=2,se/=2,$/=2}function ye(Ne,Ee){return le===1?Ne[Ee]:Ne.readUInt16BE(Ee*le)}if(oe)for(var me=-1,he=$;he<Q;he++)if(ye(z,he)===ye(H,me===-1?0:he-me)){if(he-(me=me===-1?he:me)+1===se)return me*le}else me!==-1&&(he-=he-me),me=-1;else for(he=$=Q<$+se?Q-se:$;0<=he;he--){for(var be=!0,Ue=0;Ue<se;Ue++)if(ye(z,he+Ue)!==ye(H,Ue)){be=!1;break}if(be)return he}return-1}function P(z,H,$,ne){return Z(function(oe){for(var le=[],Q=0;Q<oe.length;++Q)le.push(255&oe.charCodeAt(Q));return le}(H),z,$,ne)}function T(z,H,$,ne){return Z(function(oe,le){for(var Q,se,ye=[],me=0;me<oe.length&&!((le-=2)<0);++me)Q=(se=oe.charCodeAt(me))>>8,se%=256,ye.push(se),ye.push(Q);return ye}(H,z.length-$),z,$,ne)}function D(z,H,$){$=Math.min(z.length,$);for(var ne=[],oe=H;oe<$;){var le,Q,se,ye,me=z[oe],he=null,be=239<me?4:223<me?3:191<me?2:1;if(oe+be<=$)switch(be){case 1:me<128&&(he=me);break;case 2:(192&(le=z[oe+1]))==128&&127<(ye=(31&me)<<6|63&le)&&(he=ye);break;case 3:le=z[oe+1],Q=z[oe+2],(192&le)==128&&(192&Q)==128&&2047<(ye=(15&me)<<12|(63&le)<<6|63&Q)&&(ye<55296||57343<ye)&&(he=ye);break;case 4:le=z[oe+1],Q=z[oe+2],se=z[oe+3],(192&le)==128&&(192&Q)==128&&(192&se)==128&&65535<(ye=(15&me)<<18|(63&le)<<12|(63&Q)<<6|63&se)&&ye<1114112&&(he=ye)}he===null?(he=65533,be=1):65535<he&&(he-=65536,ne.push(he>>>10&1023|55296),he=56320|1023&he),ne.push(he),oe+=be}var Ue=ne,Ne=Ue.length;if(Ne<=A)return String.fromCharCode.apply(String,Ue);for(var Ee="",Te=0;Te<Ne;)Ee+=String.fromCharCode.apply(String,Ue.slice(Te,Te+=A));return Ee}S.kMaxLength=b,(c.TYPED_ARRAY_SUPPORT=function(){try{var z=new Uint8Array(1),H={foo:function(){return 42}};return Object.setPrototypeOf(H,Uint8Array.prototype),Object.setPrototypeOf(z,H),z.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=u,Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(z,H,$){return H=H,$=$,i(z=z),z<=0||H===void 0?l(z):typeof $=="string"?l(z).fill(H,$):l(z).fill(H)},c.allocUnsafe=d,c.allocUnsafeSlow=d,c.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==c.prototype},c.compare=function(z,H){if(re(z,Uint8Array)&&(z=c.from(z,z.offset,z.byteLength)),re(H,Uint8Array)&&(H=c.from(H,H.offset,H.byteLength)),!c.isBuffer(z)||!c.isBuffer(H))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===H)return 0;for(var $=z.length,ne=H.length,oe=0,le=Math.min($,ne);oe<le;++oe)if(z[oe]!==H[oe]){$=z[oe],ne=H[oe];break}return $<ne?-1:ne<$?1:0},c.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(z,H){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return c.alloc(0);if(H===void 0)for(oe=H=0;oe<z.length;++oe)H+=z[oe].length;for(var $=c.allocUnsafe(H),ne=0,oe=0;oe<z.length;++oe){var le=z[oe];if(re(le,Uint8Array)&&(le=c.from(le)),!c.isBuffer(le))throw new TypeError('"list" argument must be an Array of Buffers');le.copy($,ne),ne+=le.length}return $},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var H=0;H<z;H+=2)_(this,H,H+1);return this},c.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var H=0;H<z;H+=4)_(this,H,H+3),_(this,H+1,H+2);return this},c.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var H=0;H<z;H+=8)_(this,H,H+7),_(this,H+1,H+6),_(this,H+2,H+5),_(this,H+3,H+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var z=this.length;return z===0?"":arguments.length===0?D(this,0,z):w.apply(this,arguments)},c.prototype.equals=function(z){if(c.isBuffer(z))return this===z||c.compare(this,z)===0;throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var z="",H=S.INSPECT_MAX_BYTES;return z=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim(),this.length>H&&(z+=" ... "),"<Buffer "+z+">"},g&&(c.prototype[g]=c.prototype.inspect),c.prototype.compare=function(z,H,$,ne,oe){if(re(z,Uint8Array)&&(z=c.from(z,z.offset,z.byteLength)),!c.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if($===void 0&&($=z?z.length:0),ne===void 0&&(ne=0),oe===void 0&&(oe=this.length),(H=H===void 0?0:H)<0||$>z.length||ne<0||oe>this.length)throw new RangeError("out of range index");if(oe<=ne&&$<=H)return 0;if(oe<=ne)return-1;if($<=H)return 1;if(this===z)return 0;for(var le=(oe>>>=0)-(ne>>>=0),Q=($>>>=0)-(H>>>=0),se=Math.min(le,Q),ye=this.slice(ne,oe),me=z.slice(H,$),he=0;he<se;++he)if(ye[he]!==me[he]){le=ye[he],Q=me[he];break}return le<Q?-1:Q<le?1:0},c.prototype.includes=function(z,H,$){return this.indexOf(z,H,$)!==-1},c.prototype.indexOf=function(z,H,$){return E(this,z,H,$,!0)},c.prototype.lastIndexOf=function(z,H,$){return E(this,z,H,$,!1)},c.prototype.write=function(z,H,$,ne){if(H===void 0)ne="utf8",$=this.length,H=0;else if($===void 0&&typeof H=="string")ne=H,$=this.length,H=0;else{if(!isFinite(H))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");H>>>=0,isFinite($)?($>>>=0,ne===void 0&&(ne="utf8")):(ne=$,$=void 0)}var oe=this.length-H;if(($===void 0||oe<$)&&($=oe),0<z.length&&($<0||H<0)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne=ne||"utf8";for(var le,Q,se,ye=!1;;)switch(ne){case"hex":var me=z,he=H,be=$,Ue=(he=Number(he)||0,this.length-he);(!be||Ue<(be=Number(be)))&&(be=Ue),(Ue=me.length)/2<be&&(be=Ue/2);for(var Ne=0;Ne<be;++Ne){var Ee=parseInt(me.substr(2*Ne,2),16);if(ee(Ee))return Ne;this[he+Ne]=Ee}return Ne;case"utf8":case"utf-8":return Ue=H,se=$,Z(q(z,(Q=this).length-Ue),Q,Ue,se);case"ascii":return P(this,z,H,$);case"latin1":case"binary":return P(this,z,H,$);case"base64":return Q=this,se=H,le=$,Z(X(z),Q,se,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,z,H,$);default:if(ye)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),ye=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function I(z,H,$){if(z%1!=0||z<0)throw new RangeError("offset is not uint");if($<z+H)throw new RangeError("Trying to access beyond buffer length")}function U(z,H,$,ne,oe,le){if(!c.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe<H||H<le)throw new RangeError('"value" argument is out of bounds');if($+ne>z.length)throw new RangeError("Index out of range")}function B(z,H,$,ne){if($+ne>z.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function N(z,H,$,ne,oe){return H=+H,$>>>=0,oe||B(z,0,$,4),a.write(z,H,$,ne,23,4),$+4}function O(z,H,$,ne,oe){return H=+H,$>>>=0,oe||B(z,0,$,8),a.write(z,H,$,ne,52,8),$+8}c.prototype.slice=function(z,H){var $=this.length;return(z=~~z)<0?(z+=$)<0&&(z=0):$<z&&(z=$),(H=H===void 0?$:~~H)<0?(H+=$)<0&&(H=0):$<H&&(H=$),H<z&&(H=z),$=this.subarray(z,H),Object.setPrototypeOf($,c.prototype),$},c.prototype.readUIntLE=function(z,H,$){z>>>=0,H>>>=0,$||I(z,H,this.length);for(var ne=this[z],oe=1,le=0;++le<H&&(oe*=256);)ne+=this[z+le]*oe;return ne},c.prototype.readUIntBE=function(z,H,$){z>>>=0,H>>>=0,$||I(z,H,this.length);for(var ne=this[z+--H],oe=1;0<H&&(oe*=256);)ne+=this[z+--H]*oe;return ne},c.prototype.readUInt8=function(z,H){return z>>>=0,H||I(z,1,this.length),this[z]},c.prototype.readUInt16LE=function(z,H){return z>>>=0,H||I(z,2,this.length),this[z]|this[z+1]<<8},c.prototype.readUInt16BE=function(z,H){return z>>>=0,H||I(z,2,this.length),this[z]<<8|this[z+1]},c.prototype.readUInt32LE=function(z,H){return z>>>=0,H||I(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},c.prototype.readUInt32BE=function(z,H){return z>>>=0,H||I(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},c.prototype.readIntLE=function(z,H,$){z>>>=0,H>>>=0,$||I(z,H,this.length);for(var ne=this[z],oe=1,le=0;++le<H&&(oe*=256);)ne+=this[z+le]*oe;return(oe*=128)<=ne&&(ne-=Math.pow(2,8*H)),ne},c.prototype.readIntBE=function(z,H,$){z>>>=0,H>>>=0,$||I(z,H,this.length);for(var ne=H,oe=1,le=this[z+--ne];0<ne&&(oe*=256);)le+=this[z+--ne]*oe;return(oe*=128)<=le&&(le-=Math.pow(2,8*H)),le},c.prototype.readInt8=function(z,H){return z>>>=0,H||I(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},c.prototype.readInt16LE=function(z,H){return z>>>=0,H||I(z,2,this.length),32768&(H=this[z]|this[z+1]<<8)?4294901760|H:H},c.prototype.readInt16BE=function(z,H){return z>>>=0,H||I(z,2,this.length),32768&(H=this[z+1]|this[z]<<8)?4294901760|H:H},c.prototype.readInt32LE=function(z,H){return z>>>=0,H||I(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},c.prototype.readInt32BE=function(z,H){return z>>>=0,H||I(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},c.prototype.readFloatLE=function(z,H){return z>>>=0,H||I(z,4,this.length),a.read(this,z,!0,23,4)},c.prototype.readFloatBE=function(z,H){return z>>>=0,H||I(z,4,this.length),a.read(this,z,!1,23,4)},c.prototype.readDoubleLE=function(z,H){return z>>>=0,H||I(z,8,this.length),a.read(this,z,!0,52,8)},c.prototype.readDoubleBE=function(z,H){return z>>>=0,H||I(z,8,this.length),a.read(this,z,!1,52,8)},c.prototype.writeUIntLE=function(z,H,$,ne){z=+z,H>>>=0,$>>>=0,ne||U(this,z,H,$,Math.pow(2,8*$)-1,0);var oe=1,le=0;for(this[H]=255&z;++le<$&&(oe*=256);)this[H+le]=z/oe&255;return H+$},c.prototype.writeUIntBE=function(z,H,$,ne){z=+z,H>>>=0,$>>>=0,ne||U(this,z,H,$,Math.pow(2,8*$)-1,0);var oe=$-1,le=1;for(this[H+oe]=255&z;0<=--oe&&(le*=256);)this[H+oe]=z/le&255;return H+$},c.prototype.writeUInt8=function(z,H,$){return z=+z,H>>>=0,$||U(this,z,H,1,255,0),this[H]=255&z,H+1},c.prototype.writeUInt16LE=function(z,H,$){return z=+z,H>>>=0,$||U(this,z,H,2,65535,0),this[H]=255&z,this[H+1]=z>>>8,H+2},c.prototype.writeUInt16BE=function(z,H,$){return z=+z,H>>>=0,$||U(this,z,H,2,65535,0),this[H]=z>>>8,this[H+1]=255&z,H+2},c.prototype.writeUInt32LE=function(z,H,$){return z=+z,H>>>=0,$||U(this,z,H,4,4294967295,0),this[H+3]=z>>>24,this[H+2]=z>>>16,this[H+1]=z>>>8,this[H]=255&z,H+4},c.prototype.writeUInt32BE=function(z,H,$){return z=+z,H>>>=0,$||U(this,z,H,4,4294967295,0),this[H]=z>>>24,this[H+1]=z>>>16,this[H+2]=z>>>8,this[H+3]=255&z,H+4},c.prototype.writeIntLE=function(z,H,$,ne){z=+z,H>>>=0,ne||U(this,z,H,$,(ne=Math.pow(2,8*$-1))-1,-ne);var oe=0,le=1,Q=0;for(this[H]=255&z;++oe<$&&(le*=256);)z<0&&Q===0&&this[H+oe-1]!==0&&(Q=1),this[H+oe]=(z/le>>0)-Q&255;return H+$},c.prototype.writeIntBE=function(z,H,$,ne){z=+z,H>>>=0,ne||U(this,z,H,$,(ne=Math.pow(2,8*$-1))-1,-ne);var oe=$-1,le=1,Q=0;for(this[H+oe]=255&z;0<=--oe&&(le*=256);)z<0&&Q===0&&this[H+oe+1]!==0&&(Q=1),this[H+oe]=(z/le>>0)-Q&255;return H+$},c.prototype.writeInt8=function(z,H,$){return z=+z,H>>>=0,$||U(this,z,H,1,127,-128),this[H]=255&(z=z<0?255+z+1:z),H+1},c.prototype.writeInt16LE=function(z,H,$){return z=+z,H>>>=0,$||U(this,z,H,2,32767,-32768),this[H]=255&z,this[H+1]=z>>>8,H+2},c.prototype.writeInt16BE=function(z,H,$){return z=+z,H>>>=0,$||U(this,z,H,2,32767,-32768),this[H]=z>>>8,this[H+1]=255&z,H+2},c.prototype.writeInt32LE=function(z,H,$){return z=+z,H>>>=0,$||U(this,z,H,4,2147483647,-2147483648),this[H]=255&z,this[H+1]=z>>>8,this[H+2]=z>>>16,this[H+3]=z>>>24,H+4},c.prototype.writeInt32BE=function(z,H,$){return z=+z,H>>>=0,$||U(this,z,H,4,2147483647,-2147483648),this[H]=(z=z<0?4294967295+z+1:z)>>>24,this[H+1]=z>>>16,this[H+2]=z>>>8,this[H+3]=255&z,H+4},c.prototype.writeFloatLE=function(z,H,$){return N(this,z,H,!0,$)},c.prototype.writeFloatBE=function(z,H,$){return N(this,z,H,!1,$)},c.prototype.writeDoubleLE=function(z,H,$){return O(this,z,H,!0,$)},c.prototype.writeDoubleBE=function(z,H,$){return O(this,z,H,!1,$)},c.prototype.copy=function(z,H,$,ne){if(!c.isBuffer(z))throw new TypeError("argument should be a Buffer");if($=$||0,ne||ne===0||(ne=this.length),H>=z.length&&(H=z.length),(ne=0<ne&&ne<$?$:ne)===$||z.length===0||this.length===0)return 0;if((H=H||0)<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length);var oe=(ne=z.length-H<ne-$?z.length-H+$:ne)-$;if(this===z&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(H,$,ne);else if(this===z&&$<H&&H<ne)for(var le=oe-1;0<=le;--le)z[le+H]=this[le+$];else Uint8Array.prototype.set.call(z,this.subarray($,ne),H);return oe},c.prototype.fill=function(z,H,$,ne){if(typeof z=="string"){if(typeof H=="string"?(ne=H,H=0,$=this.length):typeof $=="string"&&(ne=$,$=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!c.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);var oe;z.length===1&&(oe=z.charCodeAt(0),(ne==="utf8"&&oe<128||ne==="latin1")&&(z=oe))}else typeof z=="number"?z&=255:typeof z=="boolean"&&(z=Number(z));if(H<0||this.length<H||this.length<$)throw new RangeError("Out of range index");var le;if(!($<=H))if(H>>>=0,$=$===void 0?this.length:$>>>0,typeof(z=z||0)=="number")for(le=H;le<$;++le)this[le]=z;else{var Q=c.isBuffer(z)?z:c.from(z,ne),se=Q.length;if(se===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(le=0;le<$-H;++le)this[le+H]=Q[le%se]}return this};var V=/[^+/0-9A-Za-z-_]/g;function q(z,H){H=H||1/0;for(var $,ne=z.length,oe=null,le=[],Q=0;Q<ne;++Q){if(55295<($=z.charCodeAt(Q))&&$<57344){if(!oe){if(56319<$){-1<(H-=3)&&le.push(239,191,189);continue}if(Q+1===ne){-1<(H-=3)&&le.push(239,191,189);continue}oe=$;continue}if($<56320){-1<(H-=3)&&le.push(239,191,189),oe=$;continue}$=65536+(oe-55296<<10|$-56320)}else oe&&-1<(H-=3)&&le.push(239,191,189);if(oe=null,$<128){if(--H<0)break;le.push($)}else if($<2048){if((H-=2)<0)break;le.push($>>6|192,63&$|128)}else if($<65536){if((H-=3)<0)break;le.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((H-=4)<0)break;le.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return le}function X(z){return o.toByteArray(function(H){if((H=(H=H.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;H.length%4!=0;)H+="=";return H}(z))}function Z(z,H,$,ne){for(var oe=0;oe<ne&&!(oe+$>=H.length||oe>=z.length);++oe)H[oe+$]=z[oe];return oe}function re(z,H){return z instanceof H||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===H.name}function ee(z){return z!=z}var ae=function(){for(var z="0123456789abcdef",H=new Array(256),$=0;$<16;++$)for(var ne=16*$,oe=0;oe<16;++oe)H[ne+oe]=z[$]+z[oe];return H}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:244}],5:[function(t,C,S){C.exports=function(y){if(typeof y!="function")throw TypeError(String(y)+" is not a function");return y}},{}],6:[function(t,C,S){var y=t("../internals/is-object");C.exports=function(o){if(y(o)||o===null)return o;throw TypeError("Can't set "+String(o)+" as a prototype")}},{"../internals/is-object":74}],7:[function(t,C,S){var y=t("../internals/well-known-symbol"),o=t("../internals/object-create"),a=(t=t("../internals/object-define-property"),y("unscopables")),g=Array.prototype;g[a]==null&&t.f(g,a,{configurable:!0,value:o(null)}),C.exports=function(b){g[a][b]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(t,C,S){var y=t("../internals/string-multibyte").charAt;C.exports=function(o,a,g){return a+(g?y(o,a).length:1)}},{"../internals/string-multibyte":123}],9:[function(t,C,S){C.exports=function(y,o,a){if(y instanceof o)return y;throw TypeError("Incorrect "+(a?a+" ":"")+"invocation")}},{}],10:[function(t,C,S){var y=t("../internals/is-object");C.exports=function(o){if(y(o))return o;throw TypeError(String(o)+" is not an object")}},{"../internals/is-object":74}],11:[function(t,C,S){C.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(t,C,S){function y(N){return l(N)&&c(B,u(N))}var o,a=t("../internals/array-buffer-native"),g=t("../internals/descriptors"),b=t("../internals/global"),l=t("../internals/is-object"),c=t("../internals/has"),u=t("../internals/classof"),i=t("../internals/create-non-enumerable-property"),d=t("../internals/redefine"),p=t("../internals/object-define-property").f,v=t("../internals/object-get-prototype-of"),h=t("../internals/object-set-prototype-of"),w=t("../internals/well-known-symbol"),_=(t=t("../internals/uid"),b.Int8Array),E=_&&_.prototype,R=(R=b.Uint8ClampedArray)&&R.prototype,P=_&&v(_),T=E&&v(E),D=Object.prototype,A=D.isPrototypeOf,I=(w=w("toStringTag"),t("TYPED_ARRAY_TAG")),U=a&&!!h&&u(b.opera)!=="Opera",B=(t=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(o in B)b[o]||(U=!1);if((!U||typeof P!="function"||P===Function.prototype)&&(P=function(){throw TypeError("Incorrect invocation")},U))for(o in B)b[o]&&h(b[o],P);if((!U||!T||T===D)&&(T=P.prototype,U))for(o in B)b[o]&&h(b[o].prototype,T);if(U&&v(R)!==T&&h(R,T),g&&!c(T,w))for(o in t=!0,p(T,w,{get:function(){return l(this)?this[I]:void 0}}),B)b[o]&&i(b[o],I,o);C.exports={NATIVE_ARRAY_BUFFER_VIEWS:U,TYPED_ARRAY_TAG:t&&I,aTypedArray:function(N){if(y(N))return N;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(N){if(h){if(A.call(P,N))return N}else for(var O in B)if(c(B,o)&&(O=b[O])&&(N===O||A.call(O,N)))return N;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(N,O,V){if(g){if(V)for(var q in B)(q=b[q])&&c(q.prototype,N)&&delete q.prototype[N];T[N]&&!V||d(T,N,!V&&U&&E[N]||O)}},exportTypedArrayStaticMethod:function(N,O,V){var q,X;if(g){if(h){if(V)for(q in B)(X=b[q])&&c(X,N)&&delete X[N];if(P[N]&&!V)return;try{return d(P,N,!V&&U&&_[N]||O)}catch{}}for(q in B)!(X=b[q])||X[N]&&!V||d(X,N,O)}},isView:function(N){return(N=u(N))==="DataView"||c(B,N)},isTypedArray:y,TypedArray:P,TypedArrayPrototype:T}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(t,C,S){function y(he){return[255&he]}function o(he){return[255&he,he>>8&255]}function a(he){return[255&he,he>>8&255,he>>16&255,he>>24&255]}function g(he){return he[3]<<24|he[2]<<16|he[1]<<8|he[0]}function b(he){return oe(he,23,4)}function l(he){return oe(he,52,8)}function c(he,be){B(he[re],be,{get:function(){return V(this)[be]}})}function u(he,be,Ue,Ne){if((Ue=T(Ue))+be>(he=V(he)).byteLength)throw ne(ee);var Ee=V(he.buffer).bytes;return Ue+=he.byteOffset,he=Ee.slice(Ue,Ue+be),Ne?he:he.reverse()}function i(he,be,Ue,Ne,Ee,Te){if((Ue=T(Ue))+be>(he=V(he)).byteLength)throw ne(ee);for(var qe=V(he.buffer).bytes,$e=Ue+he.byteOffset,pt=Ne(+Ee),rt=0;rt<be;rt++)qe[$e+rt]=pt[Te?rt:be-rt-1]}var d=t("../internals/global"),p=t("../internals/descriptors"),v=t("../internals/array-buffer-native"),h=t("../internals/create-non-enumerable-property"),w=t("../internals/redefine-all"),_=t("../internals/fails"),E=t("../internals/an-instance"),R=t("../internals/to-integer"),P=t("../internals/to-length"),T=t("../internals/to-index"),D=t("../internals/ieee754"),A=t("../internals/object-get-prototype-of"),I=t("../internals/object-set-prototype-of"),U=t("../internals/object-get-own-property-names").f,B=t("../internals/object-define-property").f,N=t("../internals/array-fill"),O=t("../internals/set-to-string-tag"),V=(t=t("../internals/internal-state")).get,q=t.set,X="ArrayBuffer",Z="DataView",re="prototype",ee="Wrong index",ae=d[X],z=ae,H=d[Z],$=(t=H&&H[re],Object.prototype),ne=d.RangeError,oe=D.pack,le=D.unpack;if(v){if(!_(function(){ae(1)})||!_(function(){new ae(-1)})||_(function(){return new ae,new ae(1.5),new ae(NaN),ae.name!=X})){d=(z=function(he){return E(this,z),new ae(T(he))})[re]=ae[re];for(var Q,se=U(ae),ye=0;se.length>ye;)(Q=se[ye++])in z||h(z,Q,ae[Q]);d.constructor=z}I&&A(t)!==$&&I(t,$),D=new H(new z(2));var me=t.setInt8;D.setInt8(0,2147483648),D.setInt8(1,2147483649),!D.getInt8(0)&&D.getInt8(1)||w(t,{setInt8:function(he,be){me.call(this,he,be<<24>>24)},setUint8:function(he,be){me.call(this,he,be<<24>>24)}},{unsafe:!0})}else z=function(he){E(this,z,X),he=T(he),q(this,{bytes:N.call(new Array(he),0),byteLength:he}),p||(this.byteLength=he)},H=function(he,be,Ue){E(this,H,Z),E(he,z,Z);var Ne=V(he).byteLength;if((be=R(be))<0||Ne<be)throw ne("Wrong offset");if(Ne<be+(Ue=Ue===void 0?Ne-be:P(Ue)))throw ne("Wrong length");q(this,{buffer:he,byteLength:Ue,byteOffset:be}),p||(this.buffer=he,this.byteLength=Ue,this.byteOffset=be)},p&&(c(z,"byteLength"),c(H,"buffer"),c(H,"byteLength"),c(H,"byteOffset")),w(H[re],{getInt8:function(he){return u(this,1,he)[0]<<24>>24},getUint8:function(he){return u(this,1,he)[0]},getInt16:function(he){return((he=u(this,2,he,1<arguments.length?arguments[1]:void 0))[1]<<8|he[0])<<16>>16},getUint16:function(he){return(he=u(this,2,he,1<arguments.length?arguments[1]:void 0))[1]<<8|he[0]},getInt32:function(he){return g(u(this,4,he,1<arguments.length?arguments[1]:void 0))},getUint32:function(he){return g(u(this,4,he,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(he){return le(u(this,4,he,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(he){return le(u(this,8,he,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(he,be){i(this,1,he,y,be)},setUint8:function(he,be){i(this,1,he,y,be)},setInt16:function(he,be){i(this,2,he,o,be,2<arguments.length?arguments[2]:void 0)},setUint16:function(he,be){i(this,2,he,o,be,2<arguments.length?arguments[2]:void 0)},setInt32:function(he,be){i(this,4,he,a,be,2<arguments.length?arguments[2]:void 0)},setUint32:function(he,be){i(this,4,he,a,be,2<arguments.length?arguments[2]:void 0)},setFloat32:function(he,be){i(this,4,he,b,be,2<arguments.length?arguments[2]:void 0)},setFloat64:function(he,be){i(this,8,he,l,be,2<arguments.length?arguments[2]:void 0)}});O(z,X),O(H,Z),C.exports={ArrayBuffer:z,DataView:H}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(t,C,S){var y=t("../internals/to-object"),o=t("../internals/to-absolute-index"),a=t("../internals/to-length"),g=Math.min;C.exports=[].copyWithin||function(b,l){var c=y(this),u=a(c.length),i=o(b,u),d=o(l,u),p=g(((b=2<arguments.length?arguments[2]:void 0)===void 0?u:o(b,u))-d,u-i),v=1;for(d<i&&i<d+p&&(v=-1,d+=p-1,i+=p-1);0<p--;)d in c?c[i]=c[d]:delete c[i],i+=v,d+=v;return c}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(t,C,S){var y=t("../internals/to-object"),o=t("../internals/to-absolute-index"),a=t("../internals/to-length");C.exports=function(g){for(var b,l=y(this),c=a(l.length),u=o(1<(b=arguments.length)?arguments[1]:void 0,c),i=(b=2<b?arguments[2]:void 0)===void 0?c:o(b,c);u<i;)l[u++]=g;return l}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(t,C,S){var y=t("../internals/array-iteration").forEach,o=t("../internals/array-method-is-strict");t=t("../internals/array-method-uses-to-length"),o=o("forEach"),t=t("forEach"),C.exports=o&&t?[].forEach:function(a){return y(this,a,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,C,S){var y=t("../internals/function-bind-context"),o=t("../internals/to-object"),a=t("../internals/call-with-safe-iteration-closing"),g=t("../internals/is-array-iterator-method"),b=t("../internals/to-length"),l=t("../internals/create-property"),c=t("../internals/get-iterator-method");C.exports=function(u){var i,d,p,v,h,w,_=o(u),E=(u=typeof this=="function"?this:Array,arguments.length),R=1<E?arguments[1]:void 0,P=R!==void 0,T=c(_),D=0;if(P&&(R=y(R,2<E?arguments[2]:void 0,2)),T==null||u==Array&&g(T))for(d=new u(i=b(_.length));D<i;D++)w=P?R(_[D],D):_[D],l(d,D,w);else for(h=(v=T.call(_)).next,d=new u;!(p=h.call(v)).done;D++)w=P?a(v,R,[p.value,D],!0):p.value,l(d,D,w);return d.length=D,d}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(t,C,S){function y(b){return function(l,c,u){var i,d=o(l),p=a(d.length),v=g(u,p);if(b&&c!=c){for(;v<p;)if((i=d[v++])!=i)return!0}else for(;v<p;v++)if((b||v in d)&&d[v]===c)return b||v||0;return!b&&-1}}var o=t("../internals/to-indexed-object"),a=t("../internals/to-length"),g=t("../internals/to-absolute-index");C.exports={includes:y(!0),indexOf:y(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(t,C,S){function y(u){var i=u==1,d=u==2,p=u==3,v=u==4,h=u==6,w=u==5||h;return function(_,E,R,P){for(var T,D,A=g(_),I=a(A),U=o(E,R,3),B=b(I.length),N=0,O=(E=P||l,i?E(_,B):d?E(_,0):void 0);N<B;N++)if((w||N in I)&&(D=U(T=I[N],N,A),u)){if(i)O[N]=D;else if(D)switch(u){case 3:return!0;case 5:return T;case 6:return N;case 2:c.call(O,T)}else if(v)return!1}return h?-1:p||v?v:O}}var o=t("../internals/function-bind-context"),a=t("../internals/indexed-object"),g=t("../internals/to-object"),b=t("../internals/to-length"),l=t("../internals/array-species-create"),c=[].push;C.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(t,C,S){var y=t("../internals/to-indexed-object"),o=t("../internals/to-integer"),a=t("../internals/to-length"),g=t("../internals/array-method-is-strict"),b=(t=t("../internals/array-method-uses-to-length"),Math.min),l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0;g=g("lastIndexOf"),t=t("indexOf",{ACCESSORS:!0,1:0}),C.exports=!c&&g&&t?l:function(u){if(c)return l.apply(this,arguments)||0;var i=y(this),d=a(i.length),p=d-1;for((p=1<arguments.length?b(p,o(arguments[1])):p)<0&&(p=d+p);0<=p;p--)if(p in i&&i[p]===u)return p||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(t,C,S){var y=t("../internals/fails"),o=t("../internals/well-known-symbol"),a=t("../internals/engine-v8-version"),g=o("species");C.exports=function(b){return 51<=a||!y(function(){var l=[];return(l.constructor={})[g]=function(){return{foo:1}},l[b](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(t,C,S){var y=t("../internals/fails");C.exports=function(o,a){var g=[][o];return!!g&&y(function(){g.call(null,a||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,C,S){function y(c){throw c}var o=t("../internals/descriptors"),a=t("../internals/fails"),g=t("../internals/has"),b=Object.defineProperty,l={};C.exports=function(c,u){var i,d,p,v;return g(l,c)?l[c]:(i=[][c],d=!!g(u=u||{},"ACCESSORS")&&u.ACCESSORS,p=g(u,0)?u[0]:y,v=g(u,1)?u[1]:void 0,l[c]=!!i&&!a(function(){if(d&&!o)return!0;var h={length:-1};d?b(h,1,{enumerable:!0,get:y}):h[1]=1,i.call(h,p,v)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(t,C,S){function y(l){return function(c,u,i,d){o(u);var p=a(c),v=g(p),h=b(p.length),w=l?h-1:0,_=l?-1:1;if(i<2)for(;;){if(w in v){d=v[w],w+=_;break}if(w+=_,l?w<0:h<=w)throw TypeError("Reduce of empty array with no initial value")}for(;l?0<=w:w<h;w+=_)w in v&&(d=u(d,v[w],w,p));return d}}var o=t("../internals/a-function"),a=t("../internals/to-object"),g=t("../internals/indexed-object"),b=t("../internals/to-length");C.exports={left:y(!1),right:y(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(t,C,S){var y=t("../internals/is-object"),o=t("../internals/is-array"),a=t("../internals/well-known-symbol")("species");C.exports=function(g,b){var l;return new((l=o(g)&&(typeof(l=g.constructor)=="function"&&(l===Array||o(l.prototype))||y(l)&&(l=l[a])===null)?void 0:l)===void 0?Array:l)(b===0?0:b)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(t,C,S){var y=t("../internals/an-object");C.exports=function(o,a,g,b){try{return b?a(y(g)[0],g[1]):a(g)}catch(l){throw(b=o.return)!==void 0&&y(b.call(o)),l}}},{"../internals/an-object":10}],27:[function(t,C,S){var y=t("../internals/well-known-symbol")("iterator"),o=!1;try{var a=0,g={next:function(){return{done:!!a++}},return:function(){o=!0}};g[y]=function(){return this},Array.from(g,function(){throw 2})}catch{}C.exports=function(b,l){if(!l&&!o)return!1;var c=!1;try{var u={};u[y]=function(){return{next:function(){return{done:c=!0}}}},b(u)}catch{}return c}},{"../internals/well-known-symbol":148}],28:[function(t,C,S){var y={}.toString;C.exports=function(o){return y.call(o).slice(8,-1)}},{}],29:[function(t,C,S){var y=t("../internals/to-string-tag-support"),o=t("../internals/classof-raw"),a=t("../internals/well-known-symbol")("toStringTag"),g=o(function(){return arguments}())=="Arguments";C.exports=y?o:function(b){var l;return b===void 0?"Undefined":b===null?"Null":typeof(l=function(c,u){try{return c[u]}catch{}}(b=Object(b),a))=="string"?l:g?o(b):(l=o(b))=="Object"&&typeof b.callee=="function"?"Arguments":l}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(t,C,S){var y=t("../internals/object-define-property").f,o=t("../internals/object-create"),a=t("../internals/redefine-all"),g=t("../internals/function-bind-context"),b=t("../internals/an-instance"),l=t("../internals/iterate"),c=t("../internals/define-iterator"),u=t("../internals/set-species"),i=t("../internals/descriptors"),d=t("../internals/internal-metadata").fastKey,p=(t=t("../internals/internal-state")).set,v=t.getterFor;C.exports={getConstructor:function(h,w,_,E){function R(A,I,U){var B,N=D(A),O=P(A,I);return O?O.value=U:(N.last=O={index:B=d(I,!0),key:I,value:U,previous:I=N.last,next:void 0,removed:!1},N.first||(N.first=O),I&&(I.next=O),i?N.size++:A.size++,B!=="F"&&(N.index[B]=O)),A}function P(A,I){A=D(A);var U,B=d(I);if(B!=="F")return A.index[B];for(U=A.first;U;U=U.next)if(U.key==I)return U}var T=h(function(A,I){b(A,T,w),p(A,{type:w,index:o(null),first:void 0,last:void 0,size:0}),i||(A.size=0),I!=null&&l(I,A[E],A,_)}),D=v(w);return a(T.prototype,{clear:function(){for(var A=D(this),I=A.index,U=A.first;U;)U.removed=!0,U.previous&&(U.previous=U.previous.next=void 0),delete I[U.index],U=U.next;A.first=A.last=void 0,i?A.size=0:this.size=0},delete:function(A){var I,U,B=D(this);return(A=P(this,A))&&(I=A.next,U=A.previous,delete B.index[A.index],A.removed=!0,U&&(U.next=I),I&&(I.previous=U),B.first==A&&(B.first=I),B.last==A&&(B.last=U),i?B.size--:this.size--),!!A},forEach:function(A){for(var I,U=D(this),B=g(A,1<arguments.length?arguments[1]:void 0,3);I=I?I.next:U.first;)for(B(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(A){return!!P(this,A)}}),a(T.prototype,_?{get:function(A){return(A=P(this,A))&&A.value},set:function(A,I){return R(this,A===0?0:A,I)}}:{add:function(A){return R(this,A=A===0?0:A,A)}}),i&&y(T.prototype,"size",{get:function(){return D(this).size}}),T},setStrong:function(h,w,_){var E=w+" Iterator",R=v(w),P=v(E);c(h,w,function(T,D){p(this,{type:E,target:T,state:R(T),kind:D,last:void 0})},function(){for(var T=P(this),D=T.kind,A=T.last;A&&A.removed;)A=A.previous;return T.target&&(T.last=A=A?A.next:T.state.first)?D=="keys"?{value:A.key,done:!1}:D=="values"?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:{value:T.target=void 0,done:!0}},_?"entries":"values",!_,!0),u(w)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(t,C,S){function y(R){return R.frozen||(R.frozen=new o)}function o(){this.entries=[]}function a(R,P){return w(R.entries,function(T){return T[0]===P})}var g=t("../internals/redefine-all"),b=t("../internals/internal-metadata").getWeakData,l=t("../internals/an-object"),c=t("../internals/is-object"),u=t("../internals/an-instance"),i=t("../internals/iterate"),d=t("../internals/array-iteration"),p=t("../internals/has"),v=(t=t("../internals/internal-state")).set,h=t.getterFor,w=d.find,_=d.findIndex,E=0;o.prototype={get:function(R){if(R=a(this,R))return R[1]},has:function(R){return!!a(this,R)},set:function(R,P){var T=a(this,R);T?T[1]=P:this.entries.push([R,P])},delete:function(R){var P=_(this.entries,function(T){return T[0]===R});return~P&&this.entries.splice(P,1),!!~P}},C.exports={getConstructor:function(R,P,T,D){function A(B,N,O){var V=U(B),q=b(l(N),!0);return q===!0?y(V).set(N,O):q[V.id]=O,B}var I=R(function(B,N){u(B,I,P),v(B,{type:P,id:E++,frozen:void 0}),N!=null&&i(N,B[D],B,T)}),U=h(P);return g(I.prototype,{delete:function(B){var N,O=U(this);return!!c(B)&&((N=b(B))===!0?y(O).delete(B):N&&p(N,O.id)&&delete N[O.id])},has:function(B){var N,O=U(this);return!!c(B)&&((N=b(B))===!0?y(O).has(B):N&&p(N,O.id))}}),g(I.prototype,T?{get:function(B){var N,O=U(this);if(c(B))return(N=b(B))===!0?y(O).get(B):N?N[O.id]:void 0},set:function(B,N){return A(this,B,N)}}:{add:function(B){return A(this,B,!0)}}),I}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/global"),a=t("../internals/is-forced"),g=t("../internals/redefine"),b=t("../internals/internal-metadata"),l=t("../internals/iterate"),c=t("../internals/an-instance"),u=t("../internals/is-object"),i=t("../internals/fails"),d=t("../internals/check-correctness-of-iteration"),p=t("../internals/set-to-string-tag"),v=t("../internals/inherit-if-required");C.exports=function(h,w,_){function E(X){var Z=O[X];g(O,X,X=="add"?function(re){return Z.call(this,re===0?0:re),this}:X=="delete"?function(re){return!(U&&!u(re))&&Z.call(this,re===0?0:re)}:X=="get"?function(re){return U&&!u(re)?void 0:Z.call(this,re===0?0:re)}:X=="has"?function(re){return!(U&&!u(re))&&Z.call(this,re===0?0:re)}:function(re,ee){return Z.call(this,re===0?0:re,ee),this})}var R,P,T,D,A,I=h.indexOf("Map")!==-1,U=h.indexOf("Weak")!==-1,B=I?"set":"add",N=o[h],O=N&&N.prototype,V=N,q={};return a(h,typeof N!="function"||!(U||O.forEach&&!i(function(){new N().entries().next()})))?(V=_.getConstructor(w,h,I,B),b.REQUIRED=!0):a(h,!0)&&(P=(R=new V)[B](U?{}:-0,1)!=R,T=i(function(){R.has(1)}),D=d(function(X){new N(X)}),A=!U&&i(function(){for(var X=new N,Z=5;Z--;)X[B](Z,Z);return!X.has(-0)}),D||(((V=w(function(X,Z){return c(X,V,h),X=v(new N,X,V),Z!=null&&l(Z,X[B],X,I),X})).prototype=O).constructor=V),(T||A)&&(E("delete"),E("has"),I&&E("get")),(A||P)&&E(B),U&&O.clear&&delete O.clear),q[h]=V,y({global:!0,forced:V!=N},q),p(V,h),U||_.setStrong(V,h,I),V}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(t,C,S){var y=t("../internals/has"),o=t("../internals/own-keys"),a=t("../internals/object-get-own-property-descriptor"),g=t("../internals/object-define-property");C.exports=function(b,l){for(var c=o(l),u=g.f,i=a.f,d=0;d<c.length;d++){var p=c[d];y(b,p)||u(b,p,i(l,p))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(t,C,S){var y=t("../internals/well-known-symbol")("match");C.exports=function(o){var a=/./;try{"/./"[o](a)}catch{try{return a[y]=!1,"/./"[o](a)}catch{}}return!1}},{"../internals/well-known-symbol":148}],35:[function(t,C,S){t=t("../internals/fails"),C.exports=!t(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})},{"../internals/fails":51}],36:[function(t,C,S){var y=t("../internals/require-object-coercible"),o=/"/g;C.exports=function(a,g,b,l){a=String(y(a));var c="<"+g;return b!==""&&(c+=" "+b+'="'+String(l).replace(o,"&quot;")+'"'),c+">"+a+"</"+g+">"}},{"../internals/require-object-coercible":113}],37:[function(t,C,S){function y(){return this}var o=t("../internals/iterators-core").IteratorPrototype,a=t("../internals/object-create"),g=t("../internals/create-property-descriptor"),b=t("../internals/set-to-string-tag"),l=t("../internals/iterators");C.exports=function(c,u,i){return u+=" Iterator",c.prototype=a(o,{next:g(1,i)}),b(c,u,!1,!0),l[u]=y,c}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(t,C,S){var y=t("../internals/descriptors"),o=t("../internals/object-define-property"),a=t("../internals/create-property-descriptor");C.exports=y?function(g,b,l){return o.f(g,b,a(1,l))}:function(g,b,l){return g[b]=l,g}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(t,C,S){C.exports=function(y,o){return{enumerable:!(1&y),configurable:!(2&y),writable:!(4&y),value:o}}},{}],40:[function(t,C,S){var y=t("../internals/to-primitive"),o=t("../internals/object-define-property"),a=t("../internals/create-property-descriptor");C.exports=function(g,b,l){(b=y(b))in g?o.f(g,b,a(0,l)):g[b]=l}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(t,C,S){function y(){return this}var o=t("../internals/export"),a=t("../internals/create-iterator-constructor"),g=t("../internals/object-get-prototype-of"),b=t("../internals/object-set-prototype-of"),l=t("../internals/set-to-string-tag"),c=t("../internals/create-non-enumerable-property"),u=t("../internals/redefine"),i=t("../internals/well-known-symbol"),d=t("../internals/is-pure"),p=t("../internals/iterators"),v=(t=t("../internals/iterators-core")).IteratorPrototype,h=t.BUGGY_SAFARI_ITERATORS,w=i("iterator"),_="values",E="entries";C.exports=function(R,P,T,D,A,I,U){function B(ee){if(ee===A&&Z)return Z;if(!h&&ee in q)return q[ee];switch(ee){case"keys":case _:case E:return function(){return new T(this,ee)}}return function(){return new T(this)}}a(T,P,D),D=P+" Iterator";var N,O,V=!1,q=R.prototype,X=q[w]||q["@@iterator"]||A&&q[A],Z=!h&&X||B(A),re=P=="Array"&&q.entries||X;if(re&&(re=g(re.call(new R)),v!==Object.prototype&&re.next&&(d||g(re)===v||(b?b(re,v):typeof re[w]!="function"&&c(re,w,y)),l(re,D,!0,!0),d&&(p[D]=y))),A==_&&X&&X.name!==_&&(V=!0,Z=function(){return X.call(this)}),d&&!U||q[w]===Z||c(q,w,Z),p[P]=Z,A)if(N={values:B(_),keys:I?Z:B("keys"),entries:B(E)},U)for(O in N)!h&&!V&&O in q||u(q,O,N[O]);else o({target:P,proto:!0,forced:h||V},N);return N}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(t,C,S){var y=t("../internals/path"),o=t("../internals/has"),a=t("../internals/well-known-symbol-wrapped"),g=t("../internals/object-define-property").f;C.exports=function(b){var l=y.Symbol||(y.Symbol={});o(l,b)||g(l,b,{value:a.f(b)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(t,C,S){t=t("../internals/fails"),C.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(t,C,S){var y=t("../internals/global"),o=(t=t("../internals/is-object"),y.document),a=t(o)&&t(o.createElement);C.exports=function(g){return a?o.createElement(g):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(t,C,S){C.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,C,S){t=t("../internals/engine-user-agent"),C.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,C,S){t=t("../internals/get-built-in"),C.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(t,C,S){var y,o,a=t("../internals/global");t=t("../internals/engine-user-agent"),(a=(a=(a=a.process)&&a.versions)&&a.v8)?o=(y=a.split("."))[0]+y[1]:t&&(!(y=t.match(/Edge\/(\d+)/))||74<=y[1])&&(y=t.match(/Chrome\/(\d+)/))&&(o=y[1]),C.exports=o&&+o},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(t,C,S){C.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,C,S){var y=t("../internals/global"),o=t("../internals/object-get-own-property-descriptor").f,a=t("../internals/create-non-enumerable-property"),g=t("../internals/redefine"),b=t("../internals/set-global"),l=t("../internals/copy-constructor-properties"),c=t("../internals/is-forced");C.exports=function(u,i){var d,p,v,h=u.target,w=u.global,_=u.stat,E=w?y:_?y[h]||b(h,{}):(y[h]||{}).prototype;if(E)for(d in i){if(p=i[d],v=u.noTargetGet?(v=o(E,d))&&v.value:E[d],!c(w?d:h+(_?".":"#")+d,u.forced)&&v!==void 0){if(typeof p==typeof v)continue;l(p,v)}(u.sham||v&&v.sham)&&a(p,"sham",!0),g(E,d,p,u)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(t,C,S){C.exports=function(y){try{return!!y()}catch{return!0}}},{}],52:[function(t,C,S){t("../modules/es.regexp.exec");var y=t("../internals/redefine"),o=t("../internals/fails"),a=t("../internals/well-known-symbol"),g=t("../internals/regexp-exec"),b=t("../internals/create-non-enumerable-property"),l=a("species"),c=!o(function(){var p=/./;return p.exec=function(){var v=[];return v.groups={a:"7"},v},"".replace(p,"$<a>")!=="7"}),u="a".replace(/./,"$0")==="$0",i=!!/./[t=a("replace")]&&/./[t]("a","$0")==="",d=!o(function(){var p,v=(p=/(?:)/).exec;return(p=(p.exec=function(){return v.apply(this,arguments)},"ab".split(p))).length!==2||p[0]!=="a"||p[1]!=="b"});C.exports=function(p,v,h,w){var _,E,R=a(p),P=!o(function(){var D={};return D[R]=function(){return 7},""[p](D)!=7}),T=P&&!o(function(){var D=!1,A=/a/;return p==="split"&&((A={constructor:{}}).constructor[l]=function(){return A},A.flags="",A[R]=/./[R]),A.exec=function(){return D=!0,null},A[R](""),!D});P&&T&&(p!=="replace"||c&&u&&!i)&&(p!=="split"||d)||(_=/./[R],h=(T=h(R,""[p],function(D,A,I,U,B){return A.exec===g?P&&!B?{done:!0,value:_.call(A,I,U)}:{done:!0,value:D.call(I,A,U)}:{done:!1}},{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:i}))[0],E=T[1],y(String.prototype,p,h),y(RegExp.prototype,R,v==2?function(D,A){return E.call(D,this,A)}:function(D){return E.call(D,this)})),w&&b(RegExp.prototype[R],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":185}],53:[function(t,C,S){t=t("../internals/fails"),C.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(t,C,S){var y=t("../internals/a-function");C.exports=function(o,a,g){if(y(o),a===void 0)return o;switch(g){case 0:return function(){return o.call(a)};case 1:return function(b){return o.call(a,b)};case 2:return function(b,l){return o.call(a,b,l)};case 3:return function(b,l,c){return o.call(a,b,l,c)}}return function(){return o.apply(a,arguments)}}},{"../internals/a-function":5}],55:[function(t,C,S){var y=t("../internals/a-function"),o=t("../internals/is-object"),a=[].slice,g={};C.exports=Function.bind||function(b){var l=y(this),c=a.call(arguments,1),u=function(){var i=c.concat(a.call(arguments));if(this instanceof u){var d=l,p=i.length,v=i;if(!(p in g)){for(var h=[],w=0;w<p;w++)h[w]="a["+w+"]";g[p]=Function("C,a","return new C("+h.join(",")+")")}return g[p](d,v)}return l.apply(b,i)};return o(l.prototype)&&(u.prototype=l.prototype),u}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(t,C,S){function y(g){return typeof g=="function"?g:void 0}var o=t("../internals/path"),a=t("../internals/global");C.exports=function(g,b){return arguments.length<2?y(o[g])||y(a[g]):o[g]&&o[g][b]||a[g]&&a[g][b]}},{"../internals/global":59,"../internals/path":104}],57:[function(t,C,S){var y=t("../internals/classof"),o=t("../internals/iterators"),a=t("../internals/well-known-symbol")("iterator");C.exports=function(g){if(g!=null)return g[a]||g["@@iterator"]||o[y(g)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(t,C,S){var y=t("../internals/an-object"),o=t("../internals/get-iterator-method");C.exports=function(a){var g=o(a);if(typeof g!="function")throw TypeError(String(a)+" is not iterable");return y(g.call(a))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(t,C,S){(function(y){function o(a){return a&&a.Math==Math&&a}C.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof y=="object"&&y)||Function("return this")()}).call(this,F!==void 0?F:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(t,C,S){var y={}.hasOwnProperty;C.exports=function(o,a){return y.call(o,a)}},{}],61:[function(t,C,S){C.exports={}},{}],62:[function(t,C,S){var y=t("../internals/global");C.exports=function(o,a){var g=y.console;g&&g.error&&(arguments.length===1?g.error(o):g.error(o,a))}},{"../internals/global":59}],63:[function(t,C,S){t=t("../internals/get-built-in"),C.exports=t("document","documentElement")},{"../internals/get-built-in":56}],64:[function(t,C,S){var y=t("../internals/descriptors"),o=t("../internals/fails"),a=t("../internals/document-create-element");C.exports=!y&&!o(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(t,C,S){var y=Math.abs,o=Math.pow,a=Math.floor,g=Math.log,b=Math.LN2;C.exports={pack:function(l,c,u){var i,d,p,v=new Array(u),h=8*u-c-1,w=(u=(1<<h)-1)>>1,_=c===23?o(2,-24)-o(2,-77):0,E=l<0||l===0&&1/l<0?1:0,R=0;for((l=y(l))!=l||l===1/0?(d=l!=l?1:0,i=u):(i=a(g(l)/b),l*(p=o(2,-i))<1&&(i--,p*=2),2<=(l+=1<=i+w?_/p:_*o(2,1-w))*p&&(i++,p/=2),u<=i+w?(d=0,i=u):1<=i+w?(d=(l*p-1)*o(2,c),i+=w):(d=l*o(2,w-1)*o(2,c),i=0));8<=c;v[R++]=255&d,d/=256,c-=8);for(i=i<<c|d,h+=c;0<h;v[R++]=255&i,i/=256,h-=8);return v[--R]|=128*E,v},unpack:function(l,c){var u,i,d=l.length,p=(1<<(i=8*d-c-1))-1,v=p>>1,h=i-7,w=d-1,_=127&(i=l[w--]);for(i>>=7;0<h;_=256*_+l[w],w--,h-=8);for(u=_&(1<<-h)-1,_>>=-h,h+=c;0<h;u=256*u+l[w],w--,h-=8);if(_===0)_=1-v;else{if(_===p)return u?NaN:i?-1/0:1/0;u+=o(2,c),_-=v}return(i?-1:1)*u*o(2,_-c)}}},{}],66:[function(t,C,S){var y=t("../internals/fails"),o=t("../internals/classof-raw"),a="".split;C.exports=y(function(){return!Object("z").propertyIsEnumerable(0)})?function(g){return o(g)=="String"?a.call(g,""):Object(g)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(t,C,S){var y=t("../internals/is-object"),o=t("../internals/object-set-prototype-of");C.exports=function(a,g,b){return o&&typeof(g=g.constructor)=="function"&&g!==b&&y(g=g.prototype)&&g!==b.prototype&&o(a,g),a}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(t,C,S){t=t("../internals/shared-store");var y=Function.toString;typeof t.inspectSource!="function"&&(t.inspectSource=function(o){return y.call(o)}),C.exports=t.inspectSource},{"../internals/shared-store":119}],69:[function(t,C,S){function y(v){b(v,u,{value:{objectID:"O"+ ++i,weakData:{}}})}var o=t("../internals/hidden-keys"),a=t("../internals/is-object"),g=t("../internals/has"),b=t("../internals/object-define-property").f,l=t("../internals/uid"),c=t("../internals/freezing"),u=l("meta"),i=0,d=Object.isExtensible||function(){return!0},p=C.exports={REQUIRED:!1,fastKey:function(v,h){if(!a(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!g(v,u)){if(!d(v))return"F";if(!h)return"E";y(v)}return v[u].objectID},getWeakData:function(v,h){if(!g(v,u)){if(!d(v))return!0;if(!h)return!1;y(v)}return v[u].weakData},onFreeze:function(v){return c&&p.REQUIRED&&d(v)&&!g(v,u)&&y(v),v}};o[u]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(t,C,S){var y,o,a,g,b,l,c,u,i=t("../internals/native-weak-map"),d=t("../internals/global"),p=t("../internals/is-object"),v=t("../internals/create-non-enumerable-property"),h=t("../internals/has"),w=t("../internals/shared-key");t=t("../internals/hidden-keys"),d=d.WeakMap,c=i?(y=new d,o=y.get,a=y.has,g=y.set,b=function(_,E){return g.call(y,_,E),E},l=function(_){return o.call(y,_)||{}},function(_){return a.call(y,_)}):(t[u=w("state")]=!0,b=function(_,E){return v(_,u,E),E},l=function(_){return h(_,u)?_[u]:{}},function(_){return h(_,u)}),C.exports={set:b,get:l,has:c,enforce:function(_){return c(_)?l(_):b(_,{})},getterFor:function(_){return function(E){if(p(E)&&(E=l(E)).type===_)return E;throw TypeError("Incompatible receiver, "+_+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(t,C,S){var y=t("../internals/well-known-symbol"),o=t("../internals/iterators"),a=y("iterator"),g=Array.prototype;C.exports=function(b){return b!==void 0&&(o.Array===b||g[a]===b)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(t,C,S){var y=t("../internals/classof-raw");C.exports=Array.isArray||function(o){return y(o)=="Array"}},{"../internals/classof-raw":28}],73:[function(t,C,S){function y(u,i){return(u=b[g(u)])==c||u!=l&&(typeof i=="function"?o(i):!!i)}var o=t("../internals/fails"),a=/#|\.prototype\./,g=y.normalize=function(u){return String(u).replace(a,".").toLowerCase()},b=y.data={},l=y.NATIVE="N",c=y.POLYFILL="P";C.exports=y},{"../internals/fails":51}],74:[function(t,C,S){C.exports=function(y){return typeof y=="object"?y!==null:typeof y=="function"}},{}],75:[function(t,C,S){C.exports=!1},{}],76:[function(t,C,S){var y=t("../internals/is-object"),o=t("../internals/classof-raw"),a=t("../internals/well-known-symbol")("match");C.exports=function(g){var b;return y(g)&&((b=g[a])!==void 0?!!b:o(g)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(t,C,S){function y(u,i){this.stopped=u,this.result=i}var o=t("../internals/an-object"),a=t("../internals/is-array-iterator-method"),g=t("../internals/to-length"),b=t("../internals/function-bind-context"),l=t("../internals/get-iterator-method"),c=t("../internals/call-with-safe-iteration-closing");(C.exports=function(u,i,d,p,v){var h,w,_,E,R,P,T=b(i,d,p?2:1);if(v)h=u;else{if(typeof(i=l(u))!="function")throw TypeError("Target is not iterable");if(a(i)){for(w=0,_=g(u.length);w<_;w++)if((E=p?T(o(P=u[w])[0],P[1]):T(u[w]))&&E instanceof y)return E;return new y(!1)}h=i.call(u)}for(R=h.next;!(P=R.call(h)).done;)if(typeof(E=c(h,T,P.value,p))=="object"&&E&&E instanceof y)return E;return new y(!1)}).stop=function(u){return new y(!0,u)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(t,C,S){var y,o,a=t("../internals/object-get-prototype-of"),g=t("../internals/create-non-enumerable-property"),b=t("../internals/has"),l=t("../internals/well-known-symbol"),c=(t=t("../internals/is-pure"),l=l("iterator"),!1);[].keys&&("next"in(o=[].keys())?(a=a(a(o)))!==Object.prototype&&(y=a):c=!0),y==null&&(y={}),t||b(y,l)||g(y,l,function(){return this}),C.exports={IteratorPrototype:y,BUGGY_SAFARI_ITERATORS:c}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(t,C,S){C.exports={}},{}],80:[function(t,C,S){C.exports=Math.sign||function(y){return(y=+y)==0||y!=y?y:y<0?-1:1}},{}],81:[function(t,C,S){var y,o,a,g,b,l,c,u,i=t("../internals/global"),d=t("../internals/object-get-own-property-descriptor").f,p=t("../internals/classof-raw"),v=t("../internals/task").set,h=(t=t("../internals/engine-is-ios"),i.MutationObserver||i.WebKitMutationObserver),w=i.process,_=i.Promise,E=p(w)=="process";p=d(i,"queueMicrotask"),(d=p&&p.value)||(y=function(){var R,P;for(E&&(R=w.domain)&&R.exit();o;){P=o.fn,o=o.next;try{P()}catch(T){throw o?g():a=void 0,T}}a=void 0,R&&R.enter()},g=E?function(){w.nextTick(y)}:h&&!t?(b=!0,l=document.createTextNode(""),new h(y).observe(l,{characterData:!0}),function(){l.data=b=!b}):_&&_.resolve?(c=_.resolve(void 0),u=c.then,function(){u.call(c,y)}):function(){v.call(i,y)}),C.exports=d||function(R){R={fn:R,next:void 0},a&&(a.next=R),o||(o=R,g()),a=R}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(t,C,S){t=t("../internals/global"),C.exports=t.Promise},{"../internals/global":59}],83:[function(t,C,S){t=t("../internals/fails"),C.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(t,C,S){var y=t("../internals/fails"),o=t("../internals/well-known-symbol"),a=t("../internals/is-pure"),g=o("iterator");C.exports=!y(function(){var b=new URL("b?a=1&b=2&c=3","http://a"),l=b.searchParams,c="";return b.pathname="c%20d",l.forEach(function(u,i){l.delete("b"),c+=i+u}),a&&!b.toJSON||!l.sort||b.href!=="http://a/c%20d?a=1&c=3"||l.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!l[g]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||c!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(t,C,S){var y=t("../internals/global");t=t("../internals/inspect-source"),y=y.WeakMap,C.exports=typeof y=="function"&&/native code/.test(t(y))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(t,C,S){function y(a){var g,b;this.promise=new a(function(l,c){if(g!==void 0||b!==void 0)throw TypeError("Bad Promise constructor");g=l,b=c}),this.resolve=o(g),this.reject=o(b)}var o=t("../internals/a-function");C.exports.f=function(a){return new y(a)}},{"../internals/a-function":5}],87:[function(t,C,S){var y=t("../internals/is-regexp");C.exports=function(o){if(y(o))throw TypeError("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":76}],88:[function(t,C,S){var y=t("../internals/global").isFinite;C.exports=Number.isFinite||function(o){return typeof o=="number"&&y(o)}},{"../internals/global":59}],89:[function(t,C,S){var y=t("../internals/descriptors"),o=t("../internals/fails"),a=t("../internals/object-keys"),g=t("../internals/object-get-own-property-symbols"),b=t("../internals/object-property-is-enumerable"),l=t("../internals/to-object"),c=t("../internals/indexed-object"),u=Object.assign,i=Object.defineProperty;C.exports=!u||o(function(){var d,p,v,h;return!(!y||u({b:1},u(i({},"a",{enumerable:!0,get:function(){i(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(p={},h="abcdefghijklmnopqrst",(d={})[v=Symbol()]=7,h.split("").forEach(function(w){p[w]=w}),u({},d)[v]!=7||a(u({},p)).join("")!=h)})?function(d,p){for(var v=l(d),h=arguments.length,w=1,_=g.f,E=b.f;w<h;)for(var R,P=c(arguments[w++]),T=_?a(P).concat(_(P)):a(P),D=T.length,A=0;A<D;)R=T[A++],y&&!E.call(P,R)||(v[R]=P[R]);return v}:u},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(t,C,S){function y(){}var o,a=t("../internals/an-object"),g=t("../internals/object-define-properties"),b=t("../internals/enum-bug-keys"),l=t("../internals/hidden-keys"),c=t("../internals/html"),u=t("../internals/document-create-element"),i=(t=t("../internals/shared-key"),"prototype"),d="script",p=t("IE_PROTO"),v=function(w){return"<script>"+w+"</"+d+">"},h=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch{}h=o?((w=o).write(v("")),w.close(),_=w.parentWindow.Object,w=null,_):(_="javascript:",(w=u("iframe")).style.display="none",c.appendChild(w),w.src=String(_),(_=w.contentWindow.document).open(),_.write(v("document.F=Object")),_.close(),_.F);for(var w,_,E=b.length;E--;)delete h[i][b[E]];return h()};l[p]=!0,C.exports=Object.create||function(w,_){var E;return w!==null?(y[i]=a(w),E=new y,y[i]=null,E[p]=w):E=h(),_===void 0?E:g(E,_)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(t,C,S){var y=t("../internals/descriptors"),o=t("../internals/object-define-property"),a=t("../internals/an-object"),g=t("../internals/object-keys");C.exports=y?Object.defineProperties:function(b,l){a(b);for(var c,u=g(l),i=u.length,d=0;d<i;)o.f(b,c=u[d++],l[c]);return b}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(t,C,S){var y=t("../internals/descriptors"),o=t("../internals/ie8-dom-define"),a=t("../internals/an-object"),g=t("../internals/to-primitive"),b=Object.defineProperty;S.f=y?b:function(l,c,u){if(a(l),c=g(c,!0),a(u),o)try{return b(l,c,u)}catch{}if("get"in u||"set"in u)throw TypeError("Accessors not supported");return"value"in u&&(l[c]=u.value),l}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(t,C,S){var y=t("../internals/descriptors"),o=t("../internals/object-property-is-enumerable"),a=t("../internals/create-property-descriptor"),g=t("../internals/to-indexed-object"),b=t("../internals/to-primitive"),l=t("../internals/has"),c=t("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;S.f=y?u:function(i,d){if(i=g(i),d=b(d,!0),c)try{return u(i,d)}catch{}if(l(i,d))return a(!o.f.call(i,d),i[d])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(t,C,S){var y=t("../internals/to-indexed-object"),o=t("../internals/object-get-own-property-names").f,a={}.toString,g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];C.exports.f=function(b){if(!g||a.call(b)!="[object Window]")return o(y(b));try{return o(b)}catch{return g.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(t,C,S){var y=t("../internals/object-keys-internal"),o=t("../internals/enum-bug-keys").concat("length","prototype");S.f=Object.getOwnPropertyNames||function(a){return y(a,o)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(t,C,S){S.f=Object.getOwnPropertySymbols},{}],97:[function(t,C,S){var y=t("../internals/has"),o=t("../internals/to-object"),a=t("../internals/shared-key"),g=(t=t("../internals/correct-prototype-getter"),a("IE_PROTO")),b=Object.prototype;C.exports=t?Object.getPrototypeOf:function(l){return l=o(l),y(l,g)?l[g]:typeof l.constructor=="function"&&l instanceof l.constructor?l.constructor.prototype:l instanceof Object?b:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(t,C,S){var y=t("../internals/has"),o=t("../internals/to-indexed-object"),a=t("../internals/array-includes").indexOf,g=t("../internals/hidden-keys");C.exports=function(b,l){var c,u=o(b),i=0,d=[];for(c in u)!y(g,c)&&y(u,c)&&d.push(c);for(;l.length>i;)!y(u,c=l[i++])||~a(d,c)||d.push(c);return d}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(t,C,S){var y=t("../internals/object-keys-internal"),o=t("../internals/enum-bug-keys");C.exports=Object.keys||function(a){return y(a,o)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(t,C,S){var y={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!y.call({1:2},1);S.f=a?function(g){return!!(g=o(this,g))&&g.enumerable}:y},{}],101:[function(t,C,S){var y=t("../internals/an-object"),o=t("../internals/a-possible-prototype");C.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,g=!1,b={};try{(a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(b,[]),g=b instanceof Array}catch{}return function(l,c){return y(l),o(c),g?a.call(l,c):l.__proto__=c,l}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(t,C,S){var y=t("../internals/to-string-tag-support"),o=t("../internals/classof");C.exports=y?{}.toString:function(){return"[object "+o(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(t,C,S){var y=t("../internals/get-built-in"),o=t("../internals/object-get-own-property-names"),a=t("../internals/object-get-own-property-symbols"),g=t("../internals/an-object");C.exports=y("Reflect","ownKeys")||function(b){var l=o.f(g(b)),c=a.f;return c?l.concat(c(b)):l}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(t,C,S){t=t("../internals/global"),C.exports=t},{"../internals/global":59}],105:[function(t,C,S){C.exports=function(y){try{return{error:!1,value:y()}}catch(o){return{error:!0,value:o}}}},{}],106:[function(t,C,S){var y=t("../internals/an-object"),o=t("../internals/is-object"),a=t("../internals/new-promise-capability");C.exports=function(g,b){return y(g),o(b)&&b.constructor===g?b:((0,(g=a.f(g)).resolve)(b),g.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(t,C,S){var y=t("../internals/redefine");C.exports=function(o,a,g){for(var b in a)y(o,b,a[b],g);return o}},{"../internals/redefine":108}],108:[function(t,C,S){var y=t("../internals/global"),o=t("../internals/create-non-enumerable-property"),a=t("../internals/has"),g=t("../internals/set-global"),b=t("../internals/inspect-source"),l=(t=t("../internals/internal-state")).get,c=t.enforce,u=String(String).split("String");(C.exports=function(i,d,p,v){var h=!!v&&!!v.unsafe,w=!!v&&!!v.enumerable;v=!!v&&!!v.noTargetGet,typeof p=="function"&&(typeof d!="string"||a(p,"name")||o(p,"name",d),c(p).source=u.join(typeof d=="string"?d:"")),i===y?w?i[d]=p:g(d,p):(h?!v&&i[d]&&(w=!0):delete i[d],w?i[d]=p:o(i,d,p))})(Function.prototype,"toString",function(){return typeof this=="function"&&l(this).source||b(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(t,C,S){var y=t("./classof-raw"),o=t("./regexp-exec");C.exports=function(a,g){var b=a.exec;if(typeof b=="function"){if(typeof(b=b.call(a,g))!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return b}if(y(a)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return o.call(a,g)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(t,C,S){var y,o,a=t("./regexp-flags"),g=(t=t("./regexp-sticky-helpers"),RegExp.prototype.exec),b=String.prototype.replace,l=g,c=(y=/a/,o=/b*/g,g.call(y,"a"),g.call(o,"a"),y.lastIndex!==0||o.lastIndex!==0),u=t.UNSUPPORTED_Y||t.BROKEN_CARET,i=/()??/.exec("")[1]!==void 0;C.exports=l=c||i||u?function(d){var p,v,h,w,_=this,E=u&&_.sticky,R=a.call(_),P=_.source,T=0,D=d;return E&&((R=R.replace("y","")).indexOf("g")===-1&&(R+="g"),D=String(d).slice(_.lastIndex),0<_.lastIndex&&(!_.multiline||_.multiline&&d[_.lastIndex-1]!==`
`)&&(P="(?: "+P+")",D=" "+D,T++),v=new RegExp("^(?:"+P+")",R)),i&&(v=new RegExp("^"+P+"$(?!\\s)",R)),c&&(p=_.lastIndex),h=g.call(E?v:_,D),E?h?(h.input=h.input.slice(T),h[0]=h[0].slice(T),h.index=_.lastIndex,_.lastIndex+=h[0].length):_.lastIndex=0:c&&h&&(_.lastIndex=_.global?h.index+h[0].length:p),i&&h&&1<h.length&&b.call(h[0],v,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(h[w]=void 0)}),h}:l},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(t,C,S){var y=t("../internals/an-object");C.exports=function(){var o=y(this),a="";return o.global&&(a+="g"),o.ignoreCase&&(a+="i"),o.multiline&&(a+="m"),o.dotAll&&(a+="s"),o.unicode&&(a+="u"),o.sticky&&(a+="y"),a}},{"../internals/an-object":10}],112:[function(t,C,S){function y(o,a){return RegExp(o,a)}t=t("./fails"),S.UNSUPPORTED_Y=t(function(){var o=y("a","y");return o.lastIndex=2,o.exec("abcd")!=null}),S.BROKEN_CARET=t(function(){var o=y("^r","gy");return o.lastIndex=2,o.exec("str")!=null})},{"./fails":51}],113:[function(t,C,S){C.exports=function(y){if(y==null)throw TypeError("Can't call method on "+y);return y}},{}],114:[function(t,C,S){C.exports=Object.is||function(y,o){return y===o?y!==0||1/y==1/o:y!=y&&o!=o}},{}],115:[function(t,C,S){var y=t("../internals/global"),o=t("../internals/create-non-enumerable-property");C.exports=function(a,g){try{o(y,a,g)}catch{y[a]=g}return g}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(t,C,S){var y=t("../internals/get-built-in"),o=t("../internals/object-define-property"),a=t("../internals/well-known-symbol"),g=t("../internals/descriptors"),b=a("species");C.exports=function(l){l=y(l);var c=o.f;g&&l&&!l[b]&&c(l,b,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(t,C,S){var y=t("../internals/object-define-property").f,o=t("../internals/has"),a=t("../internals/well-known-symbol")("toStringTag");C.exports=function(g,b,l){g&&!o(g=l?g:g.prototype,a)&&y(g,a,{configurable:!0,value:b})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(t,C,S){var y=t("../internals/shared"),o=t("../internals/uid"),a=y("keys");C.exports=function(g){return a[g]||(a[g]=o(g))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(t,C,S){var y=t("../internals/global"),o=(t=t("../internals/set-global"),"__core-js_shared__");y=y[o]||t(o,{}),C.exports=y},{"../internals/global":59,"../internals/set-global":115}],120:[function(t,C,S){var y=t("../internals/is-pure"),o=t("../internals/shared-store");(C.exports=function(a,g){return o[a]||(o[a]=g!==void 0?g:{})})("versions",[]).push({version:"3.6.5",mode:y?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(t,C,S){var y=t("../internals/an-object"),o=t("../internals/a-function"),a=t("../internals/well-known-symbol")("species");C.exports=function(g,b){return(g=y(g).constructor)===void 0||(g=y(g)[a])==null?b:o(g)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(t,C,S){var y=t("../internals/fails");C.exports=function(o){return y(function(){var a=""[o]('"');return a!==a.toLowerCase()||3<a.split('"').length})}},{"../internals/fails":51}],123:[function(t,C,S){function y(g){return function(b,l){b=String(a(b)),l=o(l);var c,u=b.length;return l<0||u<=l?g?"":void 0:(c=b.charCodeAt(l))<55296||56319<c||l+1===u||(u=b.charCodeAt(l+1))<56320||57343<u?g?b.charAt(l):c:g?b.slice(l,l+2):u-56320+(c-55296<<10)+65536}}var o=t("../internals/to-integer"),a=t("../internals/require-object-coercible");C.exports={codeAt:y(!1),charAt:y(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(t,C,S){t=t("../internals/engine-user-agent"),C.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],125:[function(t,C,S){function y(l){return function(c,u,i){var d=(c=String(g(c))).length;return i=i===void 0?" ":String(i),(u=o(u))<=d||i==""?c:((d=a.call(i,b((u-=d)/i.length))).length>u&&(d=d.slice(0,u)),l?c+d:d+c)}}var o=t("../internals/to-length"),a=t("../internals/string-repeat"),g=t("../internals/require-object-coercible"),b=Math.ceil;C.exports={start:y(!1),end:y(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(t,C,S){function y(w){return w+22+75*(w<26)}function o(w){var _,E=[],R=(w=function(re){for(var ee=[],ae=0,z=re.length;ae<z;){var H,$=re.charCodeAt(ae++);55296<=$&&$<=56319&&ae<z?(64512&(H=re.charCodeAt(ae++)))==56320?ee.push(((1023&$)<<10)+(1023&H)+65536):(ee.push($),ae--):ee.push($)}return ee}(w)).length,P=128,T=0,D=72;for(B=0;B<w.length;B++)(_=w[B])<128&&E.push(h(_));var A=E.length,I=A;for(A&&E.push("-");I<R;){for(var U=a,B=0;B<w.length;B++)P<=(_=w[B])&&_<U&&(U=_);var N=I+1;if(U-P>v((a-T)/N))throw RangeError(d);for(T+=(U-P)*N,P=U,B=0;B<w.length;B++){if((_=w[B])<P&&++T>a)throw RangeError(d);if(_==P){for(var O=T,V=g;;V+=g){var q=V<=D?1:D+b<=V?b:V-D;if(O<q)break;var X=O-q,Z=g-q;E.push(h(y(q+X%Z))),O=v(X/Z)}E.push(h(y(O))),D=function(re,ee,ae){var z=0;for(re=ae?v(re/c):re>>1,re+=v(re/ee);p*b>>1<re;z+=g)re=v(re/p);return v(z+(p+1)*re/(re+l))}(T,N,I==A),T=0,++I}}++T,++P}return E.join("")}var a=2147483647,g=36,b=26,l=38,c=700,u=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",p=g-1,v=Math.floor,h=String.fromCharCode;C.exports=function(w){for(var _,E=[],R=w.toLowerCase().replace(i,".").split("."),P=0;P<R.length;P++)_=R[P],E.push(u.test(_)?"xn--"+o(_):_);return E.join(".")}},{}],127:[function(t,C,S){var y=t("../internals/to-integer"),o=t("../internals/require-object-coercible");C.exports="".repeat||function(a){var g=String(o(this)),b="",l=y(a);if(l<0||l==1/0)throw RangeError("Wrong number of repetitions");for(;0<l;(l>>>=1)&&(g+=g))1&l&&(b+=g);return b}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(t,C,S){var y=t("../internals/fails"),o=t("../internals/whitespaces");C.exports=function(a){return y(function(){return!!o[a]()||""[a]()!=""||o[a].name!==a})}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(t,C,S){function y(b){return function(l){return l=String(o(l)),1&b&&(l=l.replace(a,"")),2&b?l.replace(g,""):l}}var o=t("../internals/require-object-coercible"),a=(t="["+t("../internals/whitespaces")+"]",RegExp("^"+t+t+"*")),g=RegExp(t+t+"*$");C.exports={start:y(1),end:y(2),trim:y(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(t,C,S){function y(A){return function(){D(A)}}function o(A){D(A.data)}function a(A){b.postMessage(A+"",p.protocol+"//"+p.host)}var g,b=t("../internals/global"),l=t("../internals/fails"),c=t("../internals/classof-raw"),u=t("../internals/function-bind-context"),i=t("../internals/html"),d=t("../internals/document-create-element"),p=(t=t("../internals/engine-is-ios"),b.location),v=b.setImmediate,h=b.clearImmediate,w=b.process,_=b.MessageChannel,E=b.Dispatch,R=0,P={},T="onreadystatechange",D=function(A){var I;P.hasOwnProperty(A)&&(I=P[A],delete P[A],I())};v&&h||(v=function(A){for(var I=[],U=1;U<arguments.length;)I.push(arguments[U++]);return P[++R]=function(){(typeof A=="function"?A:Function(A)).apply(void 0,I)},g(R),R},h=function(A){delete P[A]},c(w)=="process"?g=function(A){w.nextTick(y(A))}:E&&E.now?g=function(A){E.now(y(A))}:_&&!t?(t=(c=new _).port2,c.port1.onmessage=o,g=u(t.postMessage,t,1)):!b.addEventListener||typeof postMessage!="function"||b.importScripts||l(a)||p.protocol==="file:"?g=T in d("script")?function(A){i.appendChild(d("script"))[T]=function(){i.removeChild(this),D(A)}}:function(A){setTimeout(y(A),0)}:(g=a,b.addEventListener("message",o,!1))),C.exports={set:v,clear:h}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(t,C,S){var y=t("../internals/classof-raw");C.exports=function(o){if(typeof o!="number"&&y(o)!="Number")throw TypeError("Incorrect invocation");return+o}},{"../internals/classof-raw":28}],132:[function(t,C,S){var y=t("../internals/to-integer"),o=Math.max,a=Math.min;C.exports=function(g,b){return(g=y(g))<0?o(g+b,0):a(g,b)}},{"../internals/to-integer":135}],133:[function(t,C,S){var y=t("../internals/to-integer"),o=t("../internals/to-length");C.exports=function(a){if(a===void 0)return 0;a=y(a);var g=o(a);if(a!==g)throw RangeError("Wrong length or index");return g}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(t,C,S){var y=t("../internals/indexed-object"),o=t("../internals/require-object-coercible");C.exports=function(a){return y(o(a))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(t,C,S){var y=Math.ceil,o=Math.floor;C.exports=function(a){return isNaN(a=+a)?0:(0<a?o:y)(a)}},{}],136:[function(t,C,S){var y=t("../internals/to-integer"),o=Math.min;C.exports=function(a){return 0<a?o(y(a),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(t,C,S){var y=t("../internals/require-object-coercible");C.exports=function(o){return Object(y(o))}},{"../internals/require-object-coercible":113}],138:[function(t,C,S){var y=t("../internals/to-positive-integer");C.exports=function(o,a){if((o=y(o))%a)throw RangeError("Wrong offset");return o}},{"../internals/to-positive-integer":139}],139:[function(t,C,S){var y=t("../internals/to-integer");C.exports=function(o){if((o=y(o))<0)throw RangeError("The argument can't be less than 0");return o}},{"../internals/to-integer":135}],140:[function(t,C,S){var y=t("../internals/is-object");C.exports=function(o,a){if(!y(o))return o;var g,b;if(a&&typeof(g=o.toString)=="function"&&!y(b=g.call(o))||typeof(g=o.valueOf)=="function"&&!y(b=g.call(o))||!a&&typeof(g=o.toString)=="function"&&!y(b=g.call(o)))return b;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(t,C,S){var y={};y[t("../internals/well-known-symbol")("toStringTag")]="z",C.exports=String(y)==="[object z]"},{"../internals/well-known-symbol":148}],142:[function(t,C,S){function y(Te,qe){for(var $e=0,pt=qe.length,rt=new(be(Te))(pt);$e<pt;)rt[$e]=qe[$e++];return rt}function o(Te,qe){H(Te,qe,{get:function(){return ae(this)[qe]}})}function a(Te){return Te instanceof le||(Te=A(Te))=="ArrayBuffer"||Te=="SharedArrayBuffer"}function g(Te,qe){return Ue(Te)&&typeof qe!="symbol"&&qe in Te&&String(+qe)==String(qe)}function b(Te,qe){return g(Te,qe=T(qe,!0))?w(2,Te[qe]):$(Te,qe)}function l(Te,qe,$e){return!(g(Te,qe=T(qe,!0))&&I($e)&&D($e,"value"))||D($e,"get")||D($e,"set")||$e.configurable||D($e,"writable")&&!$e.writable||D($e,"enumerable")&&!$e.enumerable?H(Te,qe,$e):(Te[qe]=$e.value,Te)}var c=t("../internals/export"),u=t("../internals/global"),i=t("../internals/descriptors"),d=t("../internals/typed-array-constructors-require-wrappers"),p=t("../internals/array-buffer-view-core"),v=t("../internals/array-buffer"),h=t("../internals/an-instance"),w=t("../internals/create-property-descriptor"),_=t("../internals/create-non-enumerable-property"),E=t("../internals/to-length"),R=t("../internals/to-index"),P=t("../internals/to-offset"),T=t("../internals/to-primitive"),D=t("../internals/has"),A=t("../internals/classof"),I=t("../internals/is-object"),U=t("../internals/object-create"),B=t("../internals/object-set-prototype-of"),N=t("../internals/object-get-own-property-names").f,O=t("../internals/typed-array-from"),V=t("../internals/array-iteration").forEach,q=t("../internals/set-species"),X=t("../internals/object-define-property"),Z=t("../internals/object-get-own-property-descriptor"),re=t("../internals/internal-state"),ee=t("../internals/inherit-if-required"),ae=re.get,z=re.set,H=X.f,$=Z.f,ne=Math.round,oe=u.RangeError,le=v.ArrayBuffer,Q=v.DataView,se=p.NATIVE_ARRAY_BUFFER_VIEWS,ye=p.TYPED_ARRAY_TAG,me=p.TypedArray,he=p.TypedArrayPrototype,be=p.aTypedArrayConstructor,Ue=p.isTypedArray,Ne="BYTES_PER_ELEMENT",Ee="Wrong length";i?(se||(Z.f=b,X.f=l,o(he,"buffer"),o(he,"byteOffset"),o(he,"byteLength"),o(he,"length")),c({target:"Object",stat:!0,forced:!se},{getOwnPropertyDescriptor:b,defineProperty:l}),C.exports=function(Te,qe,$e){function pt(it,at){H(it,at,{get:function(){var J=this,K=at;return(J=ae(J)).view[Ae](K*rt+J.byteOffset,!0)},set:function(J){var K=this,te=at;K=ae(K),$e&&(J=(J=ne(J))<0?0:255<J?255:255&J),K.view[Pe](te*rt+K.byteOffset,J,!0)},enumerable:!0})}var rt=Te.match(/\d+$/)[0]/8,fe=Te+($e?"Clamped":"")+"Array",Ae="get"+Te,Pe="set"+Te,He=u[fe],Je=He,yt=(Te=Je&&Je.prototype,{});se?d&&(Je=qe(function(it,at,J,K){return h(it,Je,fe),ee(I(at)?a(at)?K!==void 0?new He(at,P(J,rt),K):J!==void 0?new He(at,P(J,rt)):new He(at):Ue(at)?y(Je,at):O.call(Je,at):new He(R(at)),it,Je)}),B&&B(Je,me),V(N(He),function(it){it in Je||_(Je,it,He[it])}),Je.prototype=Te):(Je=qe(function(it,at,J,K){h(it,Je,fe);var te,ue,we=0,Oe=0;if(I(at)){if(!a(at))return Ue(at)?y(Je,at):O.call(Je,at);var Ye=at;if(Oe=P(J,rt),J=at.byteLength,K===void 0){if(J%rt||(te=J-Oe)<0)throw oe(Ee)}else if(J<(te=E(K)*rt)+Oe)throw oe(Ee);ue=te/rt}else ue=R(at),Ye=new le(te=ue*rt);for(z(it,{buffer:Ye,byteOffset:Oe,byteLength:te,length:ue,view:new Q(Ye)});we<ue;)pt(it,we++)}),B&&B(Je,me),Te=Je.prototype=U(he)),Te.constructor!==Je&&_(Te,"constructor",Je),ye&&_(Te,ye,fe),yt[fe]=Je,c({global:!0,forced:Je!=He,sham:!se},yt),Ne in Je||_(Je,Ne,rt),Ne in Te||_(Te,Ne,rt),q(fe)}):C.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(t,C,S){var y=t("../internals/global"),o=t("../internals/fails"),a=t("../internals/check-correctness-of-iteration"),g=(t=t("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,y.ArrayBuffer),b=y.Int8Array;C.exports=!t||!o(function(){b(1)})||!o(function(){new b(-1)})||!a(function(l){new b,new b(null),new b(1.5),new b(l)},!0)||o(function(){return new b(new g(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(t,C,S){var y=t("../internals/to-object"),o=t("../internals/to-length"),a=t("../internals/get-iterator-method"),g=t("../internals/is-array-iterator-method"),b=t("../internals/function-bind-context"),l=t("../internals/array-buffer-view-core").aTypedArrayConstructor;C.exports=function(c){var u,i,d,p,v,h,w=y(c),_=arguments.length,E=1<_?arguments[1]:void 0,R=E!==void 0,P=a(w);if(P!=null&&!g(P))for(h=(v=P.call(w)).next,w=[];!(p=h.call(v)).done;)w.push(p.value);for(R&&2<_&&(E=b(E,arguments[2],2)),i=o(w.length),d=new(l(this))(i),u=0;u<i;u++)d[u]=R?E(w[u],u):w[u];return d}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(t,C,S){var y=0,o=Math.random();C.exports=function(a){return"Symbol("+String(a===void 0?"":a)+")_"+(++y+o).toString(36)}},{}],146:[function(t,C,S){t=t("../internals/native-symbol"),C.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],147:[function(t,C,S){t=t("../internals/well-known-symbol"),S.f=t},{"../internals/well-known-symbol":148}],148:[function(t,C,S){var y=t("../internals/global"),o=t("../internals/shared"),a=t("../internals/has"),g=t("../internals/uid"),b=t("../internals/native-symbol"),l=(t=t("../internals/use-symbol-as-uid"),o("wks")),c=y.Symbol,u=t?c:c&&c.withoutSetter||g;C.exports=function(i){return a(l,i)||(b&&a(c,i)?l[i]=c[i]:l[i]=u("Symbol."+i)),l[i]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(t,C,S){C.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],150:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/global"),a=t("../internals/array-buffer"),g=(t=t("../internals/set-species"),"ArrayBuffer");a=a[g],y({global:!0,forced:o[g]!==a},{ArrayBuffer:a}),t(g)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/fails"),a=t("../internals/is-array"),g=t("../internals/is-object"),b=t("../internals/to-object"),l=t("../internals/to-length"),c=t("../internals/create-property"),u=t("../internals/array-species-create"),i=t("../internals/array-method-has-species-support"),d=t("../internals/well-known-symbol"),p=(t=t("../internals/engine-v8-version"),d("isConcatSpreadable")),v=9007199254740991,h="Maximum allowed index exceeded";d=51<=t||!o(function(){var w=[];return w[p]=!1,w.concat()[0]!==w}),t=i("concat"),y({target:"Array",proto:!0,forced:!d||!t},{concat:function(w){for(var _,E,R,P,T,D=b(this),A=u(D,0),I=0,U=-1,B=arguments.length;U<B;U++)if(T=void 0,g(P=R=U===-1?D:arguments[U])&&((T=P[p])!==void 0?T:a(P))){if(E=l(R.length),v<I+E)throw TypeError(h);for(_=0;_<E;_++,I++)_ in R&&c(A,I,R[_])}else{if(v<=I)throw TypeError(h);c(A,I++,R)}return A.length=I,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/array-copy-within");t=t("../internals/add-to-unscopables"),y({target:"Array",proto:!0},{copyWithin:o}),t("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/array-iteration").every,a=t("../internals/array-method-is-strict");t=t("../internals/array-method-uses-to-length"),a=a("every"),t=t("every"),y({target:"Array",proto:!0,forced:!a||!t},{every:function(g){return o(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/array-fill");t=t("../internals/add-to-unscopables"),y({target:"Array",proto:!0},{fill:o}),t("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/array-iteration").filter,a=t("../internals/array-method-has-species-support");t=t("../internals/array-method-uses-to-length"),a=a("filter"),t=t("filter"),y({target:"Array",proto:!0,forced:!a||!t},{filter:function(g){return o(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(t,C,S){var y=t("../internals/export");t=t("../internals/array-for-each"),y({target:"Array",proto:!0,forced:[].forEach!=t},{forEach:t})},{"../internals/array-for-each":16,"../internals/export":50}],157:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/array-from");y({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(a){Array.from(a)})},{from:o})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],158:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/array-includes").includes,a=t("../internals/add-to-unscopables");y({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(g){return o(this,g,1<arguments.length?arguments[1]:void 0)}}),a("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/array-includes").indexOf,a=t("../internals/array-method-is-strict"),g=(t=t("../internals/array-method-uses-to-length"),[].indexOf),b=!!g&&1/[1].indexOf(1,-0)<0;a=a("indexOf"),t=t("indexOf",{ACCESSORS:!0,1:0}),y({target:"Array",proto:!0,forced:b||!a||!t},{indexOf:function(l){return b?g.apply(this,arguments)||0:o(this,l,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(t,C,S){var y=t("../internals/to-indexed-object"),o=t("../internals/add-to-unscopables"),a=t("../internals/iterators"),g=t("../internals/internal-state"),b=(t=t("../internals/define-iterator"),"Array Iterator"),l=g.set,c=g.getterFor(b);C.exports=t(Array,"Array",function(u,i){l(this,{type:b,target:y(u),index:0,kind:i})},function(){var u=c(this),i=u.target,d=u.kind,p=u.index++;return!i||p>=i.length?{value:u.target=void 0,done:!0}:d=="keys"?{value:p,done:!1}:d=="values"?{value:i[p],done:!1}:{value:[p,i[p]],done:!1}},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],161:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/indexed-object"),a=t("../internals/to-indexed-object"),g=(t=t("../internals/array-method-is-strict"),[].join);o=o!=Object,t=t("join",","),y({target:"Array",proto:!0,forced:o||!t},{join:function(b){return g.call(a(this),b===void 0?",":b)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],162:[function(t,C,S){t("../internals/export")({target:"Array",proto:!0,forced:(t=t("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:t})},{"../internals/array-last-index-of":20,"../internals/export":50}],163:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/array-iteration").map,a=t("../internals/array-method-has-species-support");t=t("../internals/array-method-uses-to-length"),a=a("map"),t=t("map"),y({target:"Array",proto:!0,forced:!a||!t},{map:function(g){return o(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/is-object"),a=t("../internals/is-array"),g=t("../internals/to-absolute-index"),b=t("../internals/to-length"),l=t("../internals/to-indexed-object"),c=t("../internals/create-property"),u=t("../internals/well-known-symbol"),i=t("../internals/array-method-has-species-support"),d=(t=t("../internals/array-method-uses-to-length"),i=i("slice"),t=t("slice",{ACCESSORS:!0,0:0,1:2}),u("species")),p=[].slice,v=Math.max;y({target:"Array",proto:!0,forced:!i||!t},{slice:function(h,w){var _,E,R,P=l(this),T=b(P.length),D=g(h,T),A=g(w===void 0?T:w,T);if(a(P)&&((_=typeof(_=P.constructor)=="function"&&(_===Array||a(_.prototype))||o(_)&&(_=_[d])===null?void 0:_)===Array||_===void 0))return p.call(P,D,A);for(E=new(_===void 0?Array:_)(v(A-D,0)),R=0;D<A;D++,R++)D in P&&c(E,R,P[D]);return E.length=R,E}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],165:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/array-iteration").some,a=t("../internals/array-method-is-strict");t=t("../internals/array-method-uses-to-length"),a=a("some"),t=t("some"),y({target:"Array",proto:!0,forced:!a||!t},{some:function(g){return o(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],166:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/to-absolute-index"),a=t("../internals/to-integer"),g=t("../internals/to-length"),b=t("../internals/to-object"),l=t("../internals/array-species-create"),c=t("../internals/create-property"),u=t("../internals/array-method-has-species-support"),i=(t=t("../internals/array-method-uses-to-length"),u=u("splice"),t=t("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),d=Math.min;y({target:"Array",proto:!0,forced:!u||!t},{splice:function(p,v){var h,w,_,E,R,P,T=b(this),D=g(T.length),A=o(p,D);if((p=arguments.length)===0?h=w=0:w=p===1?(h=0,D-A):(h=p-2,d(i(a(v),0),D-A)),9007199254740991<D+h-w)throw TypeError("Maximum allowed length exceeded");for(_=l(T,w),E=0;E<w;E++)(R=A+E)in T&&c(_,E,T[R]);if(h<(_.length=w)){for(E=A;E<D-w;E++)P=E+h,(R=E+w)in T?T[P]=T[R]:delete T[P];for(E=D;D-w+h<E;E--)delete T[E-1]}else if(w<h)for(E=D-w;A<E;E--)P=E+h-1,(R=E+w-1)in T?T[P]=T[R]:delete T[P];for(E=0;E<h;E++)T[E+A]=arguments[E+2];return T.length=D-w+h,_}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],167:[function(t,C,S){var y=t("../internals/descriptors"),o=(t=t("../internals/object-define-property").f,Function.prototype),a=o.toString,g=/^\s*function ([^ (]*)/;!y||"name"in o||t(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(g)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],168:[function(t,C,S){var y=t("../internals/collection");t=t("../internals/collection-strong"),C.exports=y("Map",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},t)},{"../internals/collection":32,"../internals/collection-strong":30}],169:[function(t,C,S){t=t("../internals/export");var y=Math.hypot,o=Math.abs,a=Math.sqrt;t({target:"Math",stat:!0,forced:!!y&&y(1/0,NaN)!==1/0},{hypot:function(g,b){for(var l,c,u=0,i=0,d=arguments.length,p=0;i<d;)p<(l=o(arguments[i++]))?(u=u*(c=p/l)*c+1,p=l):u+=0<l?(c=l/p)*c:l;return p===1/0?1/0:p*a(u)}})},{"../internals/export":50}],170:[function(t,C,S){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],171:[function(t,C,S){function y(B){var N,O,V,q,X,Z,re,ee=i(B,!1);if(typeof ee=="string"&&2<ee.length){if((B=(ee=_(ee)).charCodeAt(0))===43||B===45){if((N=ee.charCodeAt(2))===88||N===120)return NaN}else if(B===48){switch(ee.charCodeAt(1)){case 66:case 98:O=2,V=49;break;case 79:case 111:O=8,V=55;break;default:return+ee}for(X=(q=ee.slice(2)).length,Z=0;Z<X;Z++)if((re=q.charCodeAt(Z))<48||V<re)return NaN;return parseInt(q,O)}}return+ee}var o=t("../internals/descriptors"),a=t("../internals/global"),g=t("../internals/is-forced"),b=t("../internals/redefine"),l=t("../internals/has"),c=t("../internals/classof-raw"),u=t("../internals/inherit-if-required"),i=t("../internals/to-primitive"),d=t("../internals/fails"),p=t("../internals/object-create"),v=t("../internals/object-get-own-property-names").f,h=t("../internals/object-get-own-property-descriptor").f,w=t("../internals/object-define-property").f,_=t("../internals/string-trim").trim,E="Number",R=a[E],P=R.prototype,T=c(p(P))==E;if(g(E,!R(" 0o1")||!R("0b1")||R("+0x1"))){for(var D,A=function(B){B=arguments.length<1?0:B;var N=this;return N instanceof A&&(T?d(function(){P.valueOf.call(N)}):c(N)!=E)?u(new R(y(B)),N,A):y(B)},I=o?v(R):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),U=0;I.length>U;U++)l(R,D=I[U])&&!l(A,D)&&w(A,D,h(R,D));(A.prototype=P).constructor=A,b(a,E,A)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],172:[function(t,C,S){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],173:[function(t,C,S){function y(u,i,d){return i===0?d:i%2==1?y(u,i-1,d*u):y(u*u,i/2,d)}var o=t("../internals/export"),a=t("../internals/to-integer"),g=t("../internals/this-number-value"),b=t("../internals/string-repeat"),l=(t=t("../internals/fails"),1 .toFixed),c=Math.floor;o({target:"Number",proto:!0,forced:l&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!t(function(){l.call({})})},{toFixed:function(u){function i(P,T){for(var D=-1,A=T;++D<6;)A+=P*_[D],_[D]=A%1e7,A=c(A/1e7)}function d(P){for(var T=6,D=0;0<=--T;)D+=_[T],_[T]=c(D/P),D=D%P*1e7}function p(){for(var P,T=6,D="";0<=--T;)D===""&&T!==0&&_[T]===0||(P=String(_[T]),D=D===""?P:D+b.call("0",7-P.length)+P);return D}var v,h,w=g(this),_=(u=a(u),[0,0,0,0,0,0]),E="",R="0";if(u<0||20<u)throw RangeError("Incorrect fraction digits");if(w!=w)return"NaN";if(w<=-1e21||1e21<=w)return String(w);if(w<0&&(E="-",w=-w),1e-21<w)if(w=(v=function(P){for(var T=0,D=P;4096<=D;)T+=12,D/=4096;for(;2<=D;)T+=1,D/=2;return T}(w*y(2,69,1))-69)<0?w*y(2,-v,1):w/y(2,v,1),w*=4503599627370496,0<(v=52-v)){for(i(0,w),h=u;7<=h;)i(1e7,0),h-=7;for(i(y(10,h,1),0),h=v-1;23<=h;)d(1<<23),h-=23;d(1<<h),i(1,1),d(2),R=p()}else i(0,w),i(1<<-v,0),R=p()+b.call("0",u);return 0<u?E+((w=R.length)<=u?"0."+b.call("0",u-w)+R:R.slice(0,w-u)+"."+R.slice(w-u)):E+R}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],174:[function(t,C,S){var y=t("../internals/export");t=t("../internals/object-assign"),y({target:"Object",stat:!0,forced:Object.assign!==t},{assign:t})},{"../internals/export":50,"../internals/object-assign":89}],175:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/iterate"),a=t("../internals/create-property");y({target:"Object",stat:!0},{fromEntries:function(g){var b={};return o(g,function(l,c){a(b,l,c)},void 0,!0),b}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],176:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/fails"),a=t("../internals/to-indexed-object"),g=t("../internals/object-get-own-property-descriptor").f;t=t("../internals/descriptors"),o=o(function(){g(1)}),y({target:"Object",stat:!0,forced:!t||o,sham:!t},{getOwnPropertyDescriptor:function(b,l){return g(a(b),l)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],177:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/fails");t=t("../internals/object-get-own-property-names-external").f,y({target:"Object",stat:!0,forced:o(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:t})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],178:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/fails"),a=t("../internals/to-object"),g=t("../internals/object-get-prototype-of");t=t("../internals/correct-prototype-getter"),y({target:"Object",stat:!0,forced:o(function(){g(1)}),sham:!t},{getPrototypeOf:function(b){return g(a(b))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],179:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/to-object"),a=t("../internals/object-keys");y({target:"Object",stat:!0,forced:t("../internals/fails")(function(){a(1)})},{keys:function(g){return a(o(g))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],180:[function(t,C,S){var y=t("../internals/to-string-tag-support"),o=t("../internals/redefine");t=t("../internals/object-to-string"),y||o(Object.prototype,"toString",t,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],181:[function(t,C,S){var y,o,a,g,b=t("../internals/export"),l=t("../internals/is-pure"),c=t("../internals/global"),u=t("../internals/get-built-in"),i=t("../internals/native-promise-constructor"),d=t("../internals/redefine"),p=t("../internals/redefine-all"),v=t("../internals/set-to-string-tag"),h=t("../internals/set-species"),w=t("../internals/is-object"),_=t("../internals/a-function"),E=t("../internals/an-instance"),R=t("../internals/classof-raw"),P=t("../internals/inspect-source"),T=t("../internals/iterate"),D=t("../internals/check-correctness-of-iteration"),A=t("../internals/species-constructor"),I=t("../internals/task").set,U=t("../internals/microtask"),B=t("../internals/promise-resolve"),N=t("../internals/host-report-errors"),O=t("../internals/new-promise-capability"),V=t("../internals/perform"),q=t("../internals/internal-state"),X=t("../internals/is-forced"),Z=t("../internals/well-known-symbol"),re=t("../internals/engine-v8-version"),ee=Z("species"),ae="Promise",z=q.get,H=q.set,$=q.getterFor(ae),ne=i,oe=c.TypeError,le=c.document,Q=c.process,se=u("fetch"),ye=O.f,me=ye,he=R(Q)=="process",be=!!(le&&le.createEvent&&c.dispatchEvent),Ue="unhandledrejection",Ne=(Z=(t=X(ae,function(){var fe,Ae;return P(ne)===String(ne)&&(re===66||!he&&typeof PromiseRejectionEvent!="function")?!0:!((!l||ne.prototype.finally)&&(51<=re&&/native code/.test(ne)||(Ae=function(Pe){Pe(function(){},function(){})},((fe=ne.resolve(1)).constructor={})[ee]=Ae,fe.then(function(){})instanceof Ae)))}))||!D(function(fe){ne.all(fe).catch(function(){})}),function(fe){var Ae;return!(!w(fe)||typeof(Ae=fe.then)!="function")&&Ae}),Ee=function(fe,Ae,Pe){var He;Ae.notified||(Ae.notified=!0,He=Ae.reactions,U(function(){for(var Je,yt,it=Ae.value,at=Ae.state==1,J=0;He.length>J;){var K,te,ue,we=He[J++],Oe=at?we.ok:we.fail,Ye=we.resolve,We=we.reject,je=we.domain;try{Oe?(at||(Ae.rejection===2&&function(Ze,st){I.call(c,function(){he?Q.emit("rejectionHandled",Ze):Te("rejectionhandled",Ze,st.value)})}(fe,Ae),Ae.rejection=1),Oe===!0?K=it:(je&&je.enter(),K=Oe(it),je&&(je.exit(),ue=!0)),K===we.promise?We(oe("Promise-chain cycle")):(te=Ne(K))?te.call(K,Ye,We):Ye(K)):We(it)}catch(Ze){je&&!ue&&je.exit(),We(Ze)}}Ae.reactions=[],Ae.notified=!1,Pe&&!Ae.rejection&&(Je=fe,yt=Ae,I.call(c,function(){var Ze=yt.value,st=qe(yt);if(st&&(st=V(function(){he?Q.emit("unhandledRejection",Ze,Je):Te(Ue,Je,Ze)}),yt.rejection=he||qe(yt)?2:1,st.error))throw st.value}))}))},Te=function(fe,Ae,Pe){var He;be?((He=le.createEvent("Event")).promise=Ae,He.reason=Pe,He.initEvent(fe,!1,!0),c.dispatchEvent(He)):He={promise:Ae,reason:Pe},(Ae=c["on"+fe])?Ae(He):fe===Ue&&N("Unhandled promise rejection",Pe)},qe=function(fe){return fe.rejection!==1&&!fe.parent},$e=function(fe,Ae,Pe,He){return function(Je){fe(Ae,Pe,Je,He)}},pt=function(fe,Ae,Pe,He){Ae.done||(Ae.done=!0,(Ae=He||Ae).value=Pe,Ae.state=2,Ee(fe,Ae,!0))},rt=function(fe,Ae,Pe,He){if(!Ae.done){Ae.done=!0,He&&(Ae=He);try{if(fe===Pe)throw oe("Promise can't be resolved itself");var Je=Ne(Pe);Je?U(function(){var yt={done:!1};try{Je.call(Pe,$e(rt,fe,yt,Ae),$e(pt,fe,yt,Ae))}catch(it){pt(fe,yt,it,Ae)}}):(Ae.value=Pe,Ae.state=1,Ee(fe,Ae,!1))}catch(yt){pt(fe,{done:!1},yt,Ae)}}};t&&(ne=function(fe){E(this,ne,ae),_(fe),y.call(this);var Ae=z(this);try{fe($e(rt,this,Ae),$e(pt,this,Ae))}catch(Pe){pt(this,Ae,Pe)}},(y=function(fe){H(this,{type:ae,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(ne.prototype,{then:function(fe,Ae){var Pe=$(this),He=ye(A(this,ne));return He.ok=typeof fe!="function"||fe,He.fail=typeof Ae=="function"&&Ae,He.domain=he?Q.domain:void 0,Pe.parent=!0,Pe.reactions.push(He),Pe.state!=0&&Ee(this,Pe,!1),He.promise},catch:function(fe){return this.then(void 0,fe)}}),o=function(){var fe=new y,Ae=z(fe);this.promise=fe,this.resolve=$e(rt,fe,Ae),this.reject=$e(pt,fe,Ae)},O.f=ye=function(fe){return fe===ne||fe===a?new o:me(fe)},l||typeof i!="function"||(g=i.prototype.then,d(i.prototype,"then",function(fe,Ae){var Pe=this;return new ne(function(He,Je){g.call(Pe,He,Je)}).then(fe,Ae)},{unsafe:!0}),typeof se=="function"&&b({global:!0,enumerable:!0,forced:!0},{fetch:function(fe){return B(ne,se.apply(c,arguments))}}))),b({global:!0,wrap:!0,forced:t},{Promise:ne}),v(ne,ae,!1,!0),h(ae),a=u(ae),b({target:ae,stat:!0,forced:t},{reject:function(fe){var Ae=ye(this);return Ae.reject.call(void 0,fe),Ae.promise}}),b({target:ae,stat:!0,forced:l||t},{resolve:function(fe){return B(l&&this===a?ne:this,fe)}}),b({target:ae,stat:!0,forced:Z},{all:function(fe){var Ae=this,Pe=ye(Ae),He=Pe.resolve,Je=Pe.reject,yt=V(function(){var it=_(Ae.resolve),at=[],J=0,K=1;T(fe,function(te){var ue=J++,we=!1;at.push(void 0),K++,it.call(Ae,te).then(function(Oe){we||(we=!0,at[ue]=Oe,--K||He(at))},Je)}),--K||He(at)});return yt.error&&Je(yt.value),Pe.promise},race:function(fe){var Ae=this,Pe=ye(Ae),He=Pe.reject,Je=V(function(){var yt=_(Ae.resolve);T(fe,function(it){yt.call(Ae,it).then(Pe.resolve,He)})});return Je.error&&He(Je.value),Pe.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],182:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/get-built-in"),a=t("../internals/a-function"),g=t("../internals/an-object"),b=t("../internals/is-object"),l=t("../internals/object-create"),c=t("../internals/function-bind"),u=(t=t("../internals/fails"),o("Reflect","construct")),i=t(function(){function p(){}return!(u(function(){},[],p)instanceof p)}),d=!t(function(){u(function(){})});y({target:"Reflect",stat:!0,forced:o=i||d,sham:o},{construct:function(p,v){a(p),g(v);var h=arguments.length<3?p:a(arguments[2]);if(d&&!i)return u(p,v,h);if(p==h){switch(v.length){case 0:return new p;case 1:return new p(v[0]);case 2:return new p(v[0],v[1]);case 3:return new p(v[0],v[1],v[2]);case 4:return new p(v[0],v[1],v[2],v[3])}var w=[null];return w.push.apply(w,v),new(c.apply(p,w))}return w=h.prototype,h=l(b(w)?w:Object.prototype),w=Function.apply.call(p,h,v),b(w)?w:h}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],183:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/is-object"),a=t("../internals/an-object"),g=t("../internals/has"),b=t("../internals/object-get-own-property-descriptor"),l=t("../internals/object-get-prototype-of");y({target:"Reflect",stat:!0},{get:function c(u,i){var d,p=arguments.length<3?u:arguments[2];return a(u)===p?u[i]:(d=b.f(u,i))?g(d,"value")?d.value:d.get===void 0?void 0:d.get.call(p):o(d=l(u))?c(d,i,p):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],184:[function(t,C,S){var y=t("../internals/descriptors"),o=t("../internals/global"),a=t("../internals/is-forced"),g=t("../internals/inherit-if-required"),b=t("../internals/object-define-property").f,l=t("../internals/object-get-own-property-names").f,c=t("../internals/is-regexp"),u=t("../internals/regexp-flags"),i=t("../internals/regexp-sticky-helpers"),d=t("../internals/redefine"),p=t("../internals/fails"),v=t("../internals/internal-state").set,h=t("../internals/set-species"),w=t("../internals/well-known-symbol")("match"),_=o.RegExp,E=_.prototype,R=/a/g,P=/a/g,T=new _(R)!==R,D=i.UNSUPPORTED_Y;if(y&&a("RegExp",!T||D||p(function(){return P[w]=!1,_(R)!=R||_(P)==P||_(R,"i")!="/a/i"}))){for(var A=function(B,N){var O,V=this instanceof A,q=c(B),X=N===void 0;return!V&&q&&B.constructor===A&&X?B:(T?q&&!X&&(B=B.source):B instanceof A&&(X&&(N=u.call(B)),B=B.source),D&&(O=!!N&&-1<N.indexOf("y"))&&(N=N.replace(/y/g,"")),q=g(T?new _(B,N):_(B,N),V?this:E,A),D&&O&&v(q,{sticky:O}),q)},I=l(_),U=0;I.length>U;)(function(B){B in A||b(A,B,{configurable:!0,get:function(){return _[B]},set:function(N){_[B]=N}})})(I[U++]);(E.constructor=A).prototype=E,d(o,"RegExp",A)}h("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],185:[function(t,C,S){var y=t("../internals/export");t=t("../internals/regexp-exec"),y({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})},{"../internals/export":50,"../internals/regexp-exec":110}],186:[function(t,C,S){var y=t("../internals/redefine"),o=t("../internals/an-object"),a=t("../internals/fails"),g=t("../internals/regexp-flags"),b=(t="toString",RegExp.prototype),l=b[t],c=(a=a(function(){return l.call({source:"a",flags:"b"})!="/a/b"}),l.name!=t);(a||c)&&y(RegExp.prototype,t,function(){var u=o(this),i=String(u.source),d=u.flags;return"/"+i+"/"+String(d===void 0&&u instanceof RegExp&&!("flags"in b)?g.call(u):d)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],187:[function(t,C,S){var y=t("../internals/collection");t=t("../internals/collection-strong"),C.exports=y("Set",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},t)},{"../internals/collection":32,"../internals/collection-strong":30}],188:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/object-get-own-property-descriptor").f,a=t("../internals/to-length"),g=t("../internals/not-a-regexp"),b=t("../internals/require-object-coercible"),l=t("../internals/correct-is-regexp-logic"),c=(t=t("../internals/is-pure"),"".endsWith),u=Math.min;l=l("endsWith"),y({target:"String",proto:!0,forced:!(!t&&!l&&(y=o(String.prototype,"endsWith"))&&!y.writable||l)},{endsWith:function(i){var d=String(b(this)),p=(g(i),1<arguments.length?arguments[1]:void 0),v=a(d.length);return p=p===void 0?v:u(a(p),v),v=String(i),c?c.call(d,v,p):d.slice(p-v.length,p)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],189:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/not-a-regexp"),a=t("../internals/require-object-coercible");y({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(g){return!!~String(a(this)).indexOf(o(g),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],190:[function(t,C,S){var y=t("../internals/string-multibyte").charAt,o=t("../internals/internal-state"),a=(t=t("../internals/define-iterator"),"String Iterator"),g=o.set,b=o.getterFor(a);t(String,"String",function(l){g(this,{type:a,string:String(l),index:0})},function(){var l=b(this),c=l.string,u=l.index;return u>=c.length?{value:void 0,done:!0}:(c=y(c,u),l.index+=c.length,{value:c,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],191:[function(t,C,S){var y=t("../internals/fix-regexp-well-known-symbol-logic"),o=t("../internals/an-object"),a=t("../internals/to-length"),g=t("../internals/require-object-coercible"),b=t("../internals/advance-string-index"),l=t("../internals/regexp-exec-abstract");y("match",1,function(c,u,i){return[function(d){var p=g(this),v=d==null?void 0:d[c];return v!==void 0?v.call(d,p):new RegExp(d)[c](String(p))},function(d){var p=i(u,d,this);if(p.done)return p.value;var v=o(d),h=String(this);if(!v.global)return l(v,h);for(var w=v.unicode,_=[],E=v.lastIndex=0;(R=l(v,h))!==null;){var R=String(R[0]);(_[E]=R)===""&&(v.lastIndex=b(h,a(v.lastIndex),w)),E++}return E===0?null:_}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],192:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/string-pad").start;y({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(a){return o(this,a,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],193:[function(t,C,S){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],194:[function(t,C,S){var y=t("../internals/fix-regexp-well-known-symbol-logic"),o=t("../internals/an-object"),a=t("../internals/to-object"),g=t("../internals/to-length"),b=t("../internals/to-integer"),l=t("../internals/require-object-coercible"),c=t("../internals/advance-string-index"),u=t("../internals/regexp-exec-abstract"),i=Math.max,d=Math.min,p=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g;y("replace",2,function(w,_,E,R){var P=R.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,T=R.REPLACE_KEEPS_$0,D=P?"$":"$0";return[function(A,I){var U=l(this),B=A==null?void 0:A[w];return B!==void 0?B.call(A,U,I):_.call(String(U),A,I)},function(A,I){if(!P&&T||typeof I=="string"&&I.indexOf(D)===-1){var U=E(_,A,this,I);if(U.done)return U.value}for(var B,N=o(A),O=String(this),V=typeof I=="function",q=(V||(I=String(I)),N.global),X=(q&&(B=N.unicode,N.lastIndex=0),[]);(z=u(N,O))!==null&&(X.push(z),q);)String(z[0])===""&&(N.lastIndex=c(O,g(N.lastIndex),B));for(var Z,re="",ee=0,ae=0;ae<X.length;ae++){for(var z=X[ae],H=String(z[0]),$=i(d(b(z.index),O.length),0),ne=[],oe=1;oe<z.length;oe++)ne.push((Z=z[oe])===void 0?Z:String(Z));var le=z.groups,Q=V?(Q=[H].concat(ne,$,O),le!==void 0&&Q.push(le),String(I.apply(void 0,Q))):function(se,ye,me,he,be,Ue){var Ne=me+se.length,Ee=he.length,Te=h;return be!==void 0&&(be=a(be),Te=v),_.call(Ue,Te,function(qe,$e){var pt;switch($e.charAt(0)){case"$":return"$";case"&":return se;case"`":return ye.slice(0,me);case"'":return ye.slice(Ne);case"<":pt=be[$e.slice(1,-1)];break;default:var rt,fe=+$e;if(fe==0)return qe;if(Ee<fe)return(rt=p(fe/10))!==0&&rt<=Ee?he[rt-1]===void 0?$e.charAt(1):he[rt-1]+$e.charAt(1):qe;pt=he[fe-1]}return pt===void 0?"":pt})}(H,O,$,ne,le,I);ee<=$&&(re+=O.slice(ee,$)+Q,ee=$+H.length)}return re+O.slice(ee)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],195:[function(t,C,S){var y=t("../internals/fix-regexp-well-known-symbol-logic"),o=t("../internals/an-object"),a=t("../internals/require-object-coercible"),g=t("../internals/same-value"),b=t("../internals/regexp-exec-abstract");y("search",1,function(l,c,u){return[function(i){var d=a(this),p=i==null?void 0:i[l];return p!==void 0?p.call(i,d):new RegExp(i)[l](String(d))},function(i){var d,p=u(c,i,this);return p.done?p.value:(p=o(i),i=String(this),d=p.lastIndex,g(d,0)||(p.lastIndex=0),i=b(p,i),g(p.lastIndex,d)||(p.lastIndex=d),i===null?-1:i.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],196:[function(t,C,S){var y=t("../internals/fix-regexp-well-known-symbol-logic"),o=t("../internals/is-regexp"),a=t("../internals/an-object"),g=t("../internals/require-object-coercible"),b=t("../internals/species-constructor"),l=t("../internals/advance-string-index"),c=t("../internals/to-length"),u=t("../internals/regexp-exec-abstract"),i=t("../internals/regexp-exec"),d=(t=t("../internals/fails"),[].push),p=Math.min,v=4294967295,h=!t(function(){return!RegExp(v,"y")});y("split",2,function(w,_,E){var R="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(P,T){var D=String(g(this)),A=T===void 0?v:T>>>0;if(A==0)return[];if(P===void 0)return[D];if(!o(P))return _.call(D,P,A);for(var I,U,B,N=[],O=(T=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(P.sticky?"y":""),0),V=new RegExp(P.source,T+"g");(I=i.call(V,D))&&!(O<(U=V.lastIndex)&&(N.push(D.slice(O,I.index)),1<I.length&&I.index<D.length&&d.apply(N,I.slice(1)),B=I[0].length,O=U,N.length>=A));)V.lastIndex===I.index&&V.lastIndex++;return O===D.length?!B&&V.test("")||N.push(""):N.push(D.slice(O)),N.length>A?N.slice(0,A):N}:"0".split(void 0,0).length?function(P,T){return P===void 0&&T===0?[]:_.call(this,P,T)}:_;return[function(P,T){var D=g(this),A=P==null?void 0:P[w];return A!==void 0?A.call(P,D,T):R.call(String(D),P,T)},function(P,T){if((D=E(R,P,this,T,R!==_)).done)return D.value;var D=a(P),A=String(this),I=(P=b(D,RegExp),D.unicode),U=(D.ignoreCase?"i":"")+(D.multiline?"m":"")+(D.unicode?"u":"")+(h?"y":"g"),B=new P(h?D:"^(?:"+D.source+")",U),N=T===void 0?v:T>>>0;if(N==0)return[];if(A.length===0)return u(B,A)===null?[A]:[];for(var O=0,V=0,q=[];V<A.length;){B.lastIndex=h?V:0;var X,Z=u(B,h?A:A.slice(V));if(Z===null||(X=p(c(B.lastIndex+(h?0:V)),A.length))===O)V=l(A,V,I);else{if(q.push(A.slice(O,V)),q.length===N)return q;for(var re=1;re<=Z.length-1;re++)if(q.push(Z[re]),q.length===N)return q;V=O=X}}return q.push(A.slice(O)),q}]},!h)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],197:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/object-get-own-property-descriptor").f,a=t("../internals/to-length"),g=t("../internals/not-a-regexp"),b=t("../internals/require-object-coercible"),l=t("../internals/correct-is-regexp-logic"),c=(t=t("../internals/is-pure"),"".startsWith),u=Math.min;l=l("startsWith"),y({target:"String",proto:!0,forced:!(!t&&!l&&(y=o(String.prototype,"startsWith"))&&!y.writable||l)},{startsWith:function(i){var d=String(b(this)),p=(g(i),a(u(1<arguments.length?arguments[1]:void 0,d.length)));return i=String(i),c?c.call(d,i,p):d.slice(p,p+i.length)===i}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],198:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/create-html");y({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return o(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],199:[function(t,C,S){var y=t("../internals/export"),o=t("../internals/string-trim").trim;y({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return o(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],200:[function(t,C,S){var y,o,a,g,b,l=t("../internals/export"),c=t("../internals/descriptors"),u=t("../internals/global"),i=t("../internals/has"),d=t("../internals/is-object"),p=t("../internals/object-define-property").f,v=(t=t("../internals/copy-constructor-properties"),u.Symbol);!c||typeof v!="function"||"description"in v.prototype&&v().description===void 0||(y={},t(o=function(){var h=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),w=this instanceof o?new v(h):h===void 0?v():v(h);return h===""&&(y[w]=!0),w},v),(u=o.prototype=v.prototype).constructor=o,a=u.toString,g=String(v("test"))=="Symbol(test)",b=/^Symbol\((.*)\)[^)]+$/,p(u,"description",{configurable:!0,get:function(){var h=d(this)?this.valueOf():this,w=a.call(h);return i(y,h)?"":(h=g?w.slice(7,-1):w.replace(b,"$1"))===""?void 0:h}}),l({global:!0,forced:!0},{Symbol:o}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],201:[function(t,C,S){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],202:[function(t,C,S){function y(K,te){var ue=rt[K]=A(Ne[me]);return he(ue,{type:ye,tag:K,description:te}),i||(ue.description=te),ue}function o(K,te){E(K);var ue=P(te);return te=I(ue).concat(J(ue)),Q(te,function(we){i&&!at.call(ue,we)||it(K,we,ue[we])}),K}function a(K,te){var ue;if(K=P(K),te=T(te,!0),K!==Ue||!h(rt,te)||h(fe,te))return!(ue=Te(K,te))||!h(rt,te)||h(K,se)&&K[se][te]||(ue.enumerable=!0),ue}function g(K){K=$e(P(K));var te=[];return Q(K,function(ue){h(rt,ue)||h(ae,ue)||te.push(ue)}),te}var b=t("../internals/export"),l=t("../internals/global"),c=t("../internals/get-built-in"),u=t("../internals/is-pure"),i=t("../internals/descriptors"),d=t("../internals/native-symbol"),p=t("../internals/use-symbol-as-uid"),v=t("../internals/fails"),h=t("../internals/has"),w=t("../internals/is-array"),_=t("../internals/is-object"),E=t("../internals/an-object"),R=t("../internals/to-object"),P=t("../internals/to-indexed-object"),T=t("../internals/to-primitive"),D=t("../internals/create-property-descriptor"),A=t("../internals/object-create"),I=t("../internals/object-keys"),U=t("../internals/object-get-own-property-names"),B=t("../internals/object-get-own-property-names-external"),N=t("../internals/object-get-own-property-symbols"),O=t("../internals/object-get-own-property-descriptor"),V=t("../internals/object-define-property"),q=t("../internals/object-property-is-enumerable"),X=t("../internals/create-non-enumerable-property"),Z=t("../internals/redefine"),re=t("../internals/shared"),ee=t("../internals/shared-key"),ae=t("../internals/hidden-keys"),z=t("../internals/uid"),H=t("../internals/well-known-symbol"),$=t("../internals/well-known-symbol-wrapped"),ne=t("../internals/define-well-known-symbol"),oe=t("../internals/set-to-string-tag"),le=t("../internals/internal-state"),Q=t("../internals/array-iteration").forEach,se=ee("hidden"),ye="Symbol",me="prototype",he=(t=H("toPrimitive"),le.set),be=le.getterFor(ye),Ue=Object[me],Ne=l.Symbol,Ee=c("JSON","stringify"),Te=O.f,qe=V.f,$e=B.f,pt=q.f,rt=re("symbols"),fe=re("op-symbols"),Ae=re("string-to-symbol-registry"),Pe=re("symbol-to-string-registry"),He=(ee=re("wks"),!(le=l.QObject)||!le[me]||!le[me].findChild),Je=i&&v(function(){return A(qe({},"a",{get:function(){return qe(this,"a",{value:7}).a}})).a!=7})?function(K,te,ue){var we=Te(Ue,te);we&&delete Ue[te],qe(K,te,ue),we&&K!==Ue&&qe(Ue,te,we)}:qe,yt=p?function(K){return typeof K=="symbol"}:function(K){return Object(K)instanceof Ne},it=function(K,te,ue){return K===Ue&&it(fe,te,ue),E(K),te=T(te,!0),E(ue),(h(rt,te)?(ue.enumerable?(h(K,se)&&K[se][te]&&(K[se][te]=!1),ue=A(ue,{enumerable:D(0,!1)})):(h(K,se)||qe(K,se,D(1,{})),K[se][te]=!0),Je):qe)(K,te,ue)},at=function(K){K=T(K,!0);var te=pt.call(this,K);return!(this===Ue&&h(rt,K)&&!h(fe,K))&&(!(te||!h(this,K)||!h(rt,K)||h(this,se)&&this[se][K])||te)},J=function(K){var te=K===Ue,ue=(K=$e(te?fe:P(K)),[]);return Q(K,function(we){!h(rt,we)||te&&!h(Ue,we)||ue.push(rt[we])}),ue};d||(Z((Ne=function(){if(this instanceof Ne)throw TypeError("Symbol is not a constructor");var K=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,te=z(K),ue=function(we){this===Ue&&ue.call(fe,we),h(this,se)&&h(this[se],te)&&(this[se][te]=!1),Je(this,te,D(1,we))};return i&&He&&Je(Ue,te,{configurable:!0,set:ue}),y(te,K)})[me],"toString",function(){return be(this).tag}),Z(Ne,"withoutSetter",function(K){return y(z(K),K)}),q.f=at,V.f=it,O.f=a,U.f=B.f=g,N.f=J,$.f=function(K){return y(H(K),K)},i&&(qe(Ne[me],"description",{configurable:!0,get:function(){return be(this).description}}),u||Z(Ue,"propertyIsEnumerable",at,{unsafe:!0}))),b({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Ne}),Q(I(ee),function(K){ne(K)}),b({target:ye,stat:!0,forced:!d},{for:function(K){var te;return K=String(K),h(Ae,K)?Ae[K]:(te=Ne(K),Ae[K]=te,Pe[te]=K,te)},keyFor:function(K){if(!yt(K))throw TypeError(K+" is not a symbol");if(h(Pe,K))return Pe[K]},useSetter:function(){He=!0},useSimple:function(){He=!1}}),b({target:"Object",stat:!0,forced:!d,sham:!i},{create:function(K,te){return te===void 0?A(K):o(A(K),te)},defineProperty:it,defineProperties:o,getOwnPropertyDescriptor:a}),b({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:g,getOwnPropertySymbols:J}),b({target:"Object",stat:!0,forced:v(function(){N.f(1)})},{getOwnPropertySymbols:function(K){return N.f(R(K))}}),Ee&&b({target:"JSON",stat:!0,forced:!d||v(function(){var K=Ne();return Ee([K])!="[null]"||Ee({a:K})!="{}"||Ee(Object(K))!="{}"})},{stringify:function(K,te,ue){for(var we,Oe=[K],Ye=1;Ye<arguments.length;)Oe.push(arguments[Ye++]);if((_(we=te)||K!==void 0)&&!yt(K))return w(te)||(te=function(We,je){if(typeof we=="function"&&(je=we.call(this,We,je)),!yt(je))return je}),Oe[1]=te,Ee.apply(null,Oe)}}),Ne[me][t]||X(Ne[me],t,Ne[me].valueOf),oe(Ne,ye),ae[se]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],203:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-copy-within"),a=y.aTypedArray;(0,y.exportTypedArrayMethod)("copyWithin",function(g,b){return o.call(a(this),g,b,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],204:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").every,a=y.aTypedArray;(0,y.exportTypedArrayMethod)("every",function(g){return o(a(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],205:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-fill"),a=y.aTypedArray;(0,y.exportTypedArrayMethod)("fill",function(g){return o.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],206:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").filter,a=t("../internals/species-constructor"),g=y.aTypedArray,b=y.aTypedArrayConstructor;(0,y.exportTypedArrayMethod)("filter",function(l){for(var c=o(g(this),l,1<arguments.length?arguments[1]:void 0),u=(l=a(this,this.constructor),0),i=c.length,d=new(b(l))(i);u<i;)d[u]=c[u++];return d})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],207:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").findIndex,a=y.aTypedArray;(0,y.exportTypedArrayMethod)("findIndex",function(g){return o(a(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],208:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").find,a=y.aTypedArray;(0,y.exportTypedArrayMethod)("find",function(g){return o(a(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],209:[function(t,C,S){t("../internals/typed-array-constructor")("Float32",function(y){return function(o,a,g){return y(this,o,a,g)}})},{"../internals/typed-array-constructor":142}],210:[function(t,C,S){t("../internals/typed-array-constructor")("Float64",function(y){return function(o,a,g){return y(this,o,a,g)}})},{"../internals/typed-array-constructor":142}],211:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").forEach,a=y.aTypedArray;(0,y.exportTypedArrayMethod)("forEach",function(g){o(a(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-includes").includes,a=y.aTypedArray;(0,y.exportTypedArrayMethod)("includes",function(g){return o(a(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],213:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-includes").indexOf,a=y.aTypedArray;(0,y.exportTypedArrayMethod)("indexOf",function(g){return o(a(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],214:[function(t,C,S){t("../internals/typed-array-constructor")("Int16",function(y){return function(o,a,g){return y(this,o,a,g)}})},{"../internals/typed-array-constructor":142}],215:[function(t,C,S){t("../internals/typed-array-constructor")("Int32",function(y){return function(o,a,g){return y(this,o,a,g)}})},{"../internals/typed-array-constructor":142}],216:[function(t,C,S){function y(){return b.call(u(this))}var o=t("../internals/global"),a=t("../internals/array-buffer-view-core"),g=t("../modules/es.array.iterator"),b=(t=t("../internals/well-known-symbol")("iterator"),o=o.Uint8Array,g.values),l=g.keys,c=g.entries,u=a.aTypedArray;g=a.exportTypedArrayMethod,o=!!(a=o&&o.prototype[t])&&(a.name=="values"||a.name==null),g("entries",function(){return c.call(u(this))}),g("keys",function(){return l.call(u(this))}),g("values",y,!o),g(t,y,!o)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],217:[function(t,C,S){var y=(t=t("../internals/array-buffer-view-core")).aTypedArray,o=(t=t.exportTypedArrayMethod,[].join);t("join",function(a){return o.apply(y(this),arguments)})},{"../internals/array-buffer-view-core":12}],218:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-last-index-of"),a=y.aTypedArray;(0,y.exportTypedArrayMethod)("lastIndexOf",function(g){return o.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],219:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").map,a=t("../internals/species-constructor"),g=y.aTypedArray,b=y.aTypedArrayConstructor;(0,y.exportTypedArrayMethod)("map",function(l){return o(g(this),l,1<arguments.length?arguments[1]:void 0,function(c,u){return new(b(a(c,c.constructor)))(u)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],220:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-reduce").right,a=y.aTypedArray;(0,y.exportTypedArrayMethod)("reduceRight",function(g){return o(a(this),g,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],221:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-reduce").left,a=y.aTypedArray;(0,y.exportTypedArrayMethod)("reduce",function(g){return o(a(this),g,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],222:[function(t,C,S){var y=(t=t("../internals/array-buffer-view-core")).aTypedArray,o=(t=t.exportTypedArrayMethod,Math.floor);t("reverse",function(){for(var a,g=y(this).length,b=o(g/2),l=0;l<b;)a=this[l],this[l++]=this[--g],this[g]=a;return this})},{"../internals/array-buffer-view-core":12}],223:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/to-length"),a=t("../internals/to-offset"),g=t("../internals/to-object"),b=(t=t("../internals/fails"),y.aTypedArray);(0,y.exportTypedArrayMethod)("set",function(l){b(this);var c=a(1<arguments.length?arguments[1]:void 0,1),u=this.length,i=g(l),d=o(i.length),p=0;if(u<d+c)throw RangeError("Wrong length");for(;p<d;)this[c+p]=i[p++]},t(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],224:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/species-constructor"),a=(t=t("../internals/fails"),y.aTypedArray),g=y.aTypedArrayConstructor,b=(y=y.exportTypedArrayMethod,[].slice);y("slice",function(l,c){for(var u=b.call(a(this),l,c),i=(l=o(this,this.constructor),0),d=u.length,p=new(g(l))(d);i<d;)p[i]=u[i++];return p},t(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],225:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").some,a=y.aTypedArray;(0,y.exportTypedArrayMethod)("some",function(g){return o(a(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],226:[function(t,C,S){var y=(t=t("../internals/array-buffer-view-core")).aTypedArray,o=(t=t.exportTypedArrayMethod,[].sort);t("sort",function(a){return o.call(y(this),a)})},{"../internals/array-buffer-view-core":12}],227:[function(t,C,S){var y=t("../internals/array-buffer-view-core"),o=t("../internals/to-length"),a=t("../internals/to-absolute-index"),g=t("../internals/species-constructor"),b=y.aTypedArray;(0,y.exportTypedArrayMethod)("subarray",function(l,c){var u=b(this),i=u.length;return l=a(l,i),new(g(u,u.constructor))(u.buffer,u.byteOffset+l*u.BYTES_PER_ELEMENT,o((c===void 0?i:a(c,i))-l))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],228:[function(t,C,S){var y=t("../internals/global"),o=t("../internals/array-buffer-view-core"),a=(t=t("../internals/fails"),y.Int8Array),g=o.aTypedArray,b=(y=o.exportTypedArrayMethod,[].toLocaleString),l=[].slice,c=!!a&&t(function(){b.call(new a(1))});y("toLocaleString",function(){return b.apply(c?l.call(g(this)):g(this),arguments)},t(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!t(function(){a.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],229:[function(t,C,S){var y=t("../internals/array-buffer-view-core").exportTypedArrayMethod,o=t("../internals/fails"),a=(t=(t=t("../internals/global").Uint8Array)&&t.prototype||{},[].toString),g=[].join;o(function(){a.call({})})&&(a=function(){return g.call(this)}),o=t.toString!=a,y("toString",a,o)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],230:[function(t,C,S){t("../internals/typed-array-constructor")("Uint16",function(y){return function(o,a,g){return y(this,o,a,g)}})},{"../internals/typed-array-constructor":142}],231:[function(t,C,S){t("../internals/typed-array-constructor")("Uint32",function(y){return function(o,a,g){return y(this,o,a,g)}})},{"../internals/typed-array-constructor":142}],232:[function(t,C,S){t("../internals/typed-array-constructor")("Uint8",function(y){return function(o,a,g){return y(this,o,a,g)}})},{"../internals/typed-array-constructor":142}],233:[function(t,C,S){t("../internals/typed-array-constructor")("Uint8",function(y){return function(o,a,g){return y(this,o,a,g)}},!0)},{"../internals/typed-array-constructor":142}],234:[function(t,C,S){function y(_){return function(){return _(this,arguments.length?arguments[0]:void 0)}}var o,a,g,b,l,c=t("../internals/global"),u=t("../internals/redefine-all"),i=t("../internals/internal-metadata"),d=t("../internals/collection"),p=t("../internals/collection-weak"),v=t("../internals/is-object"),h=t("../internals/internal-state").enforce,w=(t=t("../internals/native-weak-map"),c=!c.ActiveXObject&&"ActiveXObject"in c,Object.isExtensible);C=C.exports=d("WeakMap",y,p),t&&c&&(o=p.getConstructor(y,"WeakMap",!0),i.REQUIRED=!0,d=C.prototype,a=d.delete,g=d.has,b=d.get,l=d.set,u(d,{delete:function(_){var E;return v(_)&&!w(_)?((E=h(this)).frozen||(E.frozen=new o),a.call(this,_)||E.frozen.delete(_)):a.call(this,_)},has:function(_){var E;return v(_)&&!w(_)?((E=h(this)).frozen||(E.frozen=new o),g.call(this,_)||E.frozen.has(_)):g.call(this,_)},get:function(_){var E;return!v(_)||w(_)||((E=h(this)).frozen||(E.frozen=new o),g.call(this,_))?b.call(this,_):E.frozen.get(_)},set:function(_,E){var R;return!v(_)||w(_)||((R=h(this)).frozen||(R.frozen=new o),g.call(this,_))?l.call(this,_,E):R.frozen.set(_,E),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],235:[function(t,C,S){var y,o=t("../internals/global"),a=t("../internals/dom-iterables"),g=t("../internals/array-for-each"),b=t("../internals/create-non-enumerable-property");for(y in a){var l;if((l=(l=o[y])&&l.prototype)&&l.forEach!==g)try{b(l,"forEach",g)}catch{l.forEach=g}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],236:[function(t,C,S){var y,o=t("../internals/global"),a=t("../internals/dom-iterables"),g=t("../modules/es.array.iterator"),b=t("../internals/create-non-enumerable-property"),l=(t=t("../internals/well-known-symbol"))("iterator"),c=t("toStringTag"),u=g.values;for(y in a){var i=o[y],d=i&&i.prototype;if(d){if(d[l]!==u)try{b(d,l,u)}catch{d[l]=u}if(d[c]||b(d,c,y),a[y]){for(var p in g)if(d[p]!==g[p])try{b(d,p,g[p])}catch{d[p]=g[p]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],237:[function(t,C,S){function y(le){try{return decodeURIComponent(le)}catch{return le}}function o(le){return $[le]}function a(le){return encodeURIComponent(le).replace(H,o)}function g(le){this.entries.length=0,ne(this.entries,le)}function b(le,Q){if(le<Q)throw TypeError("Not enough arguments")}function l(){_(this,l,V);var le,Q,se,ye,me,he,be,Ue,Ne=0<arguments.length?arguments[0]:void 0,Ee=[];if(X(this,{type:V,entries:Ee,updateURL:function(){},updateSearchParams:g}),Ne!==void 0)if(D(Ne))if(typeof(le=B(Ne))=="function")for(se=(Q=le.call(Ne)).next;!(ye=se.call(Q)).done;){if((he=(me=(ye=U(T(ye.value))).next).call(ye)).done||(be=me.call(ye)).done||!me.call(ye).done)throw TypeError("Expected sequence with length 2");Ee.push({key:he.value+"",value:be.value+""})}else for(Ue in Ne)E(Ne,Ue)&&Ee.push({key:Ue,value:Ne[Ue]+""});else ne(Ee,typeof Ne=="string"?Ne.charAt(0)==="?"?Ne.slice(1):Ne:Ne+"")}t("../modules/es.array.iterator");var c=t("../internals/export"),u=t("../internals/get-built-in"),i=t("../internals/native-url"),d=t("../internals/redefine"),p=t("../internals/redefine-all"),v=t("../internals/set-to-string-tag"),h=t("../internals/create-iterator-constructor"),w=t("../internals/internal-state"),_=t("../internals/an-instance"),E=t("../internals/has"),R=t("../internals/function-bind-context"),P=t("../internals/classof"),T=t("../internals/an-object"),D=t("../internals/is-object"),A=t("../internals/object-create"),I=t("../internals/create-property-descriptor"),U=t("../internals/get-iterator"),B=t("../internals/get-iterator-method"),N=(t=t("../internals/well-known-symbol"),u("fetch")),O=u("Headers"),V=(u=t("iterator"),"URLSearchParams"),q=V+"Iterator",X=w.set,Z=w.getterFor(V),re=w.getterFor(q),ee=/\+/g,ae=Array(4),z=function(le){var Q,se=le.replace(ee," "),ye=4;try{return decodeURIComponent(se)}catch{for(;ye;)se=se.replace((Q=ye--,ae[Q-1]||(ae[Q-1]=RegExp("((?:%[\\da-f]{2}){"+Q+"})","gi"))),y);return se}},H=/[!'()~]|%20/g,$={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ne=function(le,Q){if(Q)for(var se,ye=Q.split("&"),me=0;me<ye.length;)(se=ye[me++]).length&&(se=se.split("="),le.push({key:z(se.shift()),value:z(se.join("="))}))},oe=h(function(le,Q){X(this,{type:q,iterator:U(Z(le).entries),kind:Q})},"Iterator",function(){var le,Q=(le=re(this)).kind,se=(le=le.iterator.next()).value;return le.done||(le.value=Q==="keys"?se.key:Q==="values"?se.value:[se.key,se.value]),le});p(t=l.prototype,{append:function(le,Q){b(arguments.length,2);var se=Z(this);se.entries.push({key:le+"",value:Q+""}),se.updateURL()},delete:function(le){b(arguments.length,1);for(var Q=Z(this),se=Q.entries,ye=le+"",me=0;me<se.length;)se[me].key===ye?se.splice(me,1):me++;Q.updateURL()},get:function(le){b(arguments.length,1);for(var Q=Z(this).entries,se=le+"",ye=0;ye<Q.length;ye++)if(Q[ye].key===se)return Q[ye].value;return null},getAll:function(le){b(arguments.length,1);for(var Q=Z(this).entries,se=le+"",ye=[],me=0;me<Q.length;me++)Q[me].key===se&&ye.push(Q[me].value);return ye},has:function(le){b(arguments.length,1);for(var Q=Z(this).entries,se=le+"",ye=0;ye<Q.length;)if(Q[ye++].key===se)return!0;return!1},set:function(le,Q){b(arguments.length,1);for(var se,ye=Z(this),me=ye.entries,he=!1,be=le+"",Ue=Q+"",Ne=0;Ne<me.length;Ne++)(se=me[Ne]).key===be&&(he?me.splice(Ne--,1):(he=!0,se.value=Ue));he||me.push({key:be,value:Ue}),ye.updateURL()},sort:function(){for(var le,Q,se=Z(this),ye=se.entries,me=ye.slice(),he=ye.length=0;he<me.length;he++){for(le=me[he],Q=0;Q<he;Q++)if(ye[Q].key>le.key){ye.splice(Q,0,le);break}Q===he&&ye.push(le)}se.updateURL()},forEach:function(le){for(var Q,se=Z(this).entries,ye=R(le,1<arguments.length?arguments[1]:void 0,3),me=0;me<se.length;)ye((Q=se[me++]).value,Q.key,this)},keys:function(){return new oe(this,"keys")},values:function(){return new oe(this,"values")},entries:function(){return new oe(this,"entries")}},{enumerable:!0}),d(t,u,t.entries),d(t,"toString",function(){for(var le,Q=Z(this).entries,se=[],ye=0;ye<Q.length;)le=Q[ye++],se.push(a(le.key)+"="+a(le.value));return se.join("&")},{enumerable:!0}),v(l,V),c({global:!0,forced:!i},{URLSearchParams:l}),i||typeof N!="function"||typeof O!="function"||c({global:!0,enumerable:!0,forced:!0},{fetch:function(le){var Q,se,ye;return le=[le],1<arguments.length&&(D(Q=arguments[1])&&(se=Q.body,P(se)===V&&((ye=Q.headers?new O(Q.headers):new O).has("content-type")||ye.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),Q=A(Q,{body:I(0,String(se)),headers:I(0,ye)}))),le.push(Q)),N.apply(this,le)}}),C.exports={URLSearchParams:l,getState:Z}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],238:[function(t,C,S){function y(de){var Ge,Qe,Ie,wt;if(typeof de=="number"){for(Ge=[],Qe=0;Qe<4;Qe++)Ge.unshift(de%256),de=q(de/256);return Ge.join(".")}if(typeof de!="object")return de;for(Ge="",Ie=Ue(de),Qe=0;Qe<8;Qe++)wt&&de[Qe]===0||(wt=wt&&!1,Ie===Qe?(Ge+=Qe?":":"::",wt=!0):(Ge+=de[Qe].toString(16),Qe<7&&(Ge+=":")));return"["+Ge+"]"}function o(de){return!de.host||de.cannotBeABaseURL||de.scheme=="file"}function a(de,Ge,Qe,Ie){var wt,De,Gt,ht=Qe||it,Mt=0,lt="",nr=!1,Zt=!1,Ar=!1;for(Qe||(de.scheme="",de.username="",de.password="",de.host=null,de.port=null,de.path=[],de.query=null,de.fragment=null,de.cannotBeABaseURL=!1,Ge=Ge.replace(me,"")),Ge=Ge.replace(he,""),wt=P(Ge);Mt<=wt.length;){switch(De=wt[Mt],ht){case it:if(!De||!z.test(De)){if(Qe)return re;ht=J;continue}lt+=De.toLowerCase(),ht=at;break;case at:if(De&&(H.test(De)||De=="+"||De=="-"||De=="."))lt+=De.toLowerCase();else{if(De!=":"){if(Qe)return re;lt="",ht=J,Mt=0;continue}if(Qe&&(rt(de)!=E(pt,lt)||lt=="file"&&(fe(de)||de.port!==null)||de.scheme=="file"&&!de.host))return;if(de.scheme=lt,Qe)return void(rt(de)&&pt[de.scheme]==de.port&&(de.port=null));lt="",de.scheme=="file"?ht=At:rt(de)&&Ie&&Ie.scheme==de.scheme?ht=K:rt(de)?ht=Oe:wt[Mt+1]=="/"?(ht=te,Mt++):(de.cannotBeABaseURL=!0,de.path.push(""),ht=Ut)}break;case J:if(!Ie||Ie.cannotBeABaseURL&&De!="#")return re;if(Ie.cannotBeABaseURL&&De=="#"){de.scheme=Ie.scheme,de.path=Ie.path.slice(),de.query=Ie.query,de.fragment="",de.cannotBeABaseURL=!0,ht=Sr;break}ht=Ie.scheme=="file"?At:ue;continue;case K:if(De!="/"||wt[Mt+1]!="/"){ht=ue;continue}ht=Ye,Mt++;break;case te:if(De=="/"){ht=We;break}ht=St;continue;case ue:if(de.scheme=Ie.scheme,De==l)de.username=Ie.username,de.password=Ie.password,de.host=Ie.host,de.port=Ie.port,de.path=Ie.path.slice(),de.query=Ie.query;else if(De=="/"||De=="\\"&&rt(de))ht=we;else if(De=="?")de.username=Ie.username,de.password=Ie.password,de.host=Ie.host,de.port=Ie.port,de.path=Ie.path.slice(),de.query="",ht=Vt;else{if(De!="#"){de.username=Ie.username,de.password=Ie.password,de.host=Ie.host,de.port=Ie.port,de.path=Ie.path.slice(),de.path.pop(),ht=St;continue}de.username=Ie.username,de.password=Ie.password,de.host=Ie.host,de.port=Ie.port,de.path=Ie.path.slice(),de.query=Ie.query,de.fragment="",ht=Sr}break;case we:if(!rt(de)||De!="/"&&De!="\\"){if(De!="/"){de.username=Ie.username,de.password=Ie.password,de.host=Ie.host,de.port=Ie.port,ht=St;continue}ht=We}else ht=Ye;break;case Oe:if(ht=Ye,De!="/"||lt.charAt(Mt+1)!="/")continue;Mt++;break;case Ye:if(De=="/"||De=="\\")break;ht=We;continue;case We:if(De=="@"){nr&&(lt="%40"+lt),nr=!0;for(var er=P(lt),Kt=0;Kt<er.length;Kt++){var bt=er[Kt];bt!=":"||Ar?(bt=$e(bt,qe),Ar?de.password+=bt:de.username+=bt):Ar=!0}lt=""}else if(De==l||De=="/"||De=="?"||De=="#"||De=="\\"&&rt(de)){if(nr&&lt=="")return Z;Mt-=P(lt).length+1,lt="",ht=je}else lt+=De;break;case je:case Ze:if(Qe&&de.scheme=="file"){ht=Ot;continue}if(De!=":"||Zt){if(De==l||De=="/"||De=="?"||De=="#"||De=="\\"&&rt(de)){if(rt(de)&&lt=="")return ee;if(Qe&&lt==""&&(fe(de)||de.port!==null))return;if(Gt=be(de,lt))return Gt;if(lt="",ht=Tt,Qe)return;continue}De=="["?Zt=!0:De=="]"&&(Zt=!1),lt+=De}else{if(lt=="")return ee;if(Gt=be(de,lt))return Gt;if(lt="",ht=st,Qe==Ze)return}break;case st:if(!$.test(De)){if(De==l||De=="/"||De=="?"||De=="#"||De=="\\"&&rt(de)||Qe){if(lt!=""){var Dt=parseInt(lt,10);if(65535<Dt)return ae;de.port=rt(de)&&Dt===pt[de.scheme]?null:Dt,lt=""}if(Qe)return;ht=Tt;continue}return ae}lt+=De;break;case At:if(de.scheme="file",De=="/"||De=="\\")ht=Rt;else{if(!Ie||Ie.scheme!="file"){ht=St;continue}if(De==l)de.host=Ie.host,de.path=Ie.path.slice(),de.query=Ie.query;else if(De=="?")de.host=Ie.host,de.path=Ie.path.slice(),de.query="",ht=Vt;else{if(De!="#"){Pe(wt.slice(Mt).join(""))||(de.host=Ie.host,de.path=Ie.path.slice(),He(de)),ht=St;continue}de.host=Ie.host,de.path=Ie.path.slice(),de.query=Ie.query,de.fragment="",ht=Sr}}break;case Rt:if(De=="/"||De=="\\"){ht=Ot;break}Ie&&Ie.scheme=="file"&&!Pe(wt.slice(Mt).join(""))&&(Ae(Ie.path[0],!0)?de.path.push(Ie.path[0]):de.host=Ie.host),ht=St;continue;case Ot:if(De==l||De=="/"||De=="\\"||De=="?"||De=="#"){if(!Qe&&Ae(lt))ht=St;else{if(lt==""){if(de.host="",Qe)return}else{if(Gt=be(de,lt))return Gt;if(de.host=="localhost"&&(de.host=""),Qe)return;lt=""}ht=Tt}continue}lt+=De;break;case Tt:if(rt(de)){if(ht=St,De!="/"&&De!="\\")continue}else if(Qe||De!="?")if(Qe||De!="#"){if(De!=l&&(ht=St,De!="/"))continue}else de.fragment="",ht=Sr;else de.query="",ht=Vt;break;case St:if(De==l||De=="/"||De=="\\"&&rt(de)||!Qe&&(De=="?"||De=="#")){if(yt(lt)?(He(de),De=="/"||De=="\\"&&rt(de)||de.path.push("")):Je(lt)?De=="/"||De=="\\"&&rt(de)||de.path.push(""):(de.scheme=="file"&&!de.path.length&&Ae(lt)&&(de.host&&(de.host=""),lt=lt.charAt(0)+":"),de.path.push(lt)),lt="",de.scheme=="file"&&(De==l||De=="?"||De=="#"))for(;1<de.path.length&&de.path[0]==="";)de.path.shift();De=="?"?(de.query="",ht=Vt):De=="#"&&(de.fragment="",ht=Sr)}else lt+=$e(De,Te);break;case Ut:De=="?"?(de.query="",ht=Vt):De=="#"?(de.fragment="",ht=Sr):De!=l&&(de.path[0]+=$e(De,Ne));break;case Vt:Qe||De!="#"?De!=l&&(De=="'"&&rt(de)?de.query+="%27":de.query+=De=="#"?"%23":$e(De,Ne)):(de.fragment="",ht=Sr);break;case Sr:De!=l&&(de.fragment+=$e(De,Ee))}Mt++}}function g(de){var Ge,Qe,Ie=_(this,g,"URL"),wt=1<arguments.length?arguments[1]:void 0,De=(de=String(de),O(Ie,{type:"URL"}));if(wt!==void 0){if(wt instanceof g)Ge=V(wt);else if(Qe=a(Ge={},String(wt)))throw TypeError(Qe)}if(Qe=a(De,de,null,Ge))throw TypeError(Qe);var Gt=De.searchParams=new B;(wt=N(Gt)).updateSearchParams(De.query),wt.updateURL=function(){De.query=String(Gt)||null},d||(Ie.href=Ht.call(Ie),Ie.origin=_e.call(Ie),Ie.protocol=Se.call(Ie),Ie.username=ke.call(Ie),Ie.password=Ve.call(Ie),Ie.host=nt.call(Ie),Ie.hostname=tt.call(Ie),Ie.port=jt.call(Ie),Ie.pathname=ot.call(Ie),Ie.search=kt.call(Ie),Ie.searchParams=_t.call(Ie),Ie.hash=Ct.call(Ie))}function b(de,Ge){return{get:de,set:Ge,configurable:!0,enumerable:!0}}t("../modules/es.string.iterator");var l,c,u,i=t("../internals/export"),d=t("../internals/descriptors"),p=t("../internals/native-url"),v=t("../internals/global"),h=t("../internals/object-define-properties"),w=t("../internals/redefine"),_=t("../internals/an-instance"),E=t("../internals/has"),R=t("../internals/object-assign"),P=t("../internals/array-from"),T=t("../internals/string-multibyte").codeAt,D=t("../internals/string-punycode-to-ascii"),A=t("../internals/set-to-string-tag"),I=t("../modules/web.url-search-params"),U=(t=t("../internals/internal-state"),v.URL),B=I.URLSearchParams,N=I.getState,O=t.set,V=t.getterFor("URL"),q=Math.floor,X=Math.pow,Z="Invalid authority",re="Invalid scheme",ee="Invalid host",ae="Invalid port",z=/[A-Za-z]/,H=/[\d+-.A-Za-z]/,$=/\d/,ne=/^(0x|0X)/,oe=/^[0-7]+$/,le=/^\d+$/,Q=/^[\dA-Fa-f]+$/,se=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ye=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,me=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,he=/[\u0009\u000A\u000D]/g,be=function(de,Ge){var Qe,Ie,wt;if(Ge.charAt(0)=="[")return Ge.charAt(Ge.length-1)=="]"&&(Qe=function(De){var Gt,ht,Mt,lt,nr,Zt,Ar,er=[0,0,0,0,0,0,0,0],Kt=0,bt=null,Dt=0,Wt=function(){return De.charAt(Dt)};if(Wt()==":"){if(De.charAt(1)!=":")return;Dt+=2,bt=++Kt}for(;Wt();){if(Kt==8)return;if(Wt()!=":"){for(Gt=ht=0;ht<4&&Q.test(Wt());)Gt=16*Gt+parseInt(Wt(),16),Dt++,ht++;if(Wt()=="."){if(ht==0||(Dt-=ht,Kt>6))return;for(Mt=0;Wt();){if(lt=null,Mt>0){if(!(Wt()=="."&&Mt<4))return;Dt++}if(!$.test(Wt()))return;for(;$.test(Wt());){if(nr=parseInt(Wt(),10),lt===null)lt=nr;else{if(lt==0)return;lt=10*lt+nr}if(lt>255)return;Dt++}er[Kt]=256*er[Kt]+lt,++Mt!=2&&Mt!=4||Kt++}if(Mt!=4)return;break}if(Wt()==":"){if(Dt++,!Wt())return}else if(Wt())return;er[Kt++]=Gt}else{if(bt!==null)return;Dt++,bt=++Kt}}if(bt!==null)for(Zt=Kt-bt,Kt=7;Kt!=0&&Zt>0;)Ar=er[Kt],er[Kt--]=er[bt+Zt-1],er[bt+--Zt]=Ar;else if(Kt!=8)return;return er}(Ge.slice(1,-1)))?void(de.host=Qe):ee;if(rt(de))return Ge=D(Ge),se.test(Ge)||(Qe=function(De){var Gt,ht,Mt,lt,nr,Zt,Ar,er=De.split(".");if(er.length&&er[er.length-1]==""&&er.pop(),(Gt=er.length)>4)return De;for(ht=[],Mt=0;Mt<Gt;Mt++){if((lt=er[Mt])=="")return De;if(nr=10,lt.length>1&&lt.charAt(0)=="0"&&(nr=ne.test(lt)?16:8,lt=lt.slice(nr==8?1:2)),lt==="")Zt=0;else{if(!(nr==10?le:nr==8?oe:Q).test(lt))return De;Zt=parseInt(lt,nr)}ht.push(Zt)}for(Mt=0;Mt<Gt;Mt++)if(Zt=ht[Mt],Mt==Gt-1){if(Zt>=X(256,5-Gt))return null}else if(Zt>255)return null;for(Ar=ht.pop(),Mt=0;Mt<ht.length;Mt++)Ar+=ht[Mt]*X(256,3-Mt);return Ar}(Ge))===null?ee:void(de.host=Qe);if(ye.test(Ge))return ee;for(Qe="",Ie=P(Ge),wt=0;wt<Ie.length;wt++)Qe+=$e(Ie[wt],Ne);de.host=Qe},Ue=function(de){for(var Ge=null,Qe=1,Ie=null,wt=0,De=0;De<8;De++)de[De]!==0?(Qe<wt&&(Ge=Ie,Qe=wt),Ie=null,wt=0):(Ie===null&&(Ie=De),++wt);return Qe<wt&&(Ge=Ie,Qe=wt),Ge},Ne={},Ee=R({},Ne,{" ":1,'"':1,"<":1,">":1,"`":1}),Te=R({},Ee,{"#":1,"?":1,"{":1,"}":1}),qe=R({},Te,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),$e=function(de,Ge){var Qe=T(de,0);return 32<Qe&&Qe<127&&!E(Ge,de)?de:encodeURIComponent(de)},pt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},rt=function(de){return E(pt,de.scheme)},fe=function(de){return de.username!=""||de.password!=""},Ae=function(de,Ge){return de.length==2&&z.test(de.charAt(0))&&((de=de.charAt(1))==":"||!Ge&&de=="|")},Pe=function(de){return 1<de.length&&Ae(de.slice(0,2))&&(de.length==2||(de=de.charAt(2))==="/"||de==="\\"||de==="?"||de==="#")},He=function(de){var Ge=de.path,Qe=Ge.length;!Qe||de.scheme=="file"&&Qe==1&&Ae(Ge[0],!0)||Ge.pop()},Je=function(de){return de==="."||de.toLowerCase()==="%2e"},yt=function(de){return(de=de.toLowerCase())===".."||de==="%2e."||de===".%2e"||de==="%2e%2e"},it={},at={},J={},K={},te={},ue={},we={},Oe={},Ye={},We={},je={},Ze={},st={},At={},Rt={},Ot={},Tt={},St={},Ut={},Vt={},Sr={},Ht=(v=g.prototype,function(){var de=V(this),Ge=de.scheme,Qe=de.username,Ie=de.password,wt=de.host,De=de.port,Gt=de.path,ht=de.query,Mt=de.fragment,lt=Ge+":";return wt!==null?(lt+="//",fe(de)&&(lt+=Qe+(Ie?":"+Ie:"")+"@"),lt+=y(wt),De!==null&&(lt+=":"+De)):Ge=="file"&&(lt+="//"),lt+=de.cannotBeABaseURL?Gt[0]:Gt.length?"/"+Gt.join("/"):"",ht!==null&&(lt+="?"+ht),Mt!==null&&(lt+="#"+Mt),lt}),_e=function(){var de=V(this),Ge=de.scheme,Qe=de.port;if(Ge=="blob")try{return new URL(Ge.path[0]).origin}catch{return"null"}return Ge!="file"&&rt(de)?Ge+"://"+y(de.host)+(Qe!==null?":"+Qe:""):"null"},Se=function(){return V(this).scheme+":"},ke=function(){return V(this).username},Ve=function(){return V(this).password},nt=function(){var de=(Ge=V(this)).host,Ge=Ge.port;return de===null?"":Ge===null?y(de):y(de)+":"+Ge},tt=function(){var de=V(this).host;return de===null?"":y(de)},jt=function(){var de=V(this).port;return de===null?"":String(de)},ot=function(){var de=V(this),Ge=de.path;return de.cannotBeABaseURL?Ge[0]:Ge.length?"/"+Ge.join("/"):""},kt=function(){var de=V(this).query;return de?"?"+de:""},_t=function(){return V(this).searchParams},Ct=function(){var de=V(this).fragment;return de?"#"+de:""};d&&h(v,{href:b(Ht,function(de){var Ge=V(this);if(de=a(Ge,de=String(de)))throw TypeError(de);N(Ge.searchParams).updateSearchParams(Ge.query)}),origin:b(_e),protocol:b(Se,function(de){a(V(this),String(de)+":",it)}),username:b(ke,function(de){var Ge=V(this),Qe=P(String(de));if(!o(Ge)){Ge.username="";for(var Ie=0;Ie<Qe.length;Ie++)Ge.username+=$e(Qe[Ie],qe)}}),password:b(Ve,function(de){var Ge=V(this),Qe=P(String(de));if(!o(Ge)){Ge.password="";for(var Ie=0;Ie<Qe.length;Ie++)Ge.password+=$e(Qe[Ie],qe)}}),host:b(nt,function(de){var Ge=V(this);Ge.cannotBeABaseURL||a(Ge,String(de),je)}),hostname:b(tt,function(de){var Ge=V(this);Ge.cannotBeABaseURL||a(Ge,String(de),Ze)}),port:b(jt,function(de){var Ge=V(this);o(Ge)||((de=String(de))==""?Ge.port=null:a(Ge,de,st))}),pathname:b(ot,function(de){var Ge=V(this);Ge.cannotBeABaseURL||(Ge.path=[],a(Ge,de+"",Tt))}),search:b(kt,function(de){var Ge=V(this);(de=String(de))==""?Ge.query=null:(de.charAt(0)=="?"&&(de=de.slice(1)),Ge.query="",a(Ge,de,Vt)),N(Ge.searchParams).updateSearchParams(Ge.query)}),searchParams:b(_t),hash:b(Ct,function(de){var Ge=V(this);(de=String(de))==""?Ge.fragment=null:(de.charAt(0)=="#"&&(de=de.slice(1)),Ge.fragment="",a(Ge,de,Sr))})}),w(v,"toJSON",function(){return Ht.call(this)},{enumerable:!0}),w(v,"toString",function(){return Ht.call(this)},{enumerable:!0}),U&&(c=U.createObjectURL,u=U.revokeObjectURL,c&&w(g,"createObjectURL",function(de){return c.apply(U,arguments)}),u&&w(g,"revokeObjectURL",function(de){return u.apply(U,arguments)})),A(g,"URL"),i({global:!0,forced:!p,sham:!d},{URL:g})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":190,"../modules/web.url-search-params":237}],239:[function(t,C,S){C.exports=t("./").polyfill()},{"./":240}],240:[function(t,C,S){(function(y,o){var a;a=function(){function g(Q){return typeof Q=="function"}var b=Array.isArray||function(Q){return Object.prototype.toString.call(Q)==="[object Array]"},l=0,c=void 0,u=void 0,i=function(Q,se){_[l]=Q,_[l+1]=se,(l+=2)===2&&(u?u(E):D())},d=typeof window<"u"?window:void 0,p=(p=d||{}).MutationObserver||p.WebKitMutationObserver,v=typeof self>"u"&&y!==void 0&&{}.toString.call(y)==="[object process]",h=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function w(){var Q=setTimeout;return function(){return Q(E,1)}}var _=new Array(1e3);function E(){for(var Q=0;Q<l;Q+=2)(0,_[Q])(_[Q+1]),_[Q]=void 0,_[Q+1]=void 0;l=0}var R,P,T,D=void 0;function A(Q,se){var ye,me=this,he=new this.constructor(B),be=(he[U]===void 0&&H(he),me._state);return be?(ye=arguments[be-1],i(function(){return ae(be,he,ye,me._result)})):re(me,he,Q,se),he}function I(Q){var se;return Q&&typeof Q=="object"&&Q.constructor===this?Q:(V(se=new this(B),Q),se)}D=v?function(){return y.nextTick(E)}:p?(P=0,v=new p(E),T=document.createTextNode(""),v.observe(T,{characterData:!0}),function(){T.data=P=++P%2}):h?((R=new MessageChannel).port1.onmessage=E,function(){return R.port2.postMessage(0)}):(d===void 0&&typeof t=="function"?function(){try{var Q=Function("return this")().require("vertx");return(c=Q.runOnLoop||Q.runOnContext)!==void 0?function(){c(E)}:w()}catch{return w()}}:w)();var U=Math.random().toString(36).substring(2);function B(){}var N=void 0;function O(Q,se,ye){var me,he;se.constructor===Q.constructor&&ye===A&&se.constructor.resolve===I?(me=Q,(he=se)._state===1?X(me,he._result):he._state===2?Z(me,he._result):re(he,void 0,function(be){return V(me,be)},function(be){return Z(me,be)})):ye!==void 0&&g(ye)?function(be,Ue,Ne){i(function(Ee){var Te=!1,qe=function($e,pt,rt,fe){try{$e.call(pt,rt,fe)}catch(Ae){return Ae}}(Ne,Ue,function($e){Te||(Te=!0,(Ue!==$e?V:X)(Ee,$e))},function($e){Te||(Te=!0,Z(Ee,$e))},Ee._label);!Te&&qe&&(Te=!0,Z(Ee,qe))},be)}(Q,se,ye):X(Q,se)}function V(Q,se){if(Q===se)Z(Q,new TypeError("You cannot resolve a promise with itself"));else if(ye=typeof se,se===null||ye!="object"&&ye!="function")X(Q,se);else{ye=void 0;try{ye=se.then}catch(me){return void Z(Q,me)}O(Q,se,ye)}var ye}function q(Q){Q._onerror&&Q._onerror(Q._result),ee(Q)}function X(Q,se){Q._state===N&&(Q._result=se,Q._state=1,Q._subscribers.length!==0&&i(ee,Q))}function Z(Q,se){Q._state===N&&(Q._state=2,Q._result=se,i(q,Q))}function re(Q,se,ye,me){var he=Q._subscribers,be=he.length;Q._onerror=null,he[be]=se,he[be+1]=ye,he[be+2]=me,be===0&&Q._state&&i(ee,Q)}function ee(Q){var se=Q._subscribers,ye=Q._state;if(se.length!==0){for(var me,he=void 0,be=Q._result,Ue=0;Ue<se.length;Ue+=3)me=se[Ue],he=se[Ue+ye],me?ae(ye,me,he,be):he(be);Q._subscribers.length=0}}function ae(Q,se,ye,me){var he=g(ye),be=void 0,Ue=void 0,Ne=!0;if(he){try{be=ye(me)}catch(Ee){Ne=!1,Ue=Ee}if(se===be)return void Z(se,new TypeError("A promises callback cannot return that same promise."))}else be=me;se._state===N&&(he&&Ne?V(se,be):Ne===!1?Z(se,Ue):Q===1?X(se,be):Q===2&&Z(se,be))}var z=0;function H(Q){Q[U]=z++,Q._state=void 0,Q._result=void 0,Q._subscribers=[]}ne.prototype._enumerate=function(Q){for(var se=0;this._state===N&&se<Q.length;se++)this._eachEntry(Q[se],se)},ne.prototype._eachEntry=function(Q,se){var ye=this._instanceConstructor,me=ye.resolve;if(me===I){var he,be=void 0,Ue=void 0,Ne=!1;try{be=Q.then}catch(Ee){Ne=!0,Ue=Ee}be===A&&Q._state!==N?this._settledAt(Q._state,se,Q._result):typeof be!="function"?(this._remaining--,this._result[se]=Q):ye===oe?(he=new ye(B),Ne?Z(he,Ue):O(he,Q,be),this._willSettleAt(he,se)):this._willSettleAt(new ye(function(Ee){return Ee(Q)}),se)}else this._willSettleAt(me(Q),se)},ne.prototype._settledAt=function(Q,se,ye){var me=this.promise;me._state===N&&(this._remaining--,Q===2?Z(me,ye):this._result[se]=ye),this._remaining===0&&X(me,this._result)},ne.prototype._willSettleAt=function(Q,se){var ye=this;re(Q,void 0,function(me){return ye._settledAt(1,se,me)},function(me){return ye._settledAt(2,se,me)})};var $=ne;function ne(Q,se){this._instanceConstructor=Q,this.promise=new Q(B),this.promise[U]||H(this.promise),b(se)?(this.length=se.length,this._remaining=se.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(se),this._remaining!==0)||X(this.promise,this._result)):Z(this.promise,new Error("Array Methods must be provided an Array"))}le.prototype.catch=function(Q){return this.then(null,Q)},le.prototype.finally=function(Q){var se=this.constructor;return g(Q)?this.then(function(ye){return se.resolve(Q()).then(function(){return ye})},function(ye){return se.resolve(Q()).then(function(){throw ye})}):this.then(Q,Q)};var oe=le;function le(Q){if(this[U]=z++,this._result=this._state=void 0,this._subscribers=[],B!==Q){if(typeof Q!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof le))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var se=this;try{Q(function(ye){V(se,ye)},function(ye){Z(se,ye)})}catch(ye){Z(se,ye)}}}return oe.prototype.then=A,oe.all=function(Q){return new $(this,Q).promise},oe.race=function(Q){var se=this;return b(Q)?new se(function(ye,me){for(var he=Q.length,be=0;be<he;be++)se.resolve(Q[be]).then(ye,me)}):new se(function(ye,me){return me(new TypeError("You must pass an array to race."))})},oe.resolve=I,oe.reject=function(Q){var se=new this(B);return Z(se,Q),se},oe._setScheduler=function(Q){u=Q},oe._setAsap=function(Q){i=Q},oe._asap=i,oe.polyfill=function(){var Q=void 0;if(o!==void 0)Q=o;else if(typeof self<"u")Q=self;else try{Q=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var se=Q.Promise;if(se){var ye=null;try{ye=Object.prototype.toString.call(se.resolve())}catch{}if(ye==="[object Promise]"&&!se.cast)return}Q.Promise=oe},oe.Promise=oe},typeof S=="object"&&C!==void 0?C.exports=a():this.ES6Promise=a()}).call(this,t("_process"),F!==void 0?F:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:249}],241:[function(t,C,S){var y;y=function(o,a){var g="callback";function b(c){try{delete window[c]}catch{window[c]=void 0}}function l(c){(c=document.getElementById(c))&&document.getElementsByTagName("head")[0].removeChild(c)}a.exports=function(c){var u=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],i=c,d=u.timeout||5e3,p=u.jsonpCallback||g,v=void 0;return new Promise(function(h,w){var _=u.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),E=p+"_"+_,R=(window[_]=function(P){h({ok:!0,json:function(){return Promise.resolve(P)}}),v&&clearTimeout(v),l(E),b(_)},i+=i.indexOf("?")===-1?"?":"&",document.createElement("script"));R.setAttribute("src",""+i+p+"="+_),u.charset&&R.setAttribute("charset",u.charset),R.id=E,document.getElementsByTagName("head")[0].appendChild(R),v=setTimeout(function(){w(new Error("JSONP request to "+c+" timed out")),b(_),l(E),window[_]=function(){b(_)}},d),R.onerror=function(){w(new Error("JSONP request to "+c+" failed")),b(_),l(E),v&&clearTimeout(v)}})}},S!==void 0&&C!==void 0?y(0,C):(y(y={exports:{}},y),this.fetchJsonp=y.exports)},{}],242:[function(t,C,S){var y=function(o){var a,g,b,l,c,u,i,d,p,v;if(!(o===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return v=o.document,a=function(){return o.URL||o.webkitURL||o},g=v.createElementNS("http://www.w3.org/1999/xhtml","a"),b="download"in g,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(h){(o.setImmediate||o.setTimeout)(function(){throw h},0)},i=function(h){setTimeout(function(){typeof h=="string"?a().revokeObjectURL(h):h.remove()},4e4)},d=function(h){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob([String.fromCharCode(65279),h],{type:h.type}):h},v=(p=function(h,w,_){_||(h=d(h));var E,R,P=this,T=(_=h.type==="application/octet-stream",function(){for(var D=P,A="writestart progress write writeend".split(" "),I=(A=[].concat(A)).length;I--;){var U=D["on"+A[I]];if(typeof U=="function")try{U.call(D,D)}catch(B){u(B)}}});P.readyState=P.INIT,b?(E=a().createObjectURL(h),setTimeout(function(){var D,A;g.href=E,g.download=w,D=g,A=new MouseEvent("click"),D.dispatchEvent(A),T(),i(E),P.readyState=P.DONE})):(c||_&&l)&&o.FileReader?((R=new FileReader).onloadend=function(){var D=c?R.result:R.result.replace(/^data:[^;]*;/,"data:attachment/file;");o.open(D,"_blank")||(o.location.href=D),D=void 0,P.readyState=P.DONE,T()},R.readAsDataURL(h),P.readyState=P.INIT):(E=E||a().createObjectURL(h),!_&&o.open(E,"_blank")||(o.location.href=E),P.readyState=P.DONE,T(),i(E))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(h,w,_){return w=w||h.name||"download",_||(h=d(h)),navigator.msSaveOrOpenBlob(h,w)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,function(h,w,_){return new p(h,w||h.name||"download",_)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);C!==void 0&&C.exports&&(C.exports.saveAs=y)},{}],243:[function(t,C,S){var y,o=Object.defineProperty,a=(o(S,"__esModule",{value:!0}),S),g={GIFEncoder:()=>T,applyPalette:()=>function(N,O,V="rgb565"){if(!N||!N.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(N instanceof Uint8Array||N instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<O.length)throw new Error("applyPalette() only works with 256 colors or less");const q=new Uint32Array(N.buffer),X=q.length,Z=V==="rgb444"?4096:65536,re=new Uint8Array(X),ee=new Array(Z);if(V==="rgba4444")for(let ye=0;ye<X;ye++){var ae,z=(ae=q[ye])>>24&255,H=ae>>16&255,$=ae>>8&255,ne=(ne=i(ae=255&ae,$,H,z))in ee?ee[ne]:ee[ne]=function(me,he,be,Ue,Ne){let Ee=0,Te=1e100;for(let pt=0;pt<Ne.length;pt++){var qe=Ne[pt],$e=E(qe[3]-Ue);$e>Te||($e+=E(qe[0]-me))>Te||($e+=E(qe[1]-he))>Te||($e+=E(qe[2]-be))>Te||(Te=$e,Ee=pt)}return Ee}(ae,$,H,z,O);re[ye]=ne}else{const ye=V==="rgb444"?d:u;for(let me=0;me<X;me++){var oe,le=(oe=q[me])>>16&255,Q=oe>>8&255,se=(se=ye(oe=255&oe,Q,le))in ee?ee[se]:ee[se]=function(he,be,Ue,Ne){let Ee=0,Te=1e100;for(let pt=0;pt<Ne.length;pt++){var qe=Ne[pt],$e=E(qe[0]-he);$e>Te||($e+=E(qe[1]-be))>Te||($e+=E(qe[2]-Ue))>Te||(Te=$e,Ee=pt)}return Ee}(oe,Q,le,O);re[me]=se}}return re},default:()=>B,nearestColor:()=>function(N,O,V=w){return N[R(N,O,V)]},nearestColorIndex:()=>R,nearestColorIndexWithDistance:()=>P,prequantize:()=>function(N,{roundRGB:O=5,roundAlpha:V=10,oneBitAlpha:q=null}={}){const X=new Uint32Array(N.buffer);for(let ae=0;ae<X.length;ae++){let z=(ee=X[ae])>>24&255;var Z=ee>>16&255,re=ee>>8&255,ee=255&ee;z=_(z,V),q&&(z=z<=(typeof q=="number"?q:127)?0:255),ee=_(ee,O),re=_(re,O),Z=_(Z,O),X[ae]=z<<24|Z<<16|re<<8|ee<<0}},quantize:()=>function(N,O,V={}){var{format:q="rgb565",clearAlpha:X=!0,clearAlphaColor:Z=0,clearAlphaThreshold:re=0,oneBitAlpha:ee=!1}=V;if(!N||!N.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(N instanceof Uint8Array||N instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");N=new Uint32Array(N.buffer);let ae=V.useSqrt!==!1;const z=q==="rgba4444",H=function(fe,Ae){const Pe=new Array(Ae==="rgb444"?4096:65536),He=fe.length;if(Ae==="rgba4444")for(let Ze=0;Ze<He;++Ze){var Je,yt=(Je=fe[Ze])>>24&255,it=Je>>16&255,at=Je>>8&255,J=i(Je=255&Je,at,it,yt);let st=J in Pe?Pe[J]:Pe[J]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};st.rc+=Je,st.gc+=at,st.bc+=it,st.ac+=yt,st.cnt++}else if(Ae==="rgb444")for(let Ze=0;Ze<He;++Ze){var K,te=(K=fe[Ze])>>16&255,ue=K>>8&255,we=d(K=255&K,ue,te);let st=we in Pe?Pe[we]:Pe[we]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};st.rc+=K,st.gc+=ue,st.bc+=te,st.cnt++}else for(let Ze=0;Ze<He;++Ze){var Oe,Ye=(Oe=fe[Ze])>>16&255,We=Oe>>8&255,je=u(Oe=255&Oe,We,Ye);let st=je in Pe?Pe[je]:Pe[je]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};st.rc+=Oe,st.gc+=We,st.bc+=Ye,st.cnt++}return Pe}(N,q),$=H.length,ne=$-1,oe=new Uint32Array($+1);for(var le=0,Q=0;Q<$;++Q){const fe=H[Q];fe!=null&&($e=1/fe.cnt,z&&(fe.ac*=$e),fe.rc*=$e,fe.gc*=$e,fe.bc*=$e,H[le++]=fe)}v(O)/le<.022&&(ae=!1);var se,ye,me;for(Q=0;Q<le-1;++Q)H[Q].fw=Q+1,H[Q+1].bk=Q,ae&&(H[Q].cnt=Math.sqrt(H[Q].cnt));for(ae&&(H[Q].cnt=Math.sqrt(H[Q].cnt)),Q=0;Q<le;++Q){h(H,Q,!1);var he=H[Q].err;for(ye=++oe[0];1<ye&&!(H[se=oe[me=ye>>1]].err<=he);ye=me)oe[ye]=se;oe[ye]=Q}var be,Ue=le-O;for(Q=0;Q<Ue;){for(;;){var Ne=oe[1];if((be=H[Ne]).tm>=be.mtm&&H[be.nn].mtm<=be.tm)break;for(be.mtm==ne?Ne=oe[1]=oe[oe[0]--]:(h(H,Ne,!1),be.tm=Q),he=H[Ne].err,ye=1;(me=ye+ye)<=oe[0]&&(me<oe[0]&&H[oe[me]].err>H[oe[me+1]].err&&me++,!(he<=H[se=oe[me]].err));ye=me)oe[ye]=se;oe[ye]=Ne}var Ee=H[be.nn],Te=be.cnt,qe=Ee.cnt,$e=1/(Te+qe);z&&(be.ac=$e*(Te*be.ac+qe*Ee.ac)),be.rc=$e*(Te*be.rc+qe*Ee.rc),be.gc=$e*(Te*be.gc+qe*Ee.gc),be.bc=$e*(Te*be.bc+qe*Ee.bc),be.cnt+=Ee.cnt,be.mtm=++Q,H[Ee.bk].fw=Ee.fw,H[Ee.fw].bk=Ee.bk,Ee.mtm=ne}let pt=[];for(Q=0;;0){let fe=p(Math.round(H[Q].rc),0,255),Ae=p(Math.round(H[Q].gc),0,255),Pe=p(Math.round(H[Q].bc),0,255),He=255;z&&(He=p(Math.round(H[Q].ac),0,255),ee&&(He=He<=(rt=typeof ee=="number"?ee:127)?0:255),X&&He<=re&&(fe=Ae=Pe=Z,He=0));var rt=z?[fe,Ae,Pe,He]:[fe,Ae,Pe];if(function(Je,yt){for(let J=0;J<Je.length;J++){var it=(at=Je[J])[0]===yt[0]&&at[1]===yt[1]&&at[2]===yt[2],at=!(4<=at.length&&4<=yt.length)||at[3]===yt[3];if(it&&at)return!0}return!1}(pt,rt)||pt.push(rt),(Q=H[Q].fw)==0)break}return pt},snapColorsToPalette:()=>function(N,O,V=5){if(N.length&&O.length){var q=N.map(ae=>ae.slice(0,3)),X=V*V,Z=N[0].length;for(let ae=0;ae<O.length;ae++){let z=O[ae];z=z.length<Z?[z[0],z[1],z[2],255]:z.length>Z?z.slice(0,3):z.slice();var re,ee=(re=P(q,z.slice(0,3),w))[0];0<(re=re[1])&&re<=X&&(N[ee]=z)}}}};for(y in g)o(a,y,{get:g[y],enumerable:!0});var b=59;function l(N=256){let O=0,V=new Uint8Array(N);return{get buffer(){return V.buffer},reset(){O=0},bytesView:()=>V.subarray(0,O),bytes:()=>V.slice(0,O),writeByte(X){q(O+1),V[O]=X,O++},writeBytes(X,Z=0,re=X.length){q(O+re);for(let ee=0;ee<re;ee++)V[O++]=X[ee+Z]},writeBytesView(X,Z=0,re=X.byteLength){q(O+re),V.set(X.subarray(Z,Z+re),O),O+=re}};function q(X){var Z=V.length;if(!(X<=Z)){X=Math.max(X,Z*(Z<1048576?2:1.125)>>>0),Z!=0&&(X=Math.max(X,256));const re=V;V=new Uint8Array(X),0<O&&V.set(re.subarray(0,O),0)}}}var c=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function u(N,O,V){return N<<8&63488|O<<2&992|V>>3}function i(N,O,V,q){return N>>4|240&O|(240&V)<<4|(240&q)<<8}function d(N,O,V){return N>>4<<8|240&O|V>>4}function p(N,O,V){return N<O?O:V<N?V:N}function v(N){return N*N}function h(N,O,V){var q=0,X=1e100;const Z=N[O];for(var re=Z.cnt,ee=Z.ac,ae=Z.rc,z=Z.gc,H=Z.bc,$=Z.fw;$!=0;$=N[$].fw){var ne,oe,le=N[$];X<=(oe=re*(oe=le.cnt)/(re+oe))||(ne=0,V&&X<=(ne+=oe*v(le.ac-ee))||X<=(ne+=oe*v(le.rc-ae))||X<=(ne+=oe*v(le.gc-z))||X<=(ne+=oe*v(le.bc-H))||(X=ne,q=$))}Z.err=X,Z.nn=q}function w(N,O){for(var V=0,q=0;q<N.length;q++){var X=N[q]-O[q];V+=X*X}return V}function _(N,O){return 1<O?Math.round(N/O)*O:N}function E(N){return N*N}function R(N,O,V=w){let q=1/0,X=-1;for(let re=0;re<N.length;re++){var Z=V(O,N[re]);Z<q&&(q=Z,X=re)}return X}function P(N,O,V=w){let q=1/0,X=-1;for(let re=0;re<N.length;re++){var Z=V(O,N[re]);Z<q&&(q=Z,X=re)}return[X,q]}function T(N={}){const{initialCapacity:O=4096,auto:V=!0}=N,q=l(O),X=new Uint8Array(256),Z=new Int32Array(5003),re=new Int32Array(5003);let ee=!1;return{reset(){q.reset(),ee=!1},finish(){q.writeByte(b)},bytes:()=>q.bytes(),bytesView:()=>q.bytesView(),get buffer(){return q.buffer},get stream(){return q},writeHeader:ae,writeFrame(z,H,$,ne={}){var{transparent:oe=!1,transparentIndex:le=0,delay:qe=0,palette:Q=null,repeat:Ne=0,colorDepth:se=8,dispose:ye=-1}=ne;let me=!1;if(V?ee||(me=!0,ae(),ee=!0):me=!!ne.first,H=Math.max(0,Math.floor(H)),$=Math.max(0,Math.floor($)),me){if(!Q)throw new Error("First frame must include a { palette } option");var[ne,Ee,be,Te,Ue=8]=[q,H,$,Q,se];Ue=128|Ue-1<<4|(Te=U(Te.length)-1),A(ne,Ee),A(ne,be),ne.writeBytes([Ue,0,0]),D(q,Q),0<=Ne&&(Ee=Ne,(Te=q).writeByte(33),Te.writeByte(255),Te.writeByte(11),I(Te,"NETSCAPE2.0"),Te.writeByte(3),Te.writeByte(1),A(Te,Ee),Te.writeByte(0))}var he,be,Ue=ye,Ne=be=Math.round(qe/10),Ee=oe,Te=le,qe=((ne=q).writeByte(33),ne.writeByte(249),ne.writeByte(4),Te<0&&(Te=0,Ee=!1),Ee=Ee?(he=1,2):he=0,0<=Ue&&(Ee=7&Ue),Ee<<=2,ne.writeByte(0|Ee|he),A(ne,Ne),ne.writeByte(Te||0),ne.writeByte(0),!!Q&&!me);oe=H,le=$,he=qe?Q:null,(ye=q).writeByte(44),A(ye,0),A(ye,0),A(ye,oe),A(ye,le),he?(oe=U(he.length)-1,ye.writeByte(128|oe)):ye.writeByte(0),qe&&D(q,Q),[Ne,ne,le,oe,ye=8,qe,Q,z]=[q,z,H,$,se,X,Z,re],function($e,pt,rt,fe,Ae=l(512),Pe=new Uint8Array(256),He=new Int32Array(5003),Je=new Int32Array(5003)){var yt=He.length;fe=Math.max(2,fe),Pe.fill(0),Je.fill(0),He.fill(-1);let it=0,at=0;var J=fe+1;const K=J;let te=!1,ue=K,we=(1<<ue)-1;var Oe=1<<J-1;const Ye=1+Oe;let We=2+Oe,je=0,Ze=rt[0],st=0;for(let Ut=yt;Ut<65536;Ut*=2)++st;st=8-st,Ae.writeByte(fe),St(Oe);var At=rt.length;for(let Ut=1;Ut<At;Ut++)e:{var Rt=rt[Ut],Ot=(Rt<<12)+Ze;let Vt=Rt<<st^Ze;if(He[Vt]===Ot)Ze=Je[Vt];else{for(var Tt=Vt===0?1:yt-Vt;0<=He[Vt];)if((Vt-=Tt)<0&&(Vt+=yt),He[Vt]===Ot){Ze=Je[Vt];break e}St(Ze),Ze=Rt,We<4096?(Je[Vt]=We++,He[Vt]=Ot):(He.fill(-1),We=2+Oe,te=!0,St(Oe))}}return St(Ze),St(Ye),Ae.writeByte(0),Ae.bytesView();function St(Ut){for(it&=c[at],0<at?it|=Ut<<at:it=Ut,at+=ue;8<=at;)Pe[je++]=255&it,254<=je&&(Ae.writeByte(je),Ae.writeBytesView(Pe,0,je),je=0),it>>=8,at-=8;if((We>we||te)&&(te?(ue=K,we=(1<<ue)-1,te=!1):(++ue,we=ue===12?1<<ue:(1<<ue)-1)),Ut==Ye){for(;0<at;)Pe[je++]=255&it,254<=je&&(Ae.writeByte(je),Ae.writeBytesView(Pe,0,je),je=0),it>>=8,at-=8;0<je&&(Ae.writeByte(je),Ae.writeBytesView(Pe,0,je),je=0)}}}(0,0,ne,ye,Ne,qe,Q,z)}};function ae(){I(q,"GIF89a")}}function D(N,O){var V=1<<U(O.length);for(let q=0;q<V;q++){let X=[0,0,0];q<O.length&&(X=O[q]),N.writeByte(X[0]),N.writeByte(X[1]),N.writeByte(X[2])}}function A(N,O){N.writeByte(255&O),N.writeByte(O>>8&255)}function I(N,O){for(var V=0;V<O.length;V++)N.writeByte(O.charCodeAt(V))}function U(N){return Math.max(Math.ceil(Math.log2(N)),1)}var B=T},{}],244:[function(t,C,S){S.read=function(y,o,a,g,b){var l,c,u=8*b-g-1,i=(1<<u)-1,d=i>>1,p=-7,v=a?b-1:0,h=a?-1:1;for(b=y[o+v],v+=h,l=b&(1<<-p)-1,b>>=-p,p+=u;0<p;l=256*l+y[o+v],v+=h,p-=8);for(c=l&(1<<-p)-1,l>>=-p,p+=g;0<p;c=256*c+y[o+v],v+=h,p-=8);if(l===0)l=1-d;else{if(l===i)return c?NaN:1/0*(b?-1:1);c+=Math.pow(2,g),l-=d}return(b?-1:1)*c*Math.pow(2,l-g)},S.write=function(y,o,a,g,b,l){var c,u,i=8*l-b-1,d=(1<<i)-1,p=d>>1,v=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=g?0:l-1,w=g?1:-1;for(l=o<0||o===0&&1/o<0?1:0,o=Math.abs(o),isNaN(o)||o===1/0?(u=isNaN(o)?1:0,c=d):(c=Math.floor(Math.log(o)/Math.LN2),o*(g=Math.pow(2,-c))<1&&(c--,g*=2),2<=(o+=1<=c+p?v/g:v*Math.pow(2,1-p))*g&&(c++,g/=2),d<=c+p?(u=0,c=d):1<=c+p?(u=(o*g-1)*Math.pow(2,b),c+=p):(u=o*Math.pow(2,p-1)*Math.pow(2,b),c=0));8<=b;y[a+h]=255&u,h+=w,u/=256,b-=8);for(c=c<<b|u,i+=b;0<i;y[a+h]=255&c,h+=w,c/=256,i-=8);y[a+h-w]|=128*l}},{}],245:[function(t,C,S){var y;function o(J,K){return J.b===K.b&&J.a===K.a}function a(J,K){return J.b<K.b||J.b===K.b&&J.a<=K.a}function g(J,K,te){var ue=K.b-J.b,we=te.b-K.b;return 0<ue+we?ue<we?K.a-J.a+ue/(ue+we)*(J.a-te.a):K.a-te.a+we/(ue+we)*(te.a-J.a):0}function b(J,K,te){var ue=K.b-J.b,we=te.b-K.b;return 0<ue+we?(K.a-te.a)*ue+(K.a-J.a)*we:0}function l(J,K){return J.a<K.a||J.a===K.a&&J.b<=K.b}function c(J,K,te){var ue=K.a-J.a,we=te.a-K.a;return 0<ue+we?ue<we?K.b-J.b+ue/(ue+we)*(J.b-te.b):K.b-te.b+we/(ue+we)*(te.b-J.b):0}function u(J,K,te){var ue=K.a-J.a,we=te.a-K.a;return 0<ue+we?(K.b-te.b)*ue+(K.b-J.b)*we:0}function i(J,K,te,ue){return(J=J<0?0:J)<=(te=te<0?0:te)?te===0?(K+ue)/2:K+J/(J+te)*(ue-K):ue+te/(J+te)*(K-ue)}function d(J){var K=_(J.b);return R(K,J.c),R(K.b,J.c),P(K,J.a),K}function p(J,K){var te=!1,ue=!1;J!==K&&(K.a!==J.a&&(ue=!0,D(K.a,J.a)),K.d!==J.d&&(te=!0,A(K.d,J.d)),E(K,J),ue||(R(K,J.a),J.a.c=J),te||(P(K,J.d),J.d.a=J))}function v(J){var K=J.b,te=!1;J.d!==J.b.d&&(te=!0,A(J.d,J.b.d)),J.c===J?D(J.a,null):(J.b.d.a=J.b.e,J.a.c=J.c,E(J,J.b.e),te||P(J,J.d)),K.c===K?(D(K.a,null),A(K.d,null)):(J.d.a=K.b.e,K.a.c=K.c,E(K,K.b.e)),T(J)}function h(J){var K=_(J),te=K.b;return E(K,J.e),K.a=J.b.a,R(te,K.a),K.d=te.d=J.d,K=K.b,E(J.b,J.b.b.e),E(J.b,K),J.b.a=K.a,K.b.a.c=K.b,K.b.d=J.b.d,K.f=J.f,K.b.f=J.b.f,K}function w(J,K){var te=!1,ue=_(J),we=ue.b;return K.d!==J.d&&(te=!0,A(K.d,J.d)),E(ue,J.e),E(we,K),ue.a=J.b.a,we.a=K.a,ue.d=we.d=J.d,J.d.a=we,te||P(ue,J.d),ue}function _(J){var K=new Ne,te=new Ne,ue=J.b.h;return(((te.h=ue).b.h=K).h=J).b.h=te,K.b=te,((K.c=K).e=te).b=K,(te.c=te).e=K}function E(J,K){var te=J.c,ue=K.c;te.b.e=K,(ue.b.e=J).c=ue,K.c=te}function R(J,K){var te=K.f,ue=new Te(K,te);for(te.e=ue,te=(K.f=ue).c=J;te.a=ue,(te=te.c)!==J;);}function P(J,K){var te=K.d,ue=new Ue(K,te);for(te.b=ue,(K.d=ue).a=J,ue.c=K.c,te=J;te.d=ue,(te=te.e)!==J;);}function T(J){var K=J.h;J=J.b.h,(K.b.h=J).b.h=K}function D(J,K){for(var te=J.c,ue=te;ue.a=K,(ue=ue.c)!==te;);te=J.f,((ue=J.e).f=te).e=ue}function A(J,K){for(var te=J.a,ue=te;ue.d=K,(ue=ue.e)!==te;);te=J.d,((ue=J.b).d=te).b=ue}function I(J){var K=0;return Math.abs(J[1])>Math.abs(J[0])&&(K=1),Math.abs(J[2])>Math.abs(J[K])?2:K}function U(J,K){J.f+=K.f,J.b.f+=K.b.f}function B(J,K,te){return J=J.a,K=K.a,te=te.a,K.b.a===J?te.b.a===J?a(K.a,te.a)?b(te.b.a,K.a,te.a)<=0:0<=b(K.b.a,te.a,K.a):b(te.b.a,J,te.a)<=0:te.b.a===J?0<=b(K.b.a,J,K.a):(K=g(K.b.a,J,K.a),(J=g(te.b.a,J,te.a))<=K)}function N(J){J.a.i=null;var K=J.e;K.a.c=K.c,K.c.a=K.a,J.e=null}function O(J,K){v(J.a),J.c=!1,(J.a=K).i=J}function V(J){for(var K=J.a.a;(J=at(J)).a.a===K;);return J.c&&(O(J,K=w(it(J).a.b,J.a.e)),J=at(J)),J}function q(J,K,te){var ue=new yt;return ue.a=te,ue.e=se(J.f,K.e,ue),te.i=ue}function X(J,K){switch(J.s){case 100130:return(1&K)!=0;case 100131:return K!==0;case 100132:return 0<K;case 100133:return K<0;case 100134:return 2<=K||K<=-2}return!1}function Z(J){var K=J.a,te=K.d;te.c=J.d,te.a=K,N(J)}function re(J,K,te){for(K=(J=K).a;J!==te;){J.c=!1;var ue=it(J),we=ue.a;if(we.a!==K.a){if(!ue.c){Z(J);break}O(ue,we=w(K.c.b,we.b))}K.c!==we&&(p(we.b.e,we),p(K,we)),Z(J),K=ue.a,J=ue}return K}function ee(J,K,te,ue,we,Oe){for(var Ye=!0;q(J,K,te.b),(te=te.c)!==ue;);for(we===null&&(we=it(K).a.b.c);(te=(ue=it(K)).a.b).a===we.a;)te.c!==we&&(p(te.b.e,te),p(we.b.e,te)),ue.f=K.f-te.f,ue.d=X(J,ue.f),K.b=!0,!Ye&&$(J,K)&&(U(te,we),N(K),v(we)),Ye=!1,K=ue,we=te;K.b=!0,Oe&&oe(J,K)}function ae(J,K,te,ue,we){var Oe=[K.g[0],K.g[1],K.g[2]];K.d=null,K.d=J.o&&J.o(Oe,te,ue,J.c)||null,K.d===null&&(we?J.n||(be(J,100156),J.n=!0):K.d=te[0])}function z(J,K,te){var ue=[null,null,null,null];ue[0]=K.a.d,ue[1]=te.a.d,ae(J,K.a,ue,[.5,.5,0,0],!1),p(K,te)}function H(J,K,te,ue,we){var Oe=Math.abs(K.b-J.b)+Math.abs(K.a-J.a),Ye=Math.abs(te.b-J.b)+Math.abs(te.a-J.a),We=we+1;ue[we]=.5*Ye/(Oe+Ye),ue[We]=.5*Oe/(Oe+Ye),J.g[0]+=ue[we]*K.g[0]+ue[We]*te.g[0],J.g[1]+=ue[we]*K.g[1]+ue[We]*te.g[1],J.g[2]+=ue[we]*K.g[2]+ue[We]*te.g[2]}function $(J,K){var te=it(K),ue=K.a,we=te.a;if(a(ue.a,we.a)){if(0<b(we.b.a,ue.a,we.a))return;if(o(ue.a,we.a)){if(ue.a!==we.a){te=J.e;var Oe=ue.a.h;if(0<=Oe){var Ye=(te=te.b).d,We=te.e,je=te.c,Ze=je[Oe];Ye[Ze]=Ye[te.a],(je[Ye[Ze]]=Ze)<=--te.a&&(Ze<=1||a(We[Ye[Ze>>1]],We[Ye[Ze]])?He:Je)(te,Ze),We[Oe]=null,je[Oe]=te.b,te.b=Oe}else for(te.c[-(Oe+1)]=null;0<te.a&&te.c[te.d[te.a-1]]===null;)--te.a;z(J,we.b.e,ue)}}else h(we.b),p(ue,we.b.e),K.b=te.b=!0}else{if(b(ue.b.a,we.a,ue.a)<0)return;at(K).b=K.b=!0,h(ue.b),p(we.b.e,ue)}return 1}function ne(J,K){var te=it(K),ue=K.a,we=te.a,Oe=ue.a,Ye=we.a,We=ue.b.a,je=we.b.a,Ze=new Te;if(b(We,J.a,Oe),b(je,J.a,Ye),!(Oe===Ye||Math.min(Oe.a,We.a)>Math.max(Ye.a,je.a))){if(a(Oe,Ye)){if(0<b(je,Oe,Ye))return}else if(b(We,Ye,Oe)<0)return;var st,At,Rt=We,Ot=Oe,Tt=je,St=Ye;if(a(Rt,Ot)||(st=Rt,Rt=Ot,Ot=st),a(Tt,St)||(st=Tt,Tt=St,St=st),a(Rt,Tt)||(st=Rt,Rt=Tt,Tt=st,st=Ot,Ot=St,St=st),a(Tt,Ot)?a(Ot,St)?((st=g(Rt,Tt,Ot))+(At=g(Tt,Ot,St))<0&&(st=-st,At=-At),Ze.b=i(st,Tt.b,At,Ot.b)):((st=b(Rt,Tt,Ot))+(At=-b(Rt,St,Ot))<0&&(st=-st,At=-At),Ze.b=i(st,Tt.b,At,St.b)):Ze.b=(Tt.b+Ot.b)/2,l(Rt,Ot)||(st=Rt,Rt=Ot,Ot=st),l(Tt,St)||(st=Tt,Tt=St,St=st),l(Rt,Tt)||(st=Rt,Rt=Tt,Tt=st,st=Ot,Ot=St,St=st),l(Tt,Ot)?l(Ot,St)?((st=c(Rt,Tt,Ot))+(At=c(Tt,Ot,St))<0&&(st=-st,At=-At),Ze.a=i(st,Tt.a,At,Ot.a)):((st=u(Rt,Tt,Ot))+(At=-u(Rt,St,Ot))<0&&(st=-st,At=-At),Ze.a=i(st,Tt.a,At,St.a)):Ze.a=(Tt.a+Ot.a)/2,a(Ze,J.a)&&(Ze.b=J.a.b,Ze.a=J.a.a),Rt=a(Oe,Ye)?Oe:Ye,a(Rt,Ze)&&(Ze.b=Rt.b,Ze.a=Rt.a),o(Ze,Oe)||o(Ze,Ye))return $(J,K),0;if(!o(We,J.a)&&0<=b(We,J.a,Ze)||!o(je,J.a)&&b(je,J.a,Ze)<=0){if(je===J.a)h(ue.b),p(we.b,ue),ue=it(K=V(K)).a,re(J,it(K),te),ee(J,K,ue.b.e,ue,ue,!0);else{if(We!==J.a)return 0<=b(We,J.a,Ze)&&(at(K).b=K.b=!0,h(ue.b),ue.a.b=J.a.b,ue.a.a=J.a.a),void(b(je,J.a,Ze)<=0&&(K.b=te.b=!0,h(we.b),we.a.b=J.a.b,we.a.a=J.a.a));for(h(we.b),p(ue.e,we.b.e),Ye=(Oe=te=K).a.b.a;(Oe=at(Oe)).a.b.a===Ye;);Oe=it(K=Oe).a.b.c,te.a=we.b.e,ee(J,K,(we=re(J,te,null)).c,ue.b.c,Oe,!0)}return 1}h(ue.b),h(we.b),p(we.b.e,ue),ue.a.b=Ze.b,ue.a.a=Ze.a,ue.a.h=$e(J.e,ue.a),ue=ue.a,we=[0,0,0,0],Ze=[Oe.d,We.d,Ye.d,je.d],ue.g[0]=ue.g[1]=ue.g[2]=0,H(ue,Oe,We,we,0),H(ue,Ye,je,we,2),ae(J,ue,Ze,we,!0),at(K).b=K.b=te.b=!0}}function oe(J,K){for(var te=it(K);;){for(;te.b;)te=it(K=te);if(!(K.b||(K=at(te=K))!==null&&K.b))break;K.b=!1;var ue=K.a,we=te.a;if(Oe=ue.b.a!==we.b.a)e:{var Oe,Ye=it(Oe=K),We=Oe.a,je=Ye.a,Ze=void 0;if(a(We.b.a,je.b.a)){if(b(We.b.a,je.b.a,We.a)<0){Oe=!1;break e}at(Oe).b=Oe.b=!0,Ze=h(We),p(je.b,Ze),Ze.d.c=Oe.d}else{if(0<b(je.b.a,We.b.a,je.a)){Oe=!1;break e}Oe.b=Ye.b=!0,Ze=h(je),p(We.e,je.b),Ze.b.d.c=Oe.d}Oe=!0}if(Oe&&(te.c?(N(te),v(we),we=(te=it(K)).a):K.c&&(N(K),v(ue),ue=(K=at(te)).a)),ue.a!==we.a){if(ue.b.a===we.b.a||K.c||te.c||ue.b.a!==J.a&&we.b.a!==J.a)$(J,K);else if(ne(J,K))break}ue.a===we.a&&ue.b.a===we.b.a&&(U(we,ue),N(K),v(ue),K=at(te))}}function le(J,K){var te=new yt,ue=d(J.b);ue.a.b=4e150,ue.a.a=K,ue.b.a.b=-4e150,ue.b.a.a=K,J.a=ue.b.a,te.a=ue,te.f=0,te.d=!1,te.c=!1,te.h=!0,te.b=!1,ue=se(ue=J.f,ue.a,te),te.e=ue}function Q(J){this.a=new ye,this.b=J,this.c=B}function se(J,K,te){for(;(K=K.c).b!==null&&!J.c(J.b,K.b,te););return J=new ye(te,K.a,K),K.a.c=J,K.a=J}function ye(J,K,te){this.b=J||null,this.a=K||this,this.c=te||this}function me(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function he(J,K){if(J.d!==K)for(;J.d!==K;)if(J.d<K)switch(J.d){case 0:be(J,100151),J.u(null);break;case 1:be(J,100152),J.t()}else switch(J.d){case 2:be(J,100154),J.v();break;case 1:be(J,100153),J.w()}}function be(J,K){J.p&&J.p(K,J.c)}function Ue(J,K){this.b=J||this,this.d=K||this,this.a=null,this.c=!1}function Ne(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Ee(){this.c=new Te,this.a=new Ue,this.b=new Ne,this.d=new Ne,this.b.b=this.d,this.d.b=this.b}function Te(J,K){this.e=J||this,this.f=K||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function qe(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new rt}function $e(J,K){var te,ue,we;return J.e?(2*(ue=++(te=J.b).a)>te.f&&(te.f*=2,te.c=fe(te.c,te.f+1)),te.b===0?we=ue:(we=te.b,te.b=te.c[te.b]),te.e[we]=K,te.c[we]=ue,te.d[ue]=we,te.h&&Je(te,ue),we):(te=J.a++,J.c[te]=K,-(te+1))}function pt(J){if(J.a===0)return Pe(J.b);var K=J.c[J.d[J.a-1]];if(J.b.a!==0&&a(Ae(J.b),K))return Pe(J.b);for(;--J.a,0<J.a&&J.c[J.d[J.a-1]]===null;);return K}function rt(){this.d=fe([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function fe(J,K){for(var te=Array(K),ue=0;ue<J.length;ue++)te[ue]=J[ue];for(;ue<K;ue++)te[ue]=0;return te}function Ae(J){return J.e[J.d[1]]}function Pe(J){var K=J.d,te=J.e,ue=J.c,we=K[1],Oe=te[we];return 0<J.a&&(K[1]=K[J.a],ue[K[1]]=1,te[we]=null,ue[we]=J.b,J.b=we,0<--J.a&&He(J,1)),Oe}function He(J,K){for(var te=J.d,ue=J.e,we=J.c,Oe=K,Ye=te[Oe];;){var We=Oe<<1,je=(We<J.a&&a(ue[te[We+1]],ue[te[We]])&&(We+=1),te[We]);if(We>J.a||a(ue[Ye],ue[je])){we[te[Oe]=Ye]=Oe;break}we[te[Oe]=je]=Oe,Oe=We}}function Je(J,K){for(var te=J.d,ue=J.e,we=J.c,Oe=K,Ye=te[Oe];;){var We=Oe>>1,je=te[We];if(We==0||a(ue[je],ue[Ye])){we[te[Oe]=Ye]=Oe;break}we[te[Oe]=je]=Oe,Oe=We}}function yt(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function it(J){return J.e.c.b}function at(J){return J.e.a.b}(y=me.prototype).x=function(){he(this,0)},y.B=function(J,K){switch(J){case 100142:return;case 100140:switch(K){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=K)}break;case 100141:return void(this.m=!!K);default:return void be(this,100900)}be(this,100901)},y.y=function(J){switch(J){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:be(this,100900)}return!1},y.A=function(J,K,te){this.j[0]=J,this.j[1]=K,this.j[2]=te},y.z=function(J,K){var te=K||null;switch(J){case 100100:case 100106:this.h=te;break;case 100104:case 100110:this.l=te;break;case 100101:case 100107:this.k=te;break;case 100102:case 100108:this.i=te;break;case 100103:case 100109:this.p=te;break;case 100105:case 100111:this.o=te;break;case 100112:this.r=te;break;default:be(this,100900)}},y.C=function(J,K){var te=!1,ue=[0,0,0];he(this,2);for(var we=0;we<3;++we){var Oe=J[we];Oe<-1e150&&(Oe=-1e150,te=!0),1e150<Oe&&(Oe=1e150,te=!0),ue[we]=Oe}te&&be(this,100155),(te=this.q)===null?p(te=d(this.b),te.b):(h(te),te=te.e),te.a.d=K,te.a.g[0]=ue[0],te.a.g[1]=ue[1],te.a.g[2]=ue[2],te.f=1,te.b.f=-1,this.q=te},y.u=function(J){he(this,0),this.d=1,this.b=new Ee,this.c=J},y.t=function(){he(this,1),this.d=2,this.q=null},y.v=function(){he(this,2),this.d=1},y.w=function(){he(this,1),this.d=0;var J,K,te=!1,ue=[je=this.j[0],we=this.j[1],Ye=this.j[2]];if(je===0&&we===0&&Ye===0){for(var we=[-2e150,-2e150,-2e150],Oe=[2e150,2e150,2e150],Ye=[],We=[],je=(te=this.b.c).e;je!==te;je=je.e)for(var Ze=0;Ze<3;++Ze){var st=je.g[Ze];st<Oe[Ze]&&(Oe[Ze]=st,We[Ze]=je),st>we[Ze]&&(we[Ze]=st,Ye[Ze]=je)}if(we[1]-Oe[1]>we[je=0]-Oe[0]&&(je=1),Oe[je=we[2]-Oe[2]>we[je]-Oe[je]?2:je]>=we[je])ue[0]=0,ue[1]=0,ue[2]=1;else{for(Oe=We[je],Ye=Ye[je],We=[we=0,0,0],Oe=[Oe.g[0]-Ye.g[0],Oe.g[1]-Ye.g[1],Oe.g[2]-Ye.g[2]],Ze=[0,0,0],je=te.e;je!==te;je=je.e)Ze[0]=je.g[0]-Ye.g[0],Ze[1]=je.g[1]-Ye.g[1],Ze[2]=je.g[2]-Ye.g[2],We[0]=Oe[1]*Ze[2]-Oe[2]*Ze[1],We[1]=Oe[2]*Ze[0]-Oe[0]*Ze[2],We[2]=Oe[0]*Ze[1]-Oe[1]*Ze[0],we<(st=We[0]*We[0]+We[1]*We[1]+We[2]*We[2])&&(we=st,ue[0]=We[0],ue[1]=We[1],ue[2]=We[2]);we<=0&&(ue[0]=ue[1]=ue[2]=0,ue[I(Oe)]=1)}te=!0}for(We=I(ue),je=this.b.c,we=(We+1)%3,Ye=(We+2)%3,We=0<ue[We]?1:-1,ue=je.e;ue!==je;ue=ue.e)ue.b=ue.g[we],ue.a=We*ue.g[Ye];if(te){for(ue=0,je=(te=this.b.a).b;je!==te;je=je.b)if(!((we=je.a).f<=0))for(;ue+=(we.a.b-we.b.a.b)*(we.a.a+we.b.a.a),(we=we.e)!==je.a;);if(ue<0)for(te=(ue=this.b.c).e;te!==ue;te=te.e)te.a=-te.a}for(this.n=!1,je=(ue=this.b.b).h;je!==ue;je=te)te=je.h,we=je.e,o(je.a,je.b.a)&&je.e.e!==je&&(z(this,we,je),v(je),we=(je=we).e),we.e===je&&(we!==je&&(we!==te&&we!==te.b||(te=te.h),v(we)),je!==te&&je!==te.b||(te=te.h),v(je));for(this.e=ue=new qe,je=(te=this.b.c).e;je!==te;je=je.e)je.h=$e(ue,je);var At=ue;At.d=[];for(var Rt=0;Rt<At.a;Rt++)At.d[Rt]=Rt;At.d.sort(function(St){return function(Ut,Vt){return a(St[Ut],St[Vt])?1:-1}}(At.c)),At.e=!0;for(var Ot=At.b,Tt=Ot.a;1<=Tt;--Tt)He(Ot,Tt);for(Ot.h=!0,this.f=new Q(this),le(this,-4e150),le(this,4e150);(ue=pt(this.e))!==null;){for(;;){e:if((je=this.e).a===0)te=Ae(je.b);else if(te=je.c[je.d[je.a-1]],je.b.a!==0&&a(je=Ae(je.b),te)){te=je;break e}if(te===null||!o(te,ue))break;te=pt(this.e),z(this,ue.c,te.c)}(function St(Ut,Vt){for(var Sr,Ht=(Ut.a=Vt).c;Ht.i===null;)if((Ht=Ht.c)===Vt.c){Ht=Ut;var _e=Vt;(tt=new yt).a=_e.c.b;for(var Se=(ke=Ht.f).a;(Se=Se.a).b!==null&&!ke.c(ke.b,tt,Se.b););var ke,Ve,nt=it(ke=Se.b),tt=ke.a;return Se=nt.a,void(b(tt.b.a,_e,tt.a)===0?o((tt=ke.a).a,_e)||o(tt.b.a,_e)||(h(tt.b),ke.c&&(v(tt.c),ke.c=!1),p(_e.c,tt),St(Ht,_e)):(Ve=a(Se.b.a,tt.b.a)?ke:nt,nt=void 0,ke.d||Ve.c?(nt=Ve===ke?w(_e.c.b,tt.e):w(Se.b.c.b,_e.c).b,Ve.c?O(Ve,nt):((ke=q(tt=Ht,ke,nt)).f=at(ke).f+ke.a.f,ke.d=X(tt,ke.f)),St(Ht,_e)):ee(Ht,ke,_e.c,_e.c,null,!0)))}ke=(tt=it(Ht=V(Ht.i))).a,(tt=re(Ut,tt,null)).c===ke?(tt=(ke=tt).c,Se=it(Ht),nt=Ht.a,Ve=Se.a,Sr=!1,nt.b.a!==Ve.b.a&&ne(Ut,Ht),o(nt.a,Ut.a)&&(p(tt.b.e,nt),tt=it(Ht=V(Ht)).a,re(Ut,it(Ht),Se),Sr=!0),o(Ve.a,Ut.a)&&(p(ke,Ve.b.e),ke=re(Ut,Se,null),Sr=!0),Sr?ee(Ut,Ht,ke.c,tt,tt,!0):(_e=a(Ve.a,nt.a)?Ve.b.e:nt,ee(Ut,Ht,_e=w(ke.c.b,_e),_e.c,_e.c,!1),_e.b.i.c=!0,oe(Ut,Ht))):ee(Ut,Ht,tt.c,ke,ke,!0)})(this,ue)}for(this.a=this.f.a.a.b.a.a,ue=0;(te=this.f.a.a.b)!==null;)te.h||++ue,N(te);for(this.f=null,(ue=this.e).b=null,ue.d=null,this.e=ue.c=null,je=(ue=this.b).a.b;je!==ue.a;je=te)te=je.b,(je=je.a).e.e===je&&(U(je.c,je),v(je));if(!this.n){if(ue=this.b,this.m)for(je=ue.b.h;je!==ue.b;je=te)te=je.h,je.b.d.c!==je.d.c?je.f=je.d.c?1:-1:v(je);else for(je=ue.a.b;je!==ue.a;je=te)if(te=je.b,je.c){for(je=je.a;a(je.b.a,je.a);je=je.c.b);for(;a(je.a,je.b.a);je=je.e);for(we=je.c.b,Ye=void 0;je.e!==we;)if(a(je.b.a,we.a)){for(;we.e!==je&&(a((K=we.e).b.a,K.a)||b(we.a,we.b.a,we.e.b.a)<=0);)we=(Ye=w(we.e,we)).b;we=we.c.b}else{for(;we.e!==je&&(a((J=je.c.b).a,J.b.a)||0<=b(je.b.a,je.a,je.c.b.a));)je=(Ye=w(je,je.c.b)).b;je=je.e}for(;we.e.e!==je;)we=(Ye=w(we.e,we)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(te=(ue=this.b).a.b;te!==ue.a;te=te.b)if(te.c){for(this.h&&this.h(2,this.c),je=te.a;this.k&&this.k(je.a.d,this.c),(je=je.e)!==te.a;);this.i&&this.i(this.c)}}else{for(ue=this.b,te=!!this.l,je=!1,we=-1,Ye=ue.a.d;Ye!==ue.a;Ye=Ye.d)if(Ye.c)for(je||(this.h&&this.h(4,this.c),je=!0),We=Ye.a;te&&we!==(Oe=We.b.d.c?0:1)&&(we=Oe,this.l&&this.l(!!we,this.c)),this.k&&this.k(We.a.d,this.c),(We=We.e)!==Ye.a;);je&&this.i&&this.i(this.c)}if(this.r){for(je=(ue=this.b).a.b;je!==ue.a;je=te)if(te=je.b,!je.c){for(Ye=(we=je.a).e,We=void 0;Ye=(We=Ye).e,(We.d=null)===We.b.d&&(We.c===We?D(We.a,null):(We.a.c=We.c,E(We,We.b.e)),(Oe=We.b).c===Oe?D(Oe.a,null):(Oe.a.c=Oe.c,E(Oe,Oe.b.e)),T(We)),We!==we;);we=je.d,((je=je.b).d=we).b=je}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:me,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},me.prototype.gluDeleteTess=me.prototype.x,me.prototype.gluTessProperty=me.prototype.B,me.prototype.gluGetTessProperty=me.prototype.y,me.prototype.gluTessNormal=me.prototype.A,me.prototype.gluTessCallback=me.prototype.z,me.prototype.gluTessVertex=me.prototype.C,me.prototype.gluTessBeginPolygon=me.prototype.u,me.prototype.gluTessBeginContour=me.prototype.t,me.prototype.gluTessEndContour=me.prototype.v,me.prototype.gluTessEndPolygon=me.prototype.w,C!==void 0&&(C.exports=this.libtess)},{}],246:[function(t,C,S){function y(o,a,g,b){for(var l=o[a++],c=1<<l,u=1+c,i=1+u,d=l+1,p=(1<<d)-1,v=0,h=0,w=0,_=o[a++],E=new Int32Array(4096),R=null;;){for(;v<16&&_!==0;)h|=o[a++]<<v,v+=8,_===1?_=o[a++]:--_;if(v<d)break;var P=h&p;if(h>>=d,v-=d,P==c)i=1+u,p=(1<<(d=l+1))-1,R=null;else{if(P==u)break;for(var T=P<i?P:R,D=0,A=T;c<A;)A=E[A]>>8,++D;var I=A;if(b<w+D+(T!==P?1:0))return void console.log("Warning, gif stream longer than expected.");g[w++]=I;var U=w+=D;for(T!==P&&(g[w++]=I),A=T;D--;)A=E[A],g[--U]=255&A,A>>=8;R!==null&&i<4096&&(E[i++]=R<<8|I,p+1<=i&&d<12&&(++d,p=p<<1|1)),R=P}}w!==b&&console.log("Warning, gif stream shorter than expected.")}try{S.GifWriter=function(o,a,g,b){var l=0,c=(b=b===void 0?{}:b).loop===void 0?null:b.loop,u=b.palette===void 0?null:b.palette;if(a<=0||g<=0||65535<a||65535<g)throw new Error("Width/Height invalid.");function i(R){if((R=R.length)<2||256<R||R&R-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return R}o[l++]=71,o[l++]=73,o[l++]=70,o[l++]=56,o[l++]=57,o[l++]=97;var d=0,p=0;if(u!==null){for(var v=i(u);v>>=1;)++d;if(v=1<<d,--d,b.background!==void 0){if(v<=(p=b.background))throw new Error("Background index out of range.");if(p===0)throw new Error("Background index explicitly passed as 0.")}}if(o[l++]=255&a,o[l++]=a>>8&255,o[l++]=255&g,o[l++]=g>>8&255,o[l++]=(u!==null?128:0)|d,o[l++]=p,o[l++]=0,u!==null)for(var h=0,w=u.length;h<w;++h){var _=u[h];o[l++]=_>>16&255,o[l++]=_>>8&255,o[l++]=255&_}if(c!==null){if(c<0||65535<c)throw new Error("Loop count invalid.");o[l++]=33,o[l++]=255,o[l++]=11,o[l++]=78,o[l++]=69,o[l++]=84,o[l++]=83,o[l++]=67,o[l++]=65,o[l++]=80,o[l++]=69,o[l++]=50,o[l++]=46,o[l++]=48,o[l++]=3,o[l++]=1,o[l++]=255&c,o[l++]=c>>8&255,o[l++]=0}var E=!1;this.addFrame=function(R,P,T,D,A,I){if(E===!0&&(--l,E=!1),I=I===void 0?{}:I,R<0||P<0||65535<R||65535<P)throw new Error("x/y invalid.");if(T<=0||D<=0||65535<T||65535<D)throw new Error("Width/Height invalid.");if(A.length<T*D)throw new Error("Not enough pixels for the frame size.");var U=!0,B=I.palette;if(B==null&&(U=!1,B=u),B==null)throw new Error("Must supply either a local or global palette.");for(var N=i(B),O=0;N>>=1;)++O;N=1<<O;var V=I.delay===void 0?0:I.delay,q=I.disposal===void 0?0:I.disposal;if(q<0||3<q)throw new Error("Disposal out of range.");var X=!1,Z=0;if(I.transparent!==void 0&&I.transparent!==null&&(X=!0,(Z=I.transparent)<0||N<=Z))throw new Error("Transparent color index.");if(q===0&&!X&&V===0||(o[l++]=33,o[l++]=249,o[l++]=4,o[l++]=q<<2|(X===!0?1:0),o[l++]=255&V,o[l++]=V>>8&255,o[l++]=Z,o[l++]=0),o[l++]=44,o[l++]=255&R,o[l++]=R>>8&255,o[l++]=255&P,o[l++]=P>>8&255,o[l++]=255&T,o[l++]=T>>8&255,o[l++]=255&D,o[l++]=D>>8&255,o[l++]=U===!0?128|O-1:0,U===!0)for(var re=0,ee=B.length;re<ee;++re){var ae=B[re];o[l++]=ae>>16&255,o[l++]=ae>>8&255,o[l++]=255&ae}return l=function(z,H,$,ne){z[H++]=$;var oe=H++,le=1<<$,Q=le-1,se=1+le,ye=1+se,me=$+1,he=0,be=0;function Ue(Ae){for(;Ae<=he;)z[H++]=255&be,be>>=8,he-=8,H===oe+256&&(z[oe]=255,oe=H++)}function Ne(Ae){be|=Ae<<he,he+=me,Ue(8)}var Ee=ne[0]&Q,Te={};Ne(le);for(var qe=1,$e=ne.length;qe<$e;++qe){var pt=ne[qe]&Q,rt=Ee<<8|pt,fe=Te[rt];if(fe===void 0){for(be|=Ee<<he,he+=me;8<=he;)z[H++]=255&be,be>>=8,he-=8,H===oe+256&&(z[oe]=255,oe=H++);ye===4096?(Ne(le),ye=1+se,me=$+1,Te={}):(1<<me<=ye&&++me,Te[rt]=ye++),Ee=pt}else Ee=fe}return Ne(Ee),Ne(se),Ue(1),oe+1===H?z[oe]=0:(z[oe]=H-oe-1,z[H++]=0),H}(o,l,O<2?2:O,A)},this.end=function(){return E===!1&&(o[l++]=59,E=!0),l},this.getOutputBuffer=function(){return o},this.setOutputBuffer=function(R){o=R},this.getOutputBufferPosition=function(){return l},this.setOutputBufferPosition=function(R){l=R}},S.GifReader=function(o){var a=0;if(o[a++]!==71||o[a++]!==73||o[a++]!==70||o[a++]!==56||(o[a++]+1&253)!=56||o[a++]!==97)throw new Error("Invalid GIF 87a/89a header.");var g=o[a++]|o[a++]<<8,b=o[a++]|o[a++]<<8,l=o[a++],c=1<<1+(7&l),u=(o[a++],o[a++],null),i=null,d=(l>>7&&(u=a,a+=3*(i=c)),!0),p=[],v=0,h=null,w=0,_=null;for(this.width=g,this.height=b;d&&a<o.length;)switch(o[a++]){case 33:switch(o[a++]){case 255:if(o[a]!==11||o[a+1]==78&&o[a+2]==69&&o[a+3]==84&&o[a+4]==83&&o[a+5]==67&&o[a+6]==65&&o[a+7]==80&&o[a+8]==69&&o[a+9]==50&&o[a+10]==46&&o[a+11]==48&&o[a+12]==3&&o[a+13]==1&&o[a+16]==0)a+=14,_=o[a++]|o[a++]<<8,a++;else for(a+=12;;){if(!(0<=(R=o[a++])))throw Error("Invalid block size");if(R===0)break;a+=R}break;case 249:if(o[a++]!==4||o[a+4]!==0)throw new Error("Invalid graphics extension block.");var E=o[a++];v=o[a++]|o[a++]<<8,h=o[a++],!(1&E)&&(h=null),w=E>>2&7,a++;break;case 254:for(;;){if(!(0<=(R=o[a++])))throw Error("Invalid block size");if(R===0)break;a+=R}break;default:throw new Error("Unknown graphic control label: 0x"+o[a-1].toString(16))}break;case 44:var R,P=o[a++]|o[a++]<<8,T=o[a++]|o[a++]<<8,D=o[a++]|o[a++]<<8,A=o[a++]|o[a++]<<8,I=(O=o[a++])>>6&1,U=u,B=i,N=!1,O=(O>>7&&(N=!0,U=a,a+=3*(B=1<<1+(7&O))),a);for(a++;;){if(!(0<=(R=o[a++])))throw Error("Invalid block size");if(R===0)break;a+=R}p.push({x:P,y:T,width:D,height:A,has_local_palette:N,palette_offset:U,palette_size:B,data_offset:O,data_length:a-O,transparent_index:h,interlaced:!!I,delay:v,disposal:w});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+o[a-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return _},this.frameInfo=function(V){if(V<0||V>=p.length)throw new Error("Frame index out of range.");return p[V]},this.decodeAndBlitFrameBGRA=function(V,q){for(var X=(V=this.frameInfo(V)).width*V.height,Z=new Uint8Array(X),re=(y(o,V.data_offset,Z,X),V.palette_offset),ee=V.transparent_index,ae=(ee===null&&(ee=256),V.width),z=g-ae,H=ae,$=4*(V.y*g+V.x),ne=4*((V.y+V.height)*g+V.x),oe=$,le=4*z,Q=(V.interlaced===!0&&(le+=4*g*7),8),se=0,ye=Z.length;se<ye;++se){var me,he,be=Z[se];H===0&&(H=ae,ne<=(oe+=le)&&(le=4*z+4*g*(Q-1),oe=$+(ae+z)*(Q<<1),Q>>=1)),be===ee?oe+=4:(me=o[re+3*be],he=o[re+3*be+1],be=o[re+3*be+2],q[oe++]=be,q[oe++]=he,q[oe++]=me,q[oe++]=255),--H}},this.decodeAndBlitFrameRGBA=function(V,q){for(var X=(V=this.frameInfo(V)).width*V.height,Z=new Uint8Array(X),re=(y(o,V.data_offset,Z,X),V.palette_offset),ee=V.transparent_index,ae=(ee===null&&(ee=256),V.width),z=g-ae,H=ae,$=4*(V.y*g+V.x),ne=4*((V.y+V.height)*g+V.x),oe=$,le=4*z,Q=(V.interlaced===!0&&(le+=4*g*7),8),se=0,ye=Z.length;se<ye;++se){var me,he,be=Z[se];H===0&&(H=ae,ne<=(oe+=le)&&(le=4*z+4*g*(Q-1),oe=$+(ae+z)*(Q<<1),Q>>=1)),be===ee?oe+=4:(me=o[re+3*be],he=o[re+3*be+1],be=o[re+3*be+2],q[oe++]=me,q[oe++]=he,q[oe++]=be,q[oe++]=255),--H}}}}catch{}},{}],247:[function(t,C,S){(function(y){(function(o){function a(m){if(this==null)throw TypeError();var j,M=String(this),L=M.length;if(!((m=(m=m?Number(m):0)!=m?0:m)<0||L<=m))return 55296<=(j=M.charCodeAt(m))&&j<=56319&&m+1<L&&56320<=(L=M.charCodeAt(m+1))&&L<=57343?1024*(j-55296)+L-56320+65536:j}String.prototype.codePointAt||((g=function(){try{var m={},j=Object.defineProperty,M=j(m,m,m)&&j}catch{}return M}())?g(String.prototype,"codePointAt",{value:a,configurable:!0,writable:!0}):String.prototype.codePointAt=a);var g;function b(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function l(m,j){this.source=m,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=j,this.destLen=0,this.ltree=new b,this.dtree=new b}var c=new b,u=new b,i=new Uint8Array(30),d=new Uint16Array(30),p=new Uint8Array(30),v=new Uint16Array(30),h=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),w=new b,_=new Uint8Array(320);function E(m,j,M,L){for(var G,W=0;W<M;++W)m[W]=0;for(W=0;W<30-M;++W)m[W+M]=W/M|0;for(G=L,W=0;W<30;++W)j[W]=G,G+=1<<m[W]}var R=new Uint16Array(16);function P(m,j,M,L){for(var G,W=0;W<16;++W)m.table[W]=0;for(W=0;W<L;++W)m.table[j[M+W]]++;for(W=G=m.table[0]=0;W<16;++W)R[W]=G,G+=m.table[W];for(W=0;W<L;++W)j[M+W]&&(m.trans[R[j[M+W]]++]=W)}function T(m,j,M){if(!j)return M;for(;m.bitcount<24;)m.tag|=m.source[m.sourceIndex++]<<m.bitcount,m.bitcount+=8;var L=m.tag&65535>>>16-j;return m.tag>>>=j,m.bitcount-=j,L+M}function D(m,j){for(;m.bitcount<24;)m.tag|=m.source[m.sourceIndex++]<<m.bitcount,m.bitcount+=8;for(var M=0,L=0,G=0,W=m.tag;L=2*L+(1&W),W>>>=1,M+=j.table[++G],0<=(L-=j.table[G]););return m.tag=W,m.bitcount-=G,j.trans[M+L]}function A(m,j,M){for(;;){if((W=D(m,j))===256)return 0;if(W<256)m.dest[m.destLen++]=W;else for(var L,G=T(m,i[W-=257],d[W]),W=D(m,M),Y=L=m.destLen-T(m,p[W],v[W]);Y<L+G;++Y)m.dest[m.destLen++]=m.dest[Y]}}for(var I=c,U=u,B=0;B<7;++B)I.table[B]=0;for(I.table[7]=24,I.table[8]=152,I.table[9]=112,B=0;B<24;++B)I.trans[B]=256+B;for(B=0;B<144;++B)I.trans[24+B]=B;for(B=0;B<8;++B)I.trans[168+B]=280+B;for(B=0;B<112;++B)I.trans[176+B]=144+B;for(B=0;B<5;++B)U.table[B]=0;for(U.table[5]=32,B=0;B<32;++B)U.trans[B]=B;E(i,d,4,3),E(p,v,2,1),i[28]=0,d[28]=258;function N(m,j,M,L,G){return Math.pow(1-G,3)*m+3*Math.pow(1-G,2)*G*j+3*(1-G)*Math.pow(G,2)*M+Math.pow(G,3)*L}function O(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function V(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function q(m){throw new Error(m)}function X(m,j){m||q(j)}O.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},O.prototype.addPoint=function(m,j){typeof m=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=m,this.x2=m),m<this.x1&&(this.x1=m),m>this.x2&&(this.x2=m)),typeof j=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=j,this.y2=j),j<this.y1&&(this.y1=j),j>this.y2&&(this.y2=j))},O.prototype.addX=function(m){this.addPoint(m,null)},O.prototype.addY=function(m){this.addPoint(null,m)},O.prototype.addBezier=function(m,j,M,L,G,W,Y,ie){var ce=[m,j],pe=[M,L],xe=[G,W],Me=[Y,ie];this.addPoint(m,j),this.addPoint(Y,ie);for(var Ce=0;Ce<=1;Ce++){var ge,Xe=6*ce[Ce]-12*pe[Ce]+6*xe[Ce],Re=-3*ce[Ce]+9*pe[Ce]-9*xe[Ce]+3*Me[Ce],Fe=3*pe[Ce]-3*ce[Ce];Re==0?Xe==0||0<(ge=-Fe/Xe)&&ge<1&&(Ce===0&&this.addX(N(ce[Ce],pe[Ce],xe[Ce],Me[Ce],ge)),Ce===1&&this.addY(N(ce[Ce],pe[Ce],xe[Ce],Me[Ce],ge))):(ge=Math.pow(Xe,2)-4*Fe*Re)<0||(0<(Fe=(-Xe+Math.sqrt(ge))/(2*Re))&&Fe<1&&(Ce===0&&this.addX(N(ce[Ce],pe[Ce],xe[Ce],Me[Ce],Fe)),Ce===1&&this.addY(N(ce[Ce],pe[Ce],xe[Ce],Me[Ce],Fe))),0<(Fe=(-Xe-Math.sqrt(ge))/(2*Re))&&Fe<1&&(Ce===0&&this.addX(N(ce[Ce],pe[Ce],xe[Ce],Me[Ce],Fe)),Ce===1&&this.addY(N(ce[Ce],pe[Ce],xe[Ce],Me[Ce],Fe))))}},O.prototype.addQuad=function(m,j,M,L,G,W){M=m+2/3*(M-m),L=j+2/3*(L-j),this.addBezier(m,j,M,L,M+1/3*(G-m),L+1/3*(W-j),G,W)},V.prototype.moveTo=function(m,j){this.commands.push({type:"M",x:m,y:j})},V.prototype.lineTo=function(m,j){this.commands.push({type:"L",x:m,y:j})},V.prototype.curveTo=V.prototype.bezierCurveTo=function(m,j,M,L,G,W){this.commands.push({type:"C",x1:m,y1:j,x2:M,y2:L,x:G,y:W})},V.prototype.quadTo=V.prototype.quadraticCurveTo=function(m,j,M,L){this.commands.push({type:"Q",x1:m,y1:j,x:M,y:L})},V.prototype.close=V.prototype.closePath=function(){this.commands.push({type:"Z"})},V.prototype.extend=function(m){var j;if(m.commands)m=m.commands;else if(m instanceof O)return j=m,this.moveTo(j.x1,j.y1),this.lineTo(j.x2,j.y1),this.lineTo(j.x2,j.y2),this.lineTo(j.x1,j.y2),void this.close();Array.prototype.push.apply(this.commands,m)},V.prototype.getBoundingBox=function(){for(var m=new O,j=0,M=0,L=0,G=0,W=0;W<this.commands.length;W++){var Y=this.commands[W];switch(Y.type){case"M":m.addPoint(Y.x,Y.y),j=L=Y.x,M=G=Y.y;break;case"L":m.addPoint(Y.x,Y.y),L=Y.x,G=Y.y;break;case"Q":m.addQuad(L,G,Y.x1,Y.y1,Y.x,Y.y),L=Y.x,G=Y.y;break;case"C":m.addBezier(L,G,Y.x1,Y.y1,Y.x2,Y.y2,Y.x,Y.y),L=Y.x,G=Y.y;break;case"Z":L=j,G=M;break;default:throw new Error("Unexpected path command "+Y.type)}}return m.isEmpty()&&m.addPoint(0,0),m},V.prototype.draw=function(m){m.beginPath();for(var j=0;j<this.commands.length;j+=1){var M=this.commands[j];M.type==="M"?m.moveTo(M.x,M.y):M.type==="L"?m.lineTo(M.x,M.y):M.type==="C"?m.bezierCurveTo(M.x1,M.y1,M.x2,M.y2,M.x,M.y):M.type==="Q"?m.quadraticCurveTo(M.x1,M.y1,M.x,M.y):M.type==="Z"&&m.closePath()}this.fill&&(m.fillStyle=this.fill,m.fill()),this.stroke&&(m.strokeStyle=this.stroke,m.lineWidth=this.strokeWidth,m.stroke())},V.prototype.toPathData=function(m){function j(){for(var W=arguments,Y="",ie=0;ie<arguments.length;ie+=1){var ce=W[ie];0<=ce&&0<ie&&(Y+=" "),Y+=(ce=ce,Math.round(ce)===ce?""+Math.round(ce):ce.toFixed(m))}return Y}m=m!==void 0?m:2;for(var M="",L=0;L<this.commands.length;L+=1){var G=this.commands[L];G.type==="M"?M+="M"+j(G.x,G.y):G.type==="L"?M+="L"+j(G.x,G.y):G.type==="C"?M+="C"+j(G.x1,G.y1,G.x2,G.y2,G.x,G.y):G.type==="Q"?M+="Q"+j(G.x1,G.y1,G.x,G.y):G.type==="Z"&&(M+="Z")}return M},V.prototype.toSVG=function(m){var j=(j='<path d="')+this.toPathData(m)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?j+=' fill="none"':j+=' fill="'+this.fill+'"'),this.stroke&&(j+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),j+"/>"},V.prototype.toDOMElement=function(m){m=this.toPathData(m);var j=document.createElementNS("http://www.w3.org/2000/svg","path");return j.setAttribute("d",m),j};var Z={fail:q,argument:X,assert:X},re={},ee={},ae={};function z(m){return function(){return m}}ee.BYTE=function(m){return Z.argument(0<=m&&m<=255,"Byte value should be between 0 and 255."),[m]},ae.BYTE=z(1),ee.CHAR=function(m){return[m.charCodeAt(0)]},ae.CHAR=z(1),ee.CHARARRAY=function(m){for(var j=[],M=0;M<m.length;M+=1)j[M]=m.charCodeAt(M);return j},ae.CHARARRAY=function(m){return m.length},ee.USHORT=function(m){return[m>>8&255,255&m]},ae.USHORT=z(2),ee.SHORT=function(m){return[(m=32768<=m?-(65536-m):m)>>8&255,255&m]},ae.SHORT=z(2),ee.UINT24=function(m){return[m>>16&255,m>>8&255,255&m]},ae.UINT24=z(3),ee.ULONG=function(m){return[m>>24&255,m>>16&255,m>>8&255,255&m]},ae.ULONG=z(4),ee.LONG=function(m){return[(m=2147483648<=m?-(4294967296-m):m)>>24&255,m>>16&255,m>>8&255,255&m]},ae.LONG=z(4),ee.FIXED=ee.ULONG,ae.FIXED=ae.ULONG,ee.FWORD=ee.SHORT,ae.FWORD=ae.SHORT,ee.UFWORD=ee.USHORT,ae.UFWORD=ae.USHORT,ee.LONGDATETIME=function(m){return[0,0,0,0,m>>24&255,m>>16&255,m>>8&255,255&m]},ae.LONGDATETIME=z(8),ee.TAG=function(m){return Z.argument(m.length===4,"Tag should be exactly 4 ASCII characters."),[m.charCodeAt(0),m.charCodeAt(1),m.charCodeAt(2),m.charCodeAt(3)]},ae.TAG=z(4),ee.Card8=ee.BYTE,ae.Card8=ae.BYTE,ee.Card16=ee.USHORT,ae.Card16=ae.USHORT,ee.OffSize=ee.BYTE,ae.OffSize=ae.BYTE,ee.SID=ee.USHORT,ae.SID=ae.USHORT,ee.NUMBER=function(m){return-107<=m&&m<=107?[m+139]:108<=m&&m<=1131?[247+((m-=108)>>8),255&m]:-1131<=m&&m<=-108?[251+((m=-m-108)>>8),255&m]:-32768<=m&&m<=32767?ee.NUMBER16(m):ee.NUMBER32(m)},ae.NUMBER=function(m){return ee.NUMBER(m).length},ee.NUMBER16=function(m){return[28,m>>8&255,255&m]},ae.NUMBER16=z(3),ee.NUMBER32=function(m){return[29,m>>24&255,m>>16&255,m>>8&255,255&m]},ae.NUMBER32=z(5),ee.REAL=function(m){for(var j=m.toString(),M=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(j),L=(M&&(M=parseFloat("1e"+((M[2]?+M[2]:0)+M[1].length)),j=(Math.round(m*M)/M).toString()),""),G=0,W=j.length;G<W;G+=1){var Y=j[G];L+=Y==="e"?j[++G]==="-"?"c":"b":Y==="."?"a":Y==="-"?"e":Y}for(var ie=[30],ce=0,pe=(L+=1&L.length?"f":"ff").length;ce<pe;ce+=2)ie.push(parseInt(L.substr(ce,2),16));return ie},ae.REAL=function(m){return ee.REAL(m).length},ee.NAME=ee.CHARARRAY,ae.NAME=ae.CHARARRAY,ee.STRING=ee.CHARARRAY,ae.STRING=ae.CHARARRAY,re.UTF8=function(m,j,M){for(var L=[],G=M,W=0;W<G;W++,j+=1)L[W]=m.getUint8(j);return String.fromCharCode.apply(null,L)},re.UTF16=function(m,j,M){for(var L=[],G=M/2,W=0;W<G;W++,j+=2)L[W]=m.getUint16(j);return String.fromCharCode.apply(null,L)},ee.UTF16=function(m){for(var j=[],M=0;M<m.length;M+=1){var L=m.charCodeAt(M);j[j.length]=L>>8&255,j[j.length]=255&L}return j},ae.UTF16=function(m){return 2*m.length};var H,$={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},ne=(re.MACSTRING=function(m,j,M,L){var G=$[L];if(G!==void 0){for(var W="",Y=0;Y<M;Y++){var ie=m.getUint8(j+Y);W+=ie<=127?String.fromCharCode(ie):G[127&ie]}return W}},typeof WeakMap=="function"&&new WeakMap);function oe(m){return-128<=m&&m<=127}ee.MACSTRING=function(m,j){var M=function(Y){if(!H)for(var ie in H={},$)H[ie]=new String(ie);var ce=H[Y];if(ce!==void 0){if(ne){var pe=ne.get(ce);if(pe!==void 0)return pe}var xe=$[Y];if(xe!==void 0){for(var Me={},Ce=0;Ce<xe.length;Ce++)Me[xe.charCodeAt(Ce)]=Ce+128;return ne&&ne.set(ce,Me),Me}}}(j);if(M!==void 0){for(var L=[],G=0;G<m.length;G++){var W=m.charCodeAt(G);if(128<=W&&(W=M[W])===void 0)return;L[G]=W}return L}},ae.MACSTRING=function(m,j){return(m=ee.MACSTRING(m,j))!==void 0?m.length:0},ee.VARDELTAS=function(m){for(var j=0,M=[];j<m.length;){var L=m[j];j=(L===0?function(G,W,Y){for(var ie=0,ce=G.length;W<ce&&ie<64&&G[W]===0;)++W,++ie;return Y.push(128|ie-1),W}:-128<=L&&L<=127?function(G,W,Y){for(var ie=0,ce=G.length,pe=W;pe<ce&&ie<64;){var xe=G[pe];if(!oe(xe)||xe===0&&pe+1<ce&&G[pe+1]===0)break;++pe,++ie}Y.push(ie-1);for(var Me=W;Me<pe;++Me)Y.push(G[Me]+256&255);return pe}:function(G,W,Y){for(var ie=0,ce=G.length,pe=W;pe<ce&&ie<64;){var xe=G[pe];if(xe===0||oe(xe)&&pe+1<ce&&oe(G[pe+1]))break;++pe,++ie}Y.push(64|ie-1);for(var Me=W;Me<pe;++Me){var Ce=G[Me];Y.push(Ce+65536>>8&255,Ce+256&255)}return pe})(m,j,M)}return M},ee.INDEX=function(m){for(var j=1,M=[j],L=[],G=0;G<m.length;G+=1){var W=ee.OBJECT(m[G]);Array.prototype.push.apply(L,W),j+=W.length,M.push(j)}if(L.length===0)return[0,0];for(var Y=[],ie=1+Math.floor(Math.log(j)/Math.log(2))/8|0,ce=[void 0,ee.BYTE,ee.USHORT,ee.UINT24,ee.ULONG][ie],pe=0;pe<M.length;pe+=1){var xe=ce(M[pe]);Array.prototype.push.apply(Y,xe)}return Array.prototype.concat(ee.Card16(m.length),ee.OffSize(ie),Y,L)},ae.INDEX=function(m){return ee.INDEX(m).length},ee.DICT=function(m){for(var j=[],M=Object.keys(m),L=M.length,G=0;G<L;G+=1){var W=parseInt(M[G],0),Y=m[W];j=(j=j.concat(ee.OPERAND(Y.value,Y.type))).concat(ee.OPERATOR(W))}return j},ae.DICT=function(m){return ee.DICT(m).length},ee.OPERATOR=function(m){return m<1200?[m]:[12,m-1200]},ee.OPERAND=function(m,j){var M=[];if(Array.isArray(j))for(var L=0;L<j.length;L+=1)Z.argument(m.length===j.length,"Not enough arguments given for type"+j),M=M.concat(ee.OPERAND(m[L],j[L]));else if(j==="SID")M=M.concat(ee.NUMBER(m));else if(j==="offset")M=M.concat(ee.NUMBER32(m));else if(j==="number")M=M.concat(ee.NUMBER(m));else{if(j!=="real")throw new Error("Unknown operand type "+j);M=M.concat(ee.REAL(m))}return M},ee.OP=ee.BYTE,ae.OP=ae.BYTE;var le=typeof WeakMap=="function"&&new WeakMap;function Q(m,j,M){for(var L=0;L<j.length;L+=1){var G=j[L];this[G.name]=G.value}if(this.tableName=m,this.fields=j,M)for(var W=Object.keys(M),Y=0;Y<W.length;Y+=1){var ie=W[Y],ce=M[ie];this[ie]!==void 0&&(this[ie]=ce)}}function se(m,j,M){M===void 0&&(M=j.length);var L=new Array(j.length+1);L[0]={name:m+"Count",type:"USHORT",value:M};for(var G=0;G<j.length;G++)L[G+1]={name:m+G,type:"USHORT",value:j[G]};return L}function ye(m,j,M){var L=j.length,G=new Array(L+1);G[0]={name:m+"Count",type:"USHORT",value:L};for(var W=0;W<L;W++)G[W+1]={name:m+W,type:"TABLE",value:M(j[W],W)};return G}function me(m,j,M){var L=j.length,G=[];G[0]={name:m+"Count",type:"USHORT",value:L};for(var W=0;W<L;W++)G=G.concat(M(j[W],W));return G}function he(m){m.format===1?Q.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(se("glyph",m.glyphs))):Z.assert(!1,"Can't create coverage table format 2 yet.")}function be(m){Q.call(this,"scriptListTable",me("scriptRecord",m,function(j,M){var L=j.script,G=L.defaultLangSys;return Z.assert(!!G,"Unable to write GSUB: script "+j.tag+" has no default language system."),[{name:"scriptTag"+M,type:"TAG",value:j.tag},{name:"script"+M,type:"TABLE",value:new Q("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Q("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:G.reqFeatureIndex}].concat(se("featureIndex",G.featureIndexes)))}].concat(me("langSys",L.langSysRecords,function(W,Y){var ie=W.langSys;return[{name:"langSysTag"+Y,type:"TAG",value:W.tag},{name:"langSys"+Y,type:"TABLE",value:new Q("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ie.reqFeatureIndex}].concat(se("featureIndex",ie.featureIndexes)))}]})))}]}))}function Ue(m){Q.call(this,"featureListTable",me("featureRecord",m,function(j,M){var L=j.feature;return[{name:"featureTag"+M,type:"TAG",value:j.tag},{name:"feature"+M,type:"TABLE",value:new Q("featureTable",[{name:"featureParams",type:"USHORT",value:L.featureParams}].concat(se("lookupListIndex",L.lookupListIndexes)))}]}))}function Ne(m,j){Q.call(this,"lookupListTable",ye("lookup",m,function(M){var L=j[M.lookupType];return Z.assert(!!L,"Unable to write GSUB lookup type "+M.lookupType+" tables."),new Q("lookupTable",[{name:"lookupType",type:"USHORT",value:M.lookupType},{name:"lookupFlag",type:"USHORT",value:M.lookupFlag}].concat(ye("subtable",M.subtables,L)))}))}ee.CHARSTRING=function(m){if(le){var j=le.get(m);if(j!==void 0)return j}for(var M=[],L=m.length,G=0;G<L;G+=1){var W=m[G];M=M.concat(ee[W.type](W.value))}return le&&le.set(m,M),M},ae.CHARSTRING=function(m){return ee.CHARSTRING(m).length},ee.OBJECT=function(m){var j=ee[m.type];return Z.argument(j!==void 0,"No encoding function for type "+m.type),j(m.value)},ae.OBJECT=function(m){var j=ae[m.type];return Z.argument(j!==void 0,"No sizeOf function for type "+m.type),j(m.value)},ee.TABLE=function(m){for(var j=[],M=m.fields.length,L=[],G=[],W=0;W<M;W+=1){var Y=m.fields[W],ie=ee[Y.type],ce=(Z.argument(ie!==void 0,"No encoding function for field type "+Y.type+" ("+Y.name+")"),m[Y.name]);ie=ie(ce=ce===void 0?Y.value:ce),Y.type==="TABLE"?(G.push(j.length),j=j.concat([0,0]),L.push(ie)):j=j.concat(ie)}for(var pe=0;pe<L.length;pe+=1){var xe=G[pe],Me=j.length;Z.argument(Me<65536,"Table "+m.tableName+" too big."),j[xe]=Me>>8,j[xe+1]=255&Me,j=j.concat(L[pe])}return j},ae.TABLE=function(m){for(var j=0,M=m.fields.length,L=0;L<M;L+=1){var G=m.fields[L],W=ae[G.type],Y=(Z.argument(W!==void 0,"No sizeOf function for field type "+G.type+" ("+G.name+")"),m[G.name]);j+=W(Y=Y===void 0?G.value:Y),G.type==="TABLE"&&(j+=2)}return j},ee.RECORD=ee.TABLE,ae.RECORD=ae.TABLE,ee.LITERAL=function(m){return m},ae.LITERAL=function(m){return m.length},Q.prototype.encode=function(){return ee.TABLE(this)},Q.prototype.sizeOf=function(){return ae.TABLE(this)};var Ee={Table:Q,Record:Q,Coverage:(he.prototype=Object.create(Q.prototype)).constructor=he,ScriptList:(be.prototype=Object.create(Q.prototype)).constructor=be,FeatureList:(Ue.prototype=Object.create(Q.prototype)).constructor=Ue,LookupList:(Ne.prototype=Object.create(Q.prototype)).constructor=Ne,ushortList:se,tableList:ye,recordList:me};function Te(m,j){return m.getUint8(j)}function qe(m,j){return m.getUint16(j,!1)}function $e(m,j){return m.getUint32(j,!1)}function pt(m,j){return m.getInt16(j,!1)+m.getUint16(j+2,!1)/65535}var rt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function fe(m,j){this.data=m,this.offset=j,this.relativeOffset=0}fe.prototype.parseByte=function(){var m=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,m},fe.prototype.parseChar=function(){var m=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,m},fe.prototype.parseCard8=fe.prototype.parseByte,fe.prototype.parseCard16=fe.prototype.parseUShort=function(){var m=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,m},fe.prototype.parseSID=fe.prototype.parseUShort,fe.prototype.parseOffset16=fe.prototype.parseUShort,fe.prototype.parseShort=function(){var m=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,m},fe.prototype.parseF2Dot14=function(){var m=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,m},fe.prototype.parseOffset32=fe.prototype.parseULong=function(){var m=$e(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,m},fe.prototype.parseFixed=function(){var m=pt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,m},fe.prototype.parseString=function(m){var j=this.data,M=this.offset+this.relativeOffset,L="";this.relativeOffset+=m;for(var G=0;G<m;G++)L+=String.fromCharCode(j.getUint8(M+G));return L},fe.prototype.parseTag=function(){return this.parseString(4)},fe.prototype.parseLongDateTime=function(){var m=$e(this.data,this.offset+this.relativeOffset+4);return m-=2082844800,this.relativeOffset+=8,m},fe.prototype.parseVersion=function(m){var j=qe(this.data,this.offset+this.relativeOffset),M=qe(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,j+M/(m=m===void 0?4096:m)/10},fe.prototype.skip=function(m,j){this.relativeOffset+=rt[m]*(j=j===void 0?1:j)},fe.prototype.parseULongList=function(m){m===void 0&&(m=this.parseULong());for(var j=new Array(m),M=this.data,L=this.offset+this.relativeOffset,G=0;G<m;G++)j[G]=M.getUint32(L),L+=4;return this.relativeOffset+=4*m,j},fe.prototype.parseOffset16List=fe.prototype.parseUShortList=function(m){m===void 0&&(m=this.parseUShort());for(var j=new Array(m),M=this.data,L=this.offset+this.relativeOffset,G=0;G<m;G++)j[G]=M.getUint16(L),L+=2;return this.relativeOffset+=2*m,j},fe.prototype.parseShortList=function(m){for(var j=new Array(m),M=this.data,L=this.offset+this.relativeOffset,G=0;G<m;G++)j[G]=M.getInt16(L),L+=2;return this.relativeOffset+=2*m,j},fe.prototype.parseByteList=function(m){for(var j=new Array(m),M=this.data,L=this.offset+this.relativeOffset,G=0;G<m;G++)j[G]=M.getUint8(L++);return this.relativeOffset+=m,j},fe.prototype.parseList=function(m,j){j||(j=m,m=this.parseUShort());for(var M=new Array(m),L=0;L<m;L++)M[L]=j.call(this);return M},fe.prototype.parseList32=function(m,j){j||(j=m,m=this.parseULong());for(var M=new Array(m),L=0;L<m;L++)M[L]=j.call(this);return M},fe.prototype.parseRecordList=function(m,j){j||(j=m,m=this.parseUShort());for(var M=new Array(m),L=Object.keys(j),G=0;G<m;G++){for(var W={},Y=0;Y<L.length;Y++){var ie=L[Y],ce=j[ie];W[ie]=ce.call(this)}M[G]=W}return M},fe.prototype.parseRecordList32=function(m,j){j||(j=m,m=this.parseULong());for(var M=new Array(m),L=Object.keys(j),G=0;G<m;G++){for(var W={},Y=0;Y<L.length;Y++){var ie=L[Y],ce=j[ie];W[ie]=ce.call(this)}M[G]=W}return M},fe.prototype.parseStruct=function(m){if(typeof m=="function")return m.call(this);for(var j=Object.keys(m),M={},L=0;L<j.length;L++){var G=j[L],W=m[G];M[G]=W.call(this)}return M},fe.prototype.parseValueRecord=function(m){var j;if((m=m===void 0?this.parseUShort():m)!==0)return j={},1&m&&(j.xPlacement=this.parseShort()),2&m&&(j.yPlacement=this.parseShort()),4&m&&(j.xAdvance=this.parseShort()),8&m&&(j.yAdvance=this.parseShort()),16&m&&(j.xPlaDevice=void 0,this.parseShort()),32&m&&(j.yPlaDevice=void 0,this.parseShort()),64&m&&(j.xAdvDevice=void 0,this.parseShort()),128&m&&(j.yAdvDevice=void 0,this.parseShort()),j},fe.prototype.parseValueRecordList=function(){for(var m=this.parseUShort(),j=this.parseUShort(),M=new Array(j),L=0;L<j;L++)M[L]=this.parseValueRecord(m);return M},fe.prototype.parsePointer=function(m){var j=this.parseOffset16();if(0<j)return new fe(this.data,this.offset+j).parseStruct(m)},fe.prototype.parsePointer32=function(m){var j=this.parseOffset32();if(0<j)return new fe(this.data,this.offset+j).parseStruct(m)},fe.prototype.parseListOfLists=function(m){for(var j=this.parseOffset16List(),M=j.length,L=this.relativeOffset,G=new Array(M),W=0;W<M;W++){var Y=j[W];if(Y===0)G[W]=void 0;else if(this.relativeOffset=Y,m){for(var ie=this.parseOffset16List(),ce=new Array(ie.length),pe=0;pe<ie.length;pe++)this.relativeOffset=Y+ie[pe],ce[pe]=m.call(this);G[W]=ce}else G[W]=this.parseUShortList()}return this.relativeOffset=L,G},fe.prototype.parseCoverage=function(){var m=this.offset+this.relativeOffset,j=this.parseUShort(),M=this.parseUShort();if(j===1)return{format:1,glyphs:this.parseUShortList(M)};if(j!==2)throw new Error("0x"+m.toString(16)+": Coverage format must be 1 or 2.");for(var L=new Array(M),G=0;G<M;G++)L[G]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:L}},fe.prototype.parseClassDef=function(){var m=this.offset+this.relativeOffset,j=this.parseUShort();if(j===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(j===2)return{format:2,ranges:this.parseRecordList({start:fe.uShort,end:fe.uShort,classId:fe.uShort})};throw new Error("0x"+m.toString(16)+": ClassDef format must be 1 or 2.")},fe.list=function(m,j){return function(){return this.parseList(m,j)}},fe.list32=function(m,j){return function(){return this.parseList32(m,j)}},fe.recordList=function(m,j){return function(){return this.parseRecordList(m,j)}},fe.recordList32=function(m,j){return function(){return this.parseRecordList32(m,j)}},fe.pointer=function(m){return function(){return this.parsePointer(m)}},fe.pointer32=function(m){return function(){return this.parsePointer32(m)}},fe.tag=fe.prototype.parseTag,fe.byte=fe.prototype.parseByte,fe.uShort=fe.offset16=fe.prototype.parseUShort,fe.uShortList=fe.prototype.parseUShortList,fe.uLong=fe.offset32=fe.prototype.parseULong,fe.uLongList=fe.prototype.parseULongList,fe.struct=fe.prototype.parseStruct,fe.coverage=fe.prototype.parseCoverage,fe.classDef=fe.prototype.parseClassDef;var Ae={reserved:fe.uShort,reqFeatureIndex:fe.uShort,featureIndexes:fe.uShortList},Pe=(fe.prototype.parseScriptList=function(){return this.parsePointer(fe.recordList({tag:fe.tag,script:fe.pointer({defaultLangSys:fe.pointer(Ae),langSysRecords:fe.recordList({tag:fe.tag,langSys:fe.pointer(Ae)})})}))||[]},fe.prototype.parseFeatureList=function(){return this.parsePointer(fe.recordList({tag:fe.tag,feature:fe.pointer({featureParams:fe.offset16,lookupListIndexes:fe.uShortList})}))||[]},fe.prototype.parseLookupList=function(m){return this.parsePointer(fe.list(fe.pointer(function(){var j=this.parseUShort(),M=(Z.argument(1<=j&&j<=9,"GPOS/GSUB lookup type "+j+" unknown."),this.parseUShort()),L=16&M;return{lookupType:j,lookupFlag:M,subtables:this.parseList(fe.pointer(m[j])),markFilteringSet:L?this.parseUShort():void 0}})))||[]},fe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var m=this.parseUShort(),j=this.parseUShort();return Z.argument(m===1&&j<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:fe.offset32,featureTableSubstitutionOffset:fe.offset32})})||[]},{getByte:Te,getCard8:Te,getUShort:qe,getCard16:qe,getShort:function(m,j){return m.getInt16(j,!1)},getULong:$e,getFixed:pt,getTag:function(m,j){for(var M="",L=j;L<j+4;L+=1)M+=String.fromCharCode(m.getInt8(L));return M},getOffset:function(m,j,M){for(var L=0,G=0;G<M;G+=1)L=(L<<=8)+m.getUint8(j+G);return L},getBytes:function(m,j,M){for(var L=[],G=j;G<M;G+=1)L.push(m.getUint8(G));return L},bytesToString:function(m){for(var j="",M=0;M<m.length;M+=1)j+=String.fromCharCode(m[M]);return j},Parser:fe}),He=function(m,j){for(var M={},L=(M.version=Pe.getUShort(m,j),Z.argument(M.version===0,"cmap table version should be 0."),M.numTables=Pe.getUShort(m,j+2),-1),G=M.numTables-1;0<=G;--G){var W=Pe.getUShort(m,j+4+8*G),Y=Pe.getUShort(m,j+4+8*G+2);if(W===3&&(Y===0||Y===1||Y===10)||W===0&&(Y===0||Y===1||Y===2||Y===3||Y===4)){L=Pe.getULong(m,j+4+8*G+4);break}}if(L===-1)throw new Error("No valid cmap sub-tables found.");var ie=new Pe.Parser(m,j+L);if(M.format=ie.parseUShort(),M.format===12){var ce,pe=M,xe=ie;xe.parseUShort(),pe.length=xe.parseULong(),pe.language=xe.parseULong(),pe.groupCount=ce=xe.parseULong(),pe.glyphIndexMap={};for(var Me=0;Me<ce;Me+=1)for(var Ce=xe.parseULong(),ge=xe.parseULong(),Xe=xe.parseULong(),Re=Ce;Re<=ge;Re+=1)pe.glyphIndexMap[Re]=Xe,Xe++}else{if(M.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+M.format+").");var Fe=M,Le=m,Be=j,ct=L;Fe.length=ie.parseUShort(),Fe.language=ie.parseUShort(),Fe.segCount=ut=ie.parseUShort()>>1,ie.skip("uShort",3),Fe.glyphIndexMap={};for(var ut,dt=new Pe.Parser(Le,Be+ct+14),It=new Pe.Parser(Le,Be+ct+16+2*ut),Ft=new Pe.Parser(Le,Be+ct+16+4*ut),qt=new Pe.Parser(Le,Be+ct+16+6*ut),lr=Be+ct+16+8*ut,or=0;or<ut-1;or+=1)for(var Yt=void 0,Pt=dt.parseUShort(),_r=It.parseUShort(),pr=Ft.parseShort(),yr=qt.parseUShort(),Xt=_r;Xt<=Pt;Xt+=1)yr!==0?(lr=(lr=qt.offset+qt.relativeOffset-2)+yr+2*(Xt-_r),(Yt=Pe.getUShort(Le,lr))!==0&&(Yt=Yt+pr&65535)):Yt=Xt+pr&65535,Fe.glyphIndexMap[Xt]=Yt}return M},Je=function(m){for(var j=!0,M=m.length-1;0<M;--M)if(65535<m.get(M).unicode){console.log("Adding CMAP format 12 (needed!)"),j=!1;break}var L,G,W=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:j?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:j?12:20}],Y=(W=(W=j?W:W.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ee.Table("cmap",W));for(Y.segments=[],M=0;M<m.length;M+=1){for(var ie=m.get(M),ce=0;ce<ie.unicodes.length;ce+=1)L=ie.unicodes[ce],G=M,Y.segments.push({end:L,start:L,delta:-(L-G),offset:0,glyphIndex:G});Y.segments=Y.segments.sort(function(Be,ct){return Be.start-ct.start})}Y.segments.push({end:65535,start:65535,delta:1,offset:0});var pe=Y.segments.length,xe=0,Me=[],Ce=[],ge=[],Xe=[],Re=[],Fe=[];for(M=0;M<pe;M+=1){var Le=Y.segments[M];Le.end<=65535&&Le.start<=65535?(Me=Me.concat({name:"end_"+M,type:"USHORT",value:Le.end}),Ce=Ce.concat({name:"start_"+M,type:"USHORT",value:Le.start}),ge=ge.concat({name:"idDelta_"+M,type:"SHORT",value:Le.delta}),Xe=Xe.concat({name:"idRangeOffset_"+M,type:"USHORT",value:Le.offset}),Le.glyphId!==void 0&&(Re=Re.concat({name:"glyph_"+M,type:"USHORT",value:Le.glyphId}))):xe+=1,j||Le.glyphIndex===void 0||(Fe=(Fe=(Fe=Fe.concat({name:"cmap12Start_"+M,type:"ULONG",value:Le.start})).concat({name:"cmap12End_"+M,type:"ULONG",value:Le.end})).concat({name:"cmap12Glyph_"+M,type:"ULONG",value:Le.glyphIndex}))}return Y.segCountX2=2*(pe-xe),Y.searchRange=2*Math.pow(2,Math.floor(Math.log(pe-xe)/Math.log(2))),Y.entrySelector=Math.log(Y.searchRange/2)/Math.log(2),Y.rangeShift=Y.segCountX2-Y.searchRange,Y.fields=Y.fields.concat(Me),Y.fields.push({name:"reservedPad",type:"USHORT",value:0}),Y.fields=Y.fields.concat(Ce),Y.fields=Y.fields.concat(ge),Y.fields=Y.fields.concat(Xe),Y.fields=Y.fields.concat(Re),Y.cmap4Length=14+2*Me.length+2+2*Ce.length+2*ge.length+2*Xe.length+2*Re.length,j||(W=16+4*Fe.length,Y.cmap12Offset=20+Y.cmap4Length,Y.fields=Y.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:W},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Fe.length/3}]),Y.fields=Y.fields.concat(Fe)),Y},yt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],it=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],at=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],J=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function K(m){this.font=m}function te(m){this.cmap=m}function ue(m,j){this.encoding=m,this.charset=j}function we(m){switch(m.version){case 1:this.names=J.slice();break;case 2:this.names=new Array(m.numberOfGlyphs);for(var j=0;j<m.numberOfGlyphs;j++)m.glyphNameIndex[j]<J.length?this.names[j]=J[m.glyphNameIndex[j]]:this.names[j]=m.names[m.glyphNameIndex[j]-J.length];break;case 2.5:this.names=new Array(m.numberOfGlyphs);for(var M=0;M<m.numberOfGlyphs;M++)this.names[M]=J[M+m.glyphNameIndex[M]];break;default:this.names=[]}}K.prototype.charToGlyphIndex=function(m){var j=m.codePointAt(0),M=this.font.glyphs;if(M){for(var L=0;L<M.length;L+=1)for(var G=M.get(L),W=0;W<G.unicodes.length;W+=1)if(G.unicodes[W]===j)return L}return null},te.prototype.charToGlyphIndex=function(m){return this.cmap.glyphIndexMap[m.codePointAt(0)]||0},ue.prototype.charToGlyphIndex=function(m){return m=m.codePointAt(0),m=this.encoding[m],this.charset.indexOf(m)},we.prototype.nameToGlyphIndex=function(m){return this.names.indexOf(m)},we.prototype.glyphIndexToName=function(m){return this.names[m]};var Oe=function(m,j,M,L,G){m.beginPath(),m.moveTo(j,M),m.lineTo(L,G),m.stroke()};function Ye(m){this.bindConstructorValues(m)}function We(m,j,M){Object.defineProperty(m,j,{get:function(){return m.path,m[M]},set:function(L){m[M]=L},enumerable:!0,configurable:!0})}function je(m,j){if(this.font=m,this.glyphs={},Array.isArray(j))for(var M=0;M<j.length;M++)this.glyphs[M]=j[M];this.length=j&&j.length||0}Ye.prototype.bindConstructorValues=function(m){var j;this.index=m.index||0,this.name=m.name||null,this.unicode=m.unicode||void 0,this.unicodes=m.unicodes||m.unicode!==void 0?[m.unicode]:[],m.xMin&&(this.xMin=m.xMin),m.yMin&&(this.yMin=m.yMin),m.xMax&&(this.xMax=m.xMax),m.yMax&&(this.yMax=m.yMax),m.advanceWidth&&(this.advanceWidth=m.advanceWidth),Object.defineProperty(this,"path",(m=m.path,j=m||new V,{configurable:!0,get:function(){return j=typeof j=="function"?j():j},set:function(M){j=M}}))},Ye.prototype.addUnicode=function(m){this.unicodes.length===0&&(this.unicode=m),this.unicodes.push(m)},Ye.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Ye.prototype.getPath=function(m,j,M,L,G){m=m!==void 0?m:0,j=j!==void 0?j:0,M=M!==void 0?M:72;for(var W,Y,ie=(L=L||{}).xScale,ce=L.yScale,pe=((W=L.hinting&&G&&G.hinting?this.path&&G.hinting.exec(this,M):W)?(Y=G.hinting.getCommands(W),m=Math.round(m),j=Math.round(j),ie=ce=1):(Y=this.path.commands,L=1/this.path.unitsPerEm*M,ie===void 0&&(ie=L),ce===void 0&&(ce=L)),new V),xe=0;xe<Y.length;xe+=1){var Me=Y[xe];Me.type==="M"?pe.moveTo(m+Me.x*ie,j+-Me.y*ce):Me.type==="L"?pe.lineTo(m+Me.x*ie,j+-Me.y*ce):Me.type==="Q"?pe.quadraticCurveTo(m+Me.x1*ie,j+-Me.y1*ce,m+Me.x*ie,j+-Me.y*ce):Me.type==="C"?pe.curveTo(m+Me.x1*ie,j+-Me.y1*ce,m+Me.x2*ie,j+-Me.y2*ce,m+Me.x*ie,j+-Me.y*ce):Me.type==="Z"&&pe.closePath()}return pe},Ye.prototype.getContours=function(){if(this.points===void 0)return[];for(var m=[],j=[],M=0;M<this.points.length;M+=1){var L=this.points[M];j.push(L),L.lastPointOfContour&&(m.push(j),j=[])}return Z.argument(j.length===0,"There are still points left in the current contour."),m},Ye.prototype.getMetrics=function(){for(var m=this.path.commands,j=[],M=[],L=0;L<m.length;L+=1){var G=m[L];G.type!=="Z"&&(j.push(G.x),M.push(G.y)),G.type!=="Q"&&G.type!=="C"||(j.push(G.x1),M.push(G.y1)),G.type==="C"&&(j.push(G.x2),M.push(G.y2))}var W={xMin:Math.min.apply(null,j),yMin:Math.min.apply(null,M),xMax:Math.max.apply(null,j),yMax:Math.max.apply(null,M),leftSideBearing:this.leftSideBearing};return isFinite(W.xMin)||(W.xMin=0),isFinite(W.xMax)||(W.xMax=this.advanceWidth),isFinite(W.yMin)||(W.yMin=0),isFinite(W.yMax)||(W.yMax=0),W.rightSideBearing=this.advanceWidth-W.leftSideBearing-(W.xMax-W.xMin),W},Ye.prototype.draw=function(m,j,M,L,G){this.getPath(j,M,L,G).draw(m)},Ye.prototype.drawPoints=function(m,j,M,L){function G(xe,Me,Ce,ge){var Xe=2*Math.PI;m.beginPath();for(var Re=0;Re<xe.length;Re+=1)m.moveTo(Me+xe[Re].x*ge,Ce+xe[Re].y*ge),m.arc(Me+xe[Re].x*ge,Ce+xe[Re].y*ge,2,0,Xe,!1);m.closePath(),m.fill()}j=j!==void 0?j:0,M=M!==void 0?M:0,L=1/this.path.unitsPerEm*(L=L!==void 0?L:24);for(var W=[],Y=[],ie=this.path,ce=0;ce<ie.commands.length;ce+=1){var pe=ie.commands[ce];pe.x!==void 0&&W.push({x:pe.x,y:-pe.y}),pe.x1!==void 0&&Y.push({x:pe.x1,y:-pe.y1}),pe.x2!==void 0&&Y.push({x:pe.x2,y:-pe.y2})}m.fillStyle="blue",G(W,j,M,L),m.fillStyle="red",G(Y,j,M,L)},Ye.prototype.drawMetrics=function(m,j,M,L){j=j!==void 0?j:0,M=M!==void 0?M:0,L=1/this.path.unitsPerEm*(L=L!==void 0?L:24),m.lineWidth=1,m.strokeStyle="black",Oe(m,j,-1e4,j,1e4),Oe(m,-1e4,M,1e4,M);var G=this.xMin||0,W=this.yMin||0,Y=this.xMax||0,ie=this.yMax||0,ce=this.advanceWidth||0;m.strokeStyle="blue",Oe(m,j+G*L,-1e4,j+G*L,1e4),Oe(m,j+Y*L,-1e4,j+Y*L,1e4),Oe(m,-1e4,M+-W*L,1e4,M+-W*L),Oe(m,-1e4,M+-ie*L,1e4,M+-ie*L),m.strokeStyle="green",Oe(m,j+ce*L,-1e4,j+ce*L,1e4)},je.prototype.get=function(m){return typeof this.glyphs[m]=="function"&&(this.glyphs[m]=this.glyphs[m]()),this.glyphs[m]},je.prototype.push=function(m,j){this.glyphs[m]=j,this.length++};var Ze={GlyphSet:je,glyphLoader:function(m,j){return new Ye({index:j,font:m})},ttfGlyphLoader:function(m,j,M,L,G,W){return function(){var Y=new Ye({index:j,font:m});return Y.path=function(){M(Y,L,G);var ie=W(m.glyphs,Y);return ie.unitsPerEm=m.unitsPerEm,ie},We(Y,"xMin","_xMin"),We(Y,"xMax","_xMax"),We(Y,"yMin","_yMin"),We(Y,"yMax","_yMax"),Y}},cffGlyphLoader:function(m,j,M,L){return function(){var G=new Ye({index:j,font:m});return G.path=function(){var W=M(m,G,L);return W.unitsPerEm=m.unitsPerEm,W},G}}};function st(m){return m=m.length<1240?107:m.length<33900?1131:32768}function At(m,j,M){var L,G=[],W=[],Y=Pe.getCard16(m,j);if(Y!==0){for(var ie=Pe.getByte(m,j+2),ce=j+(Y+1)*ie+2,pe=j+3,xe=0;xe<Y+1;xe+=1)G.push(Pe.getOffset(m,pe,ie)),pe+=ie;L=ce+G[Y]}else L=j+2;for(var Me=0;Me<G.length-1;Me+=1){var Ce=Pe.getBytes(m,ce+G[Me],ce+G[Me+1]);M&&(Ce=M(Ce)),W.push(Ce)}return{objects:W,startOffset:j,endOffset:L}}function Rt(m,j){if(j===28)return m.parseByte()<<8|m.parseByte();if(j===29)return m.parseByte()<<24|m.parseByte()<<16|m.parseByte()<<8|m.parseByte();if(j===30){for(var M=m,L="",G=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var W=(Y=M.parseByte())>>4,Y=15&Y;if(W==15||(L+=G[W],Y==15))break;L+=G[Y]}return parseFloat(L)}if(32<=j&&j<=246)return j-139;if(247<=j&&j<=250)return 256*(j-247)+m.parseByte()+108;if(251<=j&&j<=254)return 256*-(j-251)-m.parseByte()-108;throw new Error("Invalid b0 "+j)}function Ot(m,j,M){var L=new Pe.Parser(m,j=j!==void 0?j:0),G=[],W=[];for(M=M!==void 0?M:m.length;L.relativeOffset<M;){var Y=L.parseByte();Y<=21?(Y===12&&(Y=1200+L.parseByte()),G.push([Y,W]),W=[]):W.push(Rt(L,Y))}for(var ie=G,ce={},pe=0;pe<ie.length;pe+=1){var xe=ie[pe][0],Me=ie[pe][1],Ce=Me.length===1?Me[0]:Me;if(ce.hasOwnProperty(xe)&&!isNaN(ce[xe]))throw new Error("Object "+ce+" already has key "+xe);ce[xe]=Ce}return ce}function Tt(m,j){return j<=390?yt[j]:m[j-391]}function St(m,j,M){for(var L,G={},W=0;W<j.length;W+=1){var Y=j[W];if(Array.isArray(Y.type)){var ie=[];ie.length=Y.type.length;for(var ce=0;ce<Y.type.length;ce++)(L=m[Y.op]!==void 0?m[Y.op][ce]:void 0)===void 0&&(L=Y.value!==void 0&&Y.value[ce]!==void 0?Y.value[ce]:null),Y.type[ce]==="SID"&&(L=Tt(M,L)),ie[ce]=L;G[Y.name]=ie}else(L=m[Y.op])===void 0&&(L=Y.value!==void 0?Y.value:null),Y.type==="SID"&&(L=Tt(M,L)),G[Y.name]=L}return G}var Ut=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Vt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Sr(m,j,M,L){return St(Ot(m,j,M),Vt,L)}function Ht(m,j,M,L){for(var G=[],W=0;W<M.length;W+=1){var Y,ie=((Y=(ie=L,St(Ot(Y=new DataView(new Uint8Array(M[W]).buffer),0,Y.byteLength),Ut,ie)))._subrs=[],Y._subrsBias=0,Y.private[0]),ce=Y.private[1];ie!==0&&ce!==0&&(ie=Sr(m,ce+j,ie,L),Y._defaultWidthX=ie.defaultWidthX,Y._nominalWidthX=ie.nominalWidthX,ie.subrs!==0&&(ce=At(m,ce+ie.subrs+j),Y._subrs=ce.objects,Y._subrsBias=st(Y._subrs)),Y._privateDict=ie),G.push(Y)}return G}function _e(m,j,M){var L,G,W,Y,ie,ce,pe,xe,Me,Ce=new V,ge=[],Xe=0,Re=!1,Fe=!1,Le=0,Be=0,ct=(Me=(m.isCIDFont?(ie=m.tables.cff.topDict._fdSelect[j.index],ie=m.tables.cff.topDict._fdArray[ie],ce=ie._subrs,pe=ie._subrsBias,xe=ie._defaultWidthX,ie):(ce=m.tables.cff.topDict._subrs,pe=m.tables.cff.topDict._subrsBias,xe=m.tables.cff.topDict._defaultWidthX,m.tables.cff.topDict))._nominalWidthX,xe);function ut(It,Ft){Fe&&Ce.closePath(),Ce.moveTo(It,Ft),Fe=!0}function dt(){ge.length%2==0||Re||(ct=ge.shift()+Me),Xe+=ge.length>>1,ge.length=0,Re=!0}return function It(Ft){for(var qt,lr,or,Yt,Pt,_r,pr,yr,Xt,Er,wr,Dr,sr=0;sr<Ft.length;){var Tr=Ft[sr];switch(sr+=1,Tr){case 1:case 3:dt();break;case 4:1<ge.length&&!Re&&(ct=ge.shift()+Me,Re=!0),Be+=ge.pop(),ut(Le,Be);break;case 5:for(;0<ge.length;)Le+=ge.shift(),Be+=ge.shift(),Ce.lineTo(Le,Be);break;case 6:for(;0<ge.length&&(Le+=ge.shift(),Ce.lineTo(Le,Be),ge.length!==0);)Be+=ge.shift(),Ce.lineTo(Le,Be);break;case 7:for(;0<ge.length&&(Be+=ge.shift(),Ce.lineTo(Le,Be),ge.length!==0);)Le+=ge.shift(),Ce.lineTo(Le,Be);break;case 8:for(;0<ge.length;)L=Le+ge.shift(),G=Be+ge.shift(),W=L+ge.shift(),Y=G+ge.shift(),Le=W+ge.shift(),Be=Y+ge.shift(),Ce.curveTo(L,G,W,Y,Le,Be);break;case 10:Pt=ge.pop()+pe,(_r=ce[Pt])&&It(_r);break;case 11:return;case 12:switch(Tr=Ft[sr],sr+=1,Tr){case 35:L=Le+ge.shift(),G=Be+ge.shift(),W=L+ge.shift(),Y=G+ge.shift(),pr=W+ge.shift(),yr=Y+ge.shift(),Xt=pr+ge.shift(),Er=yr+ge.shift(),wr=Xt+ge.shift(),Dr=Er+ge.shift(),Le=wr+ge.shift(),Be=Dr+ge.shift(),ge.shift(),Ce.curveTo(L,G,W,Y,pr,yr),Ce.curveTo(Xt,Er,wr,Dr,Le,Be);break;case 34:L=Le+ge.shift(),G=Be,W=L+ge.shift(),Y=G+ge.shift(),pr=W+ge.shift(),yr=Y,Xt=pr+ge.shift(),Er=Y,wr=Xt+ge.shift(),Dr=Be,Le=wr+ge.shift(),Ce.curveTo(L,G,W,Y,pr,yr),Ce.curveTo(Xt,Er,wr,Dr,Le,Be);break;case 36:L=Le+ge.shift(),G=Be+ge.shift(),W=L+ge.shift(),Y=G+ge.shift(),pr=W+ge.shift(),yr=Y,Xt=pr+ge.shift(),Er=Y,wr=Xt+ge.shift(),Dr=Er+ge.shift(),Le=wr+ge.shift(),Ce.curveTo(L,G,W,Y,pr,yr),Ce.curveTo(Xt,Er,wr,Dr,Le,Be);break;case 37:L=Le+ge.shift(),G=Be+ge.shift(),W=L+ge.shift(),Y=G+ge.shift(),pr=W+ge.shift(),yr=Y+ge.shift(),Xt=pr+ge.shift(),Er=yr+ge.shift(),wr=Xt+ge.shift(),Dr=Er+ge.shift(),Math.abs(wr-Le)>Math.abs(Dr-Be)?Le=wr+ge.shift():Be=Dr+ge.shift(),Ce.curveTo(L,G,W,Y,pr,yr),Ce.curveTo(Xt,Er,wr,Dr,Le,Be);break;default:console.log("Glyph "+j.index+": unknown operator 1200"+Tr),ge.length=0}break;case 14:0<ge.length&&!Re&&(ct=ge.shift()+Me,Re=!0),Fe&&(Ce.closePath(),Fe=!1);break;case 18:dt();break;case 19:case 20:dt(),sr+=Xe+7>>3;break;case 21:2<ge.length&&!Re&&(ct=ge.shift()+Me,Re=!0),Be+=ge.pop(),ut(Le+=ge.pop(),Be);break;case 22:1<ge.length&&!Re&&(ct=ge.shift()+Me,Re=!0),ut(Le+=ge.pop(),Be);break;case 23:dt();break;case 24:for(;2<ge.length;)L=Le+ge.shift(),G=Be+ge.shift(),W=L+ge.shift(),Y=G+ge.shift(),Le=W+ge.shift(),Be=Y+ge.shift(),Ce.curveTo(L,G,W,Y,Le,Be);Le+=ge.shift(),Be+=ge.shift(),Ce.lineTo(Le,Be);break;case 25:for(;6<ge.length;)Le+=ge.shift(),Be+=ge.shift(),Ce.lineTo(Le,Be);L=Le+ge.shift(),G=Be+ge.shift(),W=L+ge.shift(),Y=G+ge.shift(),Le=W+ge.shift(),Be=Y+ge.shift(),Ce.curveTo(L,G,W,Y,Le,Be);break;case 26:for(ge.length%2&&(Le+=ge.shift());0<ge.length;)L=Le,G=Be+ge.shift(),W=L+ge.shift(),Y=G+ge.shift(),Le=W,Be=Y+ge.shift(),Ce.curveTo(L,G,W,Y,Le,Be);break;case 27:for(ge.length%2&&(Be+=ge.shift());0<ge.length;)L=Le+ge.shift(),G=Be,W=L+ge.shift(),Y=G+ge.shift(),Le=W+ge.shift(),Be=Y,Ce.curveTo(L,G,W,Y,Le,Be);break;case 28:qt=Ft[sr],lr=Ft[sr+1],ge.push((qt<<24|lr<<16)>>16),sr+=2;break;case 29:Pt=ge.pop()+m.gsubrsBias,(_r=m.gsubrs[Pt])&&It(_r);break;case 30:for(;0<ge.length&&(L=Le,G=Be+ge.shift(),W=L+ge.shift(),Y=G+ge.shift(),Le=W+ge.shift(),Be=Y+(ge.length===1?ge.shift():0),Ce.curveTo(L,G,W,Y,Le,Be),ge.length!==0);)L=Le+ge.shift(),G=Be,W=L+ge.shift(),Y=G+ge.shift(),Be=Y+ge.shift(),Le=W+(ge.length===1?ge.shift():0),Ce.curveTo(L,G,W,Y,Le,Be);break;case 31:for(;0<ge.length&&(L=Le+ge.shift(),G=Be,W=L+ge.shift(),Y=G+ge.shift(),Be=Y+ge.shift(),Le=W+(ge.length===1?ge.shift():0),Ce.curveTo(L,G,W,Y,Le,Be),ge.length!==0);)L=Le,G=Be+ge.shift(),W=L+ge.shift(),Y=G+ge.shift(),Le=W+ge.shift(),Be=Y+(ge.length===1?ge.shift():0),Ce.curveTo(L,G,W,Y,Le,Be);break;default:Tr<32?console.log("Glyph "+j.index+": unknown operator "+Tr):Tr<247?ge.push(Tr-139):Tr<251?(qt=Ft[sr],sr+=1,ge.push(256*(Tr-247)+qt+108)):Tr<255?(qt=Ft[sr],sr+=1,ge.push(256*-(Tr-251)-qt-108)):(qt=Ft[sr],lr=Ft[sr+1],or=Ft[sr+2],Yt=Ft[sr+3],sr+=4,ge.push((qt<<24|lr<<16|or<<8|Yt)/65536))}}}(M),j.advanceWidth=ct,Ce}function Se(m,j){var M,L=yt.indexOf(m);return 0<=L&&(M=L),0<=(L=j.indexOf(m))?M=L+yt.length:(M=yt.length+j.length,j.push(m)),M}function ke(m,j,M){for(var L={},G=0;G<m.length;G+=1){var W=m[G],Y=j[W.name];Y===void 0||function ie(ce,pe){if(ce===pe)return 1;if(Array.isArray(ce)&&Array.isArray(pe)&&ce.length===pe.length){for(var xe=0;xe<ce.length;xe+=1)if(!ie(ce[xe],pe[xe]))return;return 1}}(Y,W.value)||(W.type==="SID"&&(Y=Se(Y,M)),L[W.op]={name:W.name,type:W.type,value:Y})}return L}function Ve(m,j){var M=new Ee.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return M.dict=ke(Ut,m,j),M}function nt(m){var j=new Ee.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return j.topDicts=[{name:"topDict_0",type:"TABLE",value:m}],j}var tt=function(m,j,M){M.tables.cff={},L=m,G=j,(W={}).formatMajor=Pe.getCard8(L,G),W.formatMinor=Pe.getCard8(L,G+1),W.size=Pe.getCard8(L,G+2),W.offsetSize=Pe.getCard8(L,G+3),W.startOffset=G,W.endOffset=G+4;var L=At(m,W.endOffset,Pe.bytesToString),G=At(m,L.endOffset),W=At(m,G.endOffset,Pe.bytesToString);if(L=At(m,W.endOffset),M.gsubrs=L.objects,M.gsubrsBias=st(M.gsubrs),(L=Ht(m,j,G.objects,W.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+L.length);if(G=L[0],(M.tables.cff.topDict=G)._privateDict&&(M.defaultWidthX=G._privateDict.defaultWidthX,M.nominalWidthX=G._privateDict.nominalWidthX),G.ros[0]!==void 0&&G.ros[1]!==void 0&&(M.isCIDFont=!0),M.isCIDFont){L=G.fdArray;var Y=G.fdSelect;if(L===0||Y===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");L=Ht(m,j,At(m,L+=j).objects,W.objects),G._fdArray=L,G._fdSelect=function(xe,Me,Ce,ge){var Xe,Re=[],Fe=new Pe.Parser(xe,Me);if((xe=Fe.parseCard8())===0)for(var Le=0;Le<Ce;Le++){if(ge<=(Xe=Fe.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Xe+" (FD count "+ge+")");Re.push(Xe)}else{if(xe!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+xe);var Be,ct=Fe.parseCard16(),ut=Fe.parseCard16();if(ut!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+ut);for(var dt=0;dt<ct;dt++){if(Xe=Fe.parseCard8(),Be=Fe.parseCard16(),ge<=Xe)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Xe+" (FD count "+ge+")");if(Ce<Be)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Be);for(;ut<Be;ut++)Re.push(Xe);ut=Be}if(Be!==Ce)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Be)}return Re}(m,Y+=j,M.numGlyphs,L.length)}L=Sr(m,Y=j+G.private[1],G.private[0],W.objects);var ie=(M.defaultWidthX=L.defaultWidthX,M.nominalWidthX=L.nominalWidthX,L.subrs!==0?(Y=At(m,Y+L.subrs),M.subrs=Y.objects,M.subrsBias=st(M.subrs)):(M.subrs=[],M.subrsBias=0),At(m,j+G.charStrings));M.nGlyphs=ie.objects.length,L=function(xe,Me,Ce,ge){var Xe=new Pe.Parser(xe,Me),Re=(--Ce,[".notdef"]);if((xe=Xe.parseCard8())===0)for(var Fe=0;Fe<Ce;Fe+=1)Le=Xe.parseSID(),Re.push(Tt(ge,Le));else if(xe===1)for(;Re.length<=Ce;)for(var Le=Xe.parseSID(),Be=Xe.parseCard8(),ct=0;ct<=Be;ct+=1)Re.push(Tt(ge,Le)),Le+=1;else{if(xe!==2)throw new Error("Unknown charset format "+xe);for(;Re.length<=Ce;){Le=Xe.parseSID(),Be=Xe.parseCard16();for(var ut=0;ut<=Be;ut+=1)Re.push(Tt(ge,Le)),Le+=1}}return Re}(m,j+G.charset,M.nGlyphs,W.objects),G.encoding===0?M.cffEncoding=new ue(it,L):G.encoding===1?M.cffEncoding=new ue(at,L):M.cffEncoding=function(xe,Me,Ce){var ge={},Xe=new Pe.Parser(xe,Me);if((xe=Xe.parseCard8())===0)for(var Re=Xe.parseCard8(),Fe=0;Fe<Re;Fe+=1)ge[Be=Xe.parseCard8()]=Fe;else{if(xe!==1)throw new Error("Unknown encoding format "+xe);for(var Le=Xe.parseCard8(),Be=1,ct=0;ct<Le;ct+=1)for(var ut=Xe.parseCard8(),dt=Xe.parseCard8(),It=ut;It<=ut+dt;It+=1)ge[It]=Be,Be+=1}return new ue(ge,Ce)}(m,j+G.encoding,L),M.encoding=M.encoding||M.cffEncoding,M.glyphs=new Ze.GlyphSet(M);for(var ce=0;ce<M.nGlyphs;ce+=1){var pe=ie.objects[ce];M.glyphs.push(ce,Ze.cffGlyphLoader(M,ce,_e,pe))}},jt=function(m,j){for(var M,L=new Ee.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),G=1/j.unitsPerEm,W=(G={version:j.version,fullName:j.fullName,familyName:j.familyName,weight:j.weightName,fontBBox:j.fontBBox||[0,0,0,0],fontMatrix:[G,0,0,G,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},[]),Y=1;Y<m.length;Y+=1)M=m.get(Y),W.push(M.name);var ie,ce,pe=[],xe=(j=(L.header=new Ee.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),L.nameIndex=function(Me){var Ce=new Ee.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Ce.names=[];for(var ge=0;ge<Me.length;ge+=1)Ce.names.push({name:"name_"+ge,type:"NAME",value:Me[ge]});return Ce}([j.postScriptName]),Ve(G,pe)),L.topDictIndex=nt(j),L.globalSubrIndex=new Ee.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),L.charsets=function(Me,Ce){for(var ge=new Ee.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Xe=0;Xe<Me.length;Xe+=1){var Re=Se(Me[Xe],Ce);ge.fields.push({name:"glyph_"+Xe,type:"SID",value:Re})}return ge}(W,pe),L.charStringsIndex=function(Me){for(var Ce=new Ee.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),ge=0;ge<Me.length;ge+=1){var Xe=Me.get(ge),Re=function(Fe){for(var Le=[],Be=Fe.path,ct=(Le.push({name:"width",type:"NUMBER",value:Fe.advanceWidth}),0),ut=0,dt=0;dt<Be.commands.length;dt+=1){var It,Ft,qt,lr,or=void 0,Yt=void 0,Pt=Be.commands[dt];(Pt=Pt.type==="Q"?{type:"C",x:Pt.x,y:Pt.y,x1:1/3*ct+2/3*Pt.x1,y1:1/3*ut+2/3*Pt.y1,x2:1/3*Pt.x+2/3*Pt.x1,y2:1/3*Pt.y+2/3*Pt.y1}:Pt).type==="M"?(or=Math.round(Pt.x-ct),Yt=Math.round(Pt.y-ut),Le.push({name:"dx",type:"NUMBER",value:or}),Le.push({name:"dy",type:"NUMBER",value:Yt}),Le.push({name:"rmoveto",type:"OP",value:21}),ct=Math.round(Pt.x),ut=Math.round(Pt.y)):Pt.type==="L"?(or=Math.round(Pt.x-ct),Yt=Math.round(Pt.y-ut),Le.push({name:"dx",type:"NUMBER",value:or}),Le.push({name:"dy",type:"NUMBER",value:Yt}),Le.push({name:"rlineto",type:"OP",value:5}),ct=Math.round(Pt.x),ut=Math.round(Pt.y)):Pt.type==="C"&&(It=Math.round(Pt.x1-ct),Ft=Math.round(Pt.y1-ut),qt=Math.round(Pt.x2-Pt.x1),lr=Math.round(Pt.y2-Pt.y1),or=Math.round(Pt.x-Pt.x2),Yt=Math.round(Pt.y-Pt.y2),Le.push({name:"dx1",type:"NUMBER",value:It}),Le.push({name:"dy1",type:"NUMBER",value:Ft}),Le.push({name:"dx2",type:"NUMBER",value:qt}),Le.push({name:"dy2",type:"NUMBER",value:lr}),Le.push({name:"dx",type:"NUMBER",value:or}),Le.push({name:"dy",type:"NUMBER",value:Yt}),Le.push({name:"rrcurveto",type:"OP",value:8}),ct=Math.round(Pt.x),ut=Math.round(Pt.y))}return Le.push({name:"endchar",type:"OP",value:14}),Le}(Xe);Ce.charStrings.push({name:Xe.name,type:"CHARSTRING",value:Re})}return Ce}(m),L.privateDict=(xe={},ie=pe,(ce=new Ee.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=ke(Vt,xe,ie),ce),L.stringIndex=function(Me){var Ce=new Ee.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Ce.strings=[];for(var ge=0;ge<Me.length;ge+=1)Ce.strings.push({name:"string_"+ge,type:"STRING",value:Me[ge]});return Ce}(pe),L.header.sizeOf()+L.nameIndex.sizeOf()+L.topDictIndex.sizeOf()+L.stringIndex.sizeOf()+L.globalSubrIndex.sizeOf());return G.charset=xe,G.encoding=0,G.charStrings=G.charset+L.charsets.sizeOf(),G.private[1]=G.charStrings+L.charStringsIndex.sizeOf(),j=Ve(G,pe),L.topDictIndex=nt(j),L},ot=function(m,j){var M={};return m=new Pe.Parser(m,j),M.version=m.parseVersion(),M.fontRevision=Math.round(1e3*m.parseFixed())/1e3,M.checkSumAdjustment=m.parseULong(),M.magicNumber=m.parseULong(),Z.argument(M.magicNumber===1594834165,"Font header has wrong magic number."),M.flags=m.parseUShort(),M.unitsPerEm=m.parseUShort(),M.created=m.parseLongDateTime(),M.modified=m.parseLongDateTime(),M.xMin=m.parseShort(),M.yMin=m.parseShort(),M.xMax=m.parseShort(),M.yMax=m.parseShort(),M.macStyle=m.parseUShort(),M.lowestRecPPEM=m.parseUShort(),M.fontDirectionHint=m.parseShort(),M.indexToLocFormat=m.parseShort(),M.glyphDataFormat=m.parseShort(),M},kt=function(m){var j=Math.round(new Date().getTime()/1e3)+2082844800,M=j;return m.createdTimestamp&&(M=m.createdTimestamp+2082844800),new Ee.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:M},{name:"modified",type:"LONGDATETIME",value:j},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],m)},_t=function(m,j){var M={};return m=new Pe.Parser(m,j),M.version=m.parseVersion(),M.ascender=m.parseShort(),M.descender=m.parseShort(),M.lineGap=m.parseShort(),M.advanceWidthMax=m.parseUShort(),M.minLeftSideBearing=m.parseShort(),M.minRightSideBearing=m.parseShort(),M.xMaxExtent=m.parseShort(),M.caretSlopeRise=m.parseShort(),M.caretSlopeRun=m.parseShort(),M.caretOffset=m.parseShort(),m.relativeOffset+=8,M.metricDataFormat=m.parseShort(),M.numberOfHMetrics=m.parseUShort(),M},Ct=function(m){return new Ee.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],m)},de=function(m,j,M,L,G){for(var W,Y,ie=new Pe.Parser(m,j),ce=0;ce<L;ce+=1){ce<M&&(W=ie.parseUShort(),Y=ie.parseShort());var pe=G.get(ce);pe.advanceWidth=W,pe.leftSideBearing=Y}},Ge=function(m){for(var j=new Ee.Table("hmtx",[]),M=0;M<m.length;M+=1){var L=(G=m.get(M)).advanceWidth||0,G=G.leftSideBearing||0;j.fields.push({name:"advanceWidth_"+M,type:"USHORT",value:L}),j.fields.push({name:"leftSideBearing_"+M,type:"SHORT",value:G})}return j},Qe=function(m){for(var j=new Ee.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:m.length}]),M="",L=12+4*m.length,G=0;G<m.length;++G){var W=M.indexOf(m[G]);W<0&&(W=M.length,M+=m[G]),j.fields.push({name:"offset "+G,type:"USHORT",value:L+W}),j.fields.push({name:"length "+G,type:"USHORT",value:m[G].length})}return j.fields.push({name:"stringPool",type:"CHARARRAY",value:M}),j},Ie=function(m,j){for(var M=new Pe.Parser(m,j),L=M.parseULong(),G=(Z.argument(L===1,"Unsupported ltag table version."),M.skip("uLong",1),M.parseULong()),W=[],Y=0;Y<G;Y++){for(var ie="",ce=j+M.parseUShort(),pe=M.parseUShort(),xe=ce;xe<ce+pe;++xe)ie+=String.fromCharCode(m.getInt8(xe));W.push(ie)}return W},wt=function(m,j){var M={};return m=new Pe.Parser(m,j),M.version=m.parseVersion(),M.numGlyphs=m.parseUShort(),M.version===1&&(M.maxPoints=m.parseUShort(),M.maxContours=m.parseUShort(),M.maxCompositePoints=m.parseUShort(),M.maxCompositeContours=m.parseUShort(),M.maxZones=m.parseUShort(),M.maxTwilightPoints=m.parseUShort(),M.maxStorage=m.parseUShort(),M.maxFunctionDefs=m.parseUShort(),M.maxInstructionDefs=m.parseUShort(),M.maxStackElements=m.parseUShort(),M.maxSizeOfInstructions=m.parseUShort(),M.maxComponentElements=m.parseUShort(),M.maxComponentDepth=m.parseUShort()),M},De=function(m){return new Ee.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:m}])},Gt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],ht={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Mt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},lt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},nr="utf-16",Zt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ar={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function er(m,j,M){switch(m){case 0:return nr;case 1:return Ar[M]||Zt[j];case 3:if(j===1||j===10)return nr}}function Kt(m){var j,M={};for(j in m)M[m[j]]=parseInt(j);return M}function bt(m,j,M,L,G,W){return new Ee.Record("NameRecord",[{name:"platformID",type:"USHORT",value:m},{name:"encodingID",type:"USHORT",value:j},{name:"languageID",type:"USHORT",value:M},{name:"nameID",type:"USHORT",value:L},{name:"length",type:"USHORT",value:G},{name:"offset",type:"USHORT",value:W}])}function Dt(m,j){if((M=function(W,Y){var ie=W.length,ce=Y.length-ie+1;e:for(var pe=0;pe<ce;pe++)for(;pe<ce;pe++){for(var xe=0;xe<ie;xe++)if(Y[pe+xe]!==W[xe])continue e;return pe}return-1}(m,j))<0)for(var M=j.length,L=0,G=m.length;L<G;++L)j.push(m[L]);return M}var Wt=function(m,j,M){for(var L={},G=new Pe.Parser(m,j),W=(j=G.parseUShort(),G.parseUShort()),Y=G.offset+G.parseUShort(),ie=0;ie<W;ie++){var ce=G.parseUShort(),pe=G.parseUShort(),xe=G.parseUShort(),Me=G.parseUShort(),Ce=(Me=Gt[Me]||Me,G.parseUShort()),ge=G.parseUShort(),Xe=function(Re,Fe,Le){switch(Re){case 0:if(Fe===65535)return"und";if(Le)return Le[Fe];break;case 1:return ht[Fe];case 3:return lt[Fe]}}(ce,xe,M);(ce=er(ce,pe,xe))!==void 0&&Xe!==void 0&&(pe=void 0,(pe=ce===nr?re.UTF16(m,Y+ge,Ce):re.MACSTRING(m,Y+ge,Ce,ce))&&((xe=(xe=L[Me])===void 0?L[Me]={}:xe)[Xe]=pe))}return j===1&&G.parseUShort(),L},tr=function(m,j){var M,L=[],G={},W=Kt(Gt);for(M in m){var Y=W[M];if(Y===void 0&&(Y=M),Ce=parseInt(Y),isNaN(Ce))throw new Error('Name table entry "'+M+'" does not exist, see nameTableNames for complete list.');G[Ce]=m[M],L.push(Ce)}for(var ie=Kt(ht),ce=Kt(lt),pe=[],xe=[],Me=0;Me<L.length;Me++){var Ce,ge,Xe=G[Ce=L[Me]];for(ge in Xe){var Re=Xe[ge],Fe=1,Le=ie[ge],Be=Mt[Le],ct=er(Fe,Be,Le),ut=((ct=ee.MACSTRING(Re,ct))===void 0&&(Fe=0,(Le=j.indexOf(ge))<0&&(Le=j.length,j.push(ge)),Be=4,ct=ee.UTF16(Re)),Dt(ct,xe));(Fe=(pe.push(bt(Fe,Be,Le,Ce,ct.length,ut)),ce[ge]))!==void 0&&(Le=Dt(Be=ee.UTF16(Re),xe),pe.push(bt(3,1,Fe,Ce,Be.length,Le)))}}pe.sort(function(Ft,qt){return Ft.platformID-qt.platformID||Ft.encodingID-qt.encodingID||Ft.languageID-qt.languageID||Ft.nameID-qt.nameID});for(var dt=new Ee.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:pe.length},{name:"stringOffset",type:"USHORT",value:6+12*pe.length}]),It=0;It<pe.length;It++)dt.fields.push({name:"record_"+It,type:"RECORD",value:pe[It]});return dt.fields.push({name:"strings",type:"LITERAL",value:xe}),dt},un=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],ba=function(m,j){var M={},L=new Pe.Parser(m,j);M.version=L.parseUShort(),M.xAvgCharWidth=L.parseShort(),M.usWeightClass=L.parseUShort(),M.usWidthClass=L.parseUShort(),M.fsType=L.parseUShort(),M.ySubscriptXSize=L.parseShort(),M.ySubscriptYSize=L.parseShort(),M.ySubscriptXOffset=L.parseShort(),M.ySubscriptYOffset=L.parseShort(),M.ySuperscriptXSize=L.parseShort(),M.ySuperscriptYSize=L.parseShort(),M.ySuperscriptXOffset=L.parseShort(),M.ySuperscriptYOffset=L.parseShort(),M.yStrikeoutSize=L.parseShort(),M.yStrikeoutPosition=L.parseShort(),M.sFamilyClass=L.parseShort(),M.panose=[];for(var G=0;G<10;G++)M.panose[G]=L.parseByte();return M.ulUnicodeRange1=L.parseULong(),M.ulUnicodeRange2=L.parseULong(),M.ulUnicodeRange3=L.parseULong(),M.ulUnicodeRange4=L.parseULong(),M.achVendID=String.fromCharCode(L.parseByte(),L.parseByte(),L.parseByte(),L.parseByte()),M.fsSelection=L.parseUShort(),M.usFirstCharIndex=L.parseUShort(),M.usLastCharIndex=L.parseUShort(),M.sTypoAscender=L.parseShort(),M.sTypoDescender=L.parseShort(),M.sTypoLineGap=L.parseShort(),M.usWinAscent=L.parseUShort(),M.usWinDescent=L.parseUShort(),1<=M.version&&(M.ulCodePageRange1=L.parseULong(),M.ulCodePageRange2=L.parseULong()),2<=M.version&&(M.sxHeight=L.parseShort(),M.sCapHeight=L.parseShort(),M.usDefaultChar=L.parseUShort(),M.usBreakChar=L.parseUShort(),M.usMaxContent=L.parseUShort()),M},du=function(m){return new Ee.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],m)},yg=function(m){for(var j=0;j<un.length;j+=1){var M=un[j];if(m>=M.begin&&m<M.end)return j}return-1},gg=function(m,j){var M={},L=new Pe.Parser(m,j);switch(M.version=L.parseVersion(),M.italicAngle=L.parseFixed(),M.underlinePosition=L.parseShort(),M.underlineThickness=L.parseShort(),M.isFixedPitch=L.parseULong(),M.minMemType42=L.parseULong(),M.maxMemType42=L.parseULong(),M.minMemType1=L.parseULong(),M.maxMemType1=L.parseULong(),M.version){case 1:M.names=J.slice();break;case 2:M.numberOfGlyphs=L.parseUShort(),M.glyphNameIndex=new Array(M.numberOfGlyphs);for(var G=0;G<M.numberOfGlyphs;G++)M.glyphNameIndex[G]=L.parseUShort();M.names=[];for(var W,Y=0;Y<M.numberOfGlyphs;Y++)M.glyphNameIndex[Y]>=J.length&&(W=L.parseChar(),M.names.push(L.parseString(W)));break;case 2.5:M.numberOfGlyphs=L.parseUShort(),M.offset=new Array(M.numberOfGlyphs);for(var ie=0;ie<M.numberOfGlyphs;ie++)M.offset[ie]=L.parseChar()}return M},vg=function(){return new Ee.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},gn=new Array(9),ss=(gn[1]=function(){var m=this.offset+this.relativeOffset,j=this.parseUShort();return j===1?{substFormat:1,coverage:this.parsePointer(fe.coverage),deltaGlyphId:this.parseUShort()}:j===2?{substFormat:2,coverage:this.parsePointer(fe.coverage),substitute:this.parseOffset16List()}:void Z.assert(!1,"0x"+m.toString(16)+": lookup type 1 format must be 1 or 2.")},gn[2]=function(){var m=this.parseUShort();return Z.argument(m===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:m,coverage:this.parsePointer(fe.coverage),sequences:this.parseListOfLists()}},gn[3]=function(){var m=this.parseUShort();return Z.argument(m===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:m,coverage:this.parsePointer(fe.coverage),alternateSets:this.parseListOfLists()}},gn[4]=function(){var m=this.parseUShort();return Z.argument(m===1,"GSUB ligature table identifier-format must be 1"),{substFormat:m,coverage:this.parsePointer(fe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:fe.uShort,lookupListIndex:fe.uShort});gn[5]=function(){var m,j,M=this.offset+this.relativeOffset,L=this.parseUShort();return L===1?{substFormat:L,coverage:this.parsePointer(fe.coverage),ruleSets:this.parseListOfLists(function(){var G=this.parseUShort(),W=this.parseUShort();return{input:this.parseUShortList(G-1),lookupRecords:this.parseRecordList(W,ss)}})}:L===2?{substFormat:L,coverage:this.parsePointer(fe.coverage),classDef:this.parsePointer(fe.classDef),classSets:this.parseListOfLists(function(){var G=this.parseUShort(),W=this.parseUShort();return{classes:this.parseUShortList(G-1),lookupRecords:this.parseRecordList(W,ss)}})}:L===3?(m=this.parseUShort(),j=this.parseUShort(),{substFormat:L,coverages:this.parseList(m,fe.pointer(fe.coverage)),lookupRecords:this.parseRecordList(j,ss)}):void Z.assert(!1,"0x"+M.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},gn[6]=function(){var m=this.offset+this.relativeOffset,j=this.parseUShort();return j===1?{substFormat:1,coverage:this.parsePointer(fe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ss)}})}:j===2?{substFormat:2,coverage:this.parsePointer(fe.coverage),backtrackClassDef:this.parsePointer(fe.classDef),inputClassDef:this.parsePointer(fe.classDef),lookaheadClassDef:this.parsePointer(fe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ss)}})}:j===3?{substFormat:3,backtrackCoverage:this.parseList(fe.pointer(fe.coverage)),inputCoverage:this.parseList(fe.pointer(fe.coverage)),lookaheadCoverage:this.parseList(fe.pointer(fe.coverage)),lookupRecords:this.parseRecordList(ss)}:void Z.assert(!1,"0x"+m.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},gn[7]=function(){var m=this.parseUShort(),j=(m=(Z.argument(m===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),new fe(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:m,extension:gn[m].call(j)}},gn[8]=function(){var m=this.parseUShort();return Z.argument(m===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:m,coverage:this.parsePointer(fe.coverage),backtrackCoverage:this.parseList(fe.pointer(fe.coverage)),lookaheadCoverage:this.parseList(fe.pointer(fe.coverage)),substitutes:this.parseUShortList()}};var _a=new Array(9);_a[1]=function(m){return m.substFormat===1?new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(m.coverage)},{name:"deltaGlyphID",type:"USHORT",value:m.deltaGlyphId}]):new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ee.Coverage(m.coverage)}].concat(Ee.ushortList("substitute",m.substitute)))},_a[3]=function(m){return Z.assert(m.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(m.coverage)}].concat(Ee.tableList("altSet",m.alternateSets,function(j){return new Ee.Table("alternateSetTable",Ee.ushortList("alternate",j))})))},_a[4]=function(m){return Z.assert(m.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(m.coverage)}].concat(Ee.tableList("ligSet",m.ligatureSets,function(j){return new Ee.Table("ligatureSetTable",Ee.tableList("ligature",j,function(M){return new Ee.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:M.ligGlyph}].concat(Ee.ushortList("component",M.components,M.components.length+1)))}))})))};var bg=function(m,j){return j=(m=new fe(m,j=j||0)).parseVersion(1),Z.argument(j===1||j===1.1,"Unsupported GSUB table version."),j===1?{version:j,scripts:m.parseScriptList(),features:m.parseFeatureList(),lookups:m.parseLookupList(gn)}:{version:j,scripts:m.parseScriptList(),features:m.parseFeatureList(),lookups:m.parseLookupList(gn),variations:m.parseFeatureVariationsList()}},_g=function(m){return new Ee.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ee.ScriptList(m.scripts)},{name:"features",type:"TABLE",value:new Ee.FeatureList(m.features)},{name:"lookups",type:"TABLE",value:new Ee.LookupList(m.lookups,_a)}])},wg=function(m,j){for(var M=new Pe.Parser(m,j),L=M.parseULong(),G=(Z.argument(L===1,"Unsupported META table version."),M.parseULong(),M.parseULong(),M.parseULong()),W={},Y=0;Y<G;Y++){var ie=M.parseTag(),ce=M.parseULong(),pe=M.parseULong();ce=re.UTF8(m,j+ce,pe),W[ie]=ce}return W},xg=function(m){var j,M=Object.keys(m).length,L="",G=16+12*M,W=new Ee.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:G},{name:"numTags",type:"ULONG",value:M}]);for(j in m){var Y=L.length;L+=m[j],W.fields.push({name:"tag "+j,type:"TAG",value:j}),W.fields.push({name:"offset "+j,type:"ULONG",value:G+Y}),W.fields.push({name:"length "+j,type:"ULONG",value:m[j].length})}return W.fields.push({name:"stringPool",type:"CHARARRAY",value:L}),W};function rf(m){return Math.log(m)/Math.log(2)|0}function nf(m){for(;m.length%4!=0;)m.push(0);for(var j=0,M=0;M<m.length;M+=4)j+=(m[M]<<24)+(m[M+1]<<16)+(m[M+2]<<8)+m[M+3];return j%Math.pow(2,32)}function of(m,j,M,L){return new Ee.Record("Table Record",[{name:"tag",type:"TAG",value:m!==void 0?m:""},{name:"checkSum",type:"ULONG",value:j!==void 0?j:0},{name:"offset",type:"ULONG",value:M!==void 0?M:0},{name:"length",type:"ULONG",value:L!==void 0?L:0}])}function jg(m){for(var j=new Ee.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),M=(j.tables=m,j.numTables=m.length,Math.pow(2,rf(j.numTables))),L=(j.searchRange=16*M,j.entrySelector=rf(M),j.rangeShift=16*j.numTables-j.searchRange,[]),G=[],W=j.sizeOf()+of().sizeOf()*j.numTables;W%4!=0;)W+=1,G.push({name:"padding",type:"BYTE",value:0});for(var Y=0;Y<m.length;Y+=1){var ie=m[Y],ce=(Z.argument(ie.tableName.length===4,"Table name"+ie.tableName+" is invalid."),ie.sizeOf()),pe=of(ie.tableName,nf(ie.encode()),W,ce);for(L.push({name:pe.tag+" Table Record",type:"RECORD",value:pe}),G.push({name:ie.tableName+" table",type:"RECORD",value:ie}),W+=ce,Z.argument(!isNaN(W),"Something went wrong calculating the offset.");W%4!=0;)W+=1,G.push({name:"padding",type:"BYTE",value:0})}return L.sort(function(xe,Me){return xe.value.tag>Me.value.tag?1:-1}),j.fields=j.fields.concat(L),j.fields=j.fields.concat(G),j}function sf(m,j,M){for(var L=0;L<j.length;L+=1){var G=m.charToGlyphIndex(j[L]);if(0<G)return m.glyphs.get(G).getMetrics()}return M}var Sg=function(m){for(var j,M=[],L=[],G=[],W=[],Y=[],ie=[],ce=[],pe=0,xe=0,Me=0,Ce=0,ge=0,Xe=0;Xe<m.glyphs.length;Xe+=1){var Re=m.glyphs.get(Xe),Fe=0|Re.unicode;if(isNaN(Re.advanceWidth))throw new Error("Glyph "+Re.name+" ("+Xe+"): advanceWidth is not a number.");if((Fe<j||j===void 0)&&0<Fe&&(j=Fe),pe<Fe&&(pe=Fe),(Fe=yg(Fe))<32)xe|=1<<Fe;else if(Fe<64)Me|=1<<Fe-32;else if(Fe<96)Ce|=1<<Fe-64;else{if(!(Fe<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");ge|=1<<Fe-96}Re.name!==".notdef"&&(Fe=Re.getMetrics(),M.push(Fe.xMin),L.push(Fe.yMin),G.push(Fe.xMax),W.push(Fe.yMax),ie.push(Fe.leftSideBearing),ce.push(Fe.rightSideBearing),Y.push(Re.advanceWidth))}var Le,Be={xMin:Math.min.apply(null,M),yMin:Math.min.apply(null,L),xMax:Math.max.apply(null,G),yMax:Math.max.apply(null,W),advanceWidthMax:Math.max.apply(null,Y),advanceWidthAvg:function(Tr){for(var ai=0,li=0;li<Tr.length;li+=1)ai+=Tr[li];return ai/Tr.length}(Y),minLeftSideBearing:Math.min.apply(null,ie),maxLeftSideBearing:Math.max.apply(null,ie),minRightSideBearing:Math.min.apply(null,ce)},ct=(Be.ascender=m.ascender,Be.descender=m.descender,kt({flags:3,unitsPerEm:m.unitsPerEm,xMin:Be.xMin,yMin:Be.yMin,xMax:Be.xMax,yMax:Be.yMax,lowestRecPPEM:3,createdTimestamp:m.createdTimestamp})),ut=Ct({ascender:Be.ascender,descender:Be.descender,advanceWidthMax:Be.advanceWidthMax,minLeftSideBearing:Be.minLeftSideBearing,minRightSideBearing:Be.minRightSideBearing,xMaxExtent:Be.maxLeftSideBearing+(Be.xMax-Be.xMin),numberOfHMetrics:m.glyphs.length}),dt=De(m.glyphs.length),It=du({xAvgCharWidth:Math.round(Be.advanceWidthAvg),usWeightClass:m.tables.os2.usWeightClass,usWidthClass:m.tables.os2.usWidthClass,usFirstCharIndex:j,usLastCharIndex:pe,ulUnicodeRange1:xe,ulUnicodeRange2:Me,ulUnicodeRange3:Ce,ulUnicodeRange4:ge,fsSelection:m.tables.os2.fsSelection,sTypoAscender:Be.ascender,sTypoDescender:Be.descender,sTypoLineGap:0,usWinAscent:Be.yMax,usWinDescent:Math.abs(Be.yMin),ulCodePageRange1:1,sxHeight:sf(m,"xyvw",{yMax:Math.round(Be.ascender/2)}).yMax,sCapHeight:sf(m,"HIKLEFJMNTZBDPRAGOQSUVWXY",Be).yMax,usDefaultChar:m.hasChar(" ")?32:0,usBreakChar:m.hasChar(" ")?32:0}),Ft=Ge(m.glyphs),qt=Je(m.glyphs),lr=(yr=m.getEnglishName("fontFamily"))+" "+(Xt=m.getEnglishName("fontSubfamily")),or=(or=m.getEnglishName("postScriptName"))||yr.replace(/\s/g,"")+"-"+Xt,Yt={};for(Le in m.names)Yt[Le]=m.names[Le];Yt.uniqueID||(Yt.uniqueID={en:m.getEnglishName("manufacturer")+":"+lr}),Yt.postScriptName||(Yt.postScriptName={en:or}),Yt.preferredFamily||(Yt.preferredFamily=m.names.fontFamily),Yt.preferredSubfamily||(Yt.preferredSubfamily=m.names.fontSubfamily);var Pt=tr(Yt,_r=[]),_r=0<_r.length?Qe(_r):void 0,pr=vg(),yr=(lr=jt(m.glyphs,{version:m.getEnglishName("version"),fullName:lr,familyName:yr,weightName:Xt,postScriptName:or,unitsPerEm:m.unitsPerEm,fontBBox:[0,Be.yMin,Be.ascender,Be.advanceWidthMax]}),m.metas&&0<Object.keys(m.metas).length?xg(m.metas):void 0),Xt=[ct,ut,dt,It,Pt,qt,pr,lr,Ft];_r&&Xt.push(_r),m.tables.gsub&&Xt.push(_g(m.tables.gsub)),yr&&Xt.push(yr);for(var Er=nf((or=jg(Xt)).encode()),wr=or.fields,Dr=!1,sr=0;sr<wr.length;sr+=1)if(wr[sr].name==="head table"){wr[sr].value.checkSumAdjustment=2981146554-Er,Dr=!0;break}if(Dr)return or;throw new Error("Could not find head table with checkSum to adjust.")};function fu(m,j){for(var M=0,L=m.length-1;M<=L;){var G=M+L>>>1,W=m[G].tag;if(W===j)return G;W<j?M=1+G:L=G-1}return-M-1}function af(m,j){for(var M=0,L=m.length-1;M<=L;){var G=M+L>>>1,W=m[G];if(W===j)return G;W<j?M=1+G:L=G-1}return-M-1}function lf(m,j){for(var M=0,L=m.length-1;M<=L;){var G,W=M+L>>>1,Y=(G=m[W]).start;if(Y===j)return G;Y<j?M=1+W:L=W-1}if(0<M)return j>(G=m[M-1]).end?0:G}function wa(m,j){this.font=m,this.tableName=j}function xa(m){wa.call(this,m,"gpos")}function kn(m){wa.call(this,m,"gsub")}function uf(m,j,M){for(var L=m.subtables,G=0;G<L.length;G++){var W=L[G];if(W.substFormat===j)return W}if(M)return L.push(M),M}function cf(m){for(var j=new ArrayBuffer(m.length),M=new Uint8Array(j),L=0;L<m.length;++L)M[L]=m[L];return j}function is(m,j){if(!m)throw j}function df(m,j,M,L,G){var W=0<(j&L)?(W=m.parseByte(),M+(W=j&G?W:-W)):0<(j&G)?M:M+m.parseShort();return W}function Eg(m,j,M){var L,G=new Pe.Parser(j,M);if(m.numberOfContours=G.parseShort(),m._xMin=G.parseShort(),m._yMin=G.parseShort(),m._xMax=G.parseShort(),m._yMax=G.parseShort(),0<m.numberOfContours){for(var W=m.endPointIndices=[],Y=0;Y<m.numberOfContours;Y+=1)W.push(G.parseUShort());m.instructionLength=G.parseUShort(),m.instructions=[];for(var ie=0;ie<m.instructionLength;ie+=1)m.instructions.push(G.parseByte());for(var ce=W[W.length-1]+1,pe=[],xe=0;xe<ce;xe+=1)if(L=G.parseByte(),pe.push(L),0<(8&L))for(var Me=G.parseByte(),Ce=0;Ce<Me;Ce+=1)pe.push(L),xe+=1;if(Z.argument(pe.length===ce,"Bad flags."),0<W.length){var ge,Xe=[];if(0<ce){for(var Re=0;Re<ce;Re+=1)L=pe[Re],(ge={}).onCurve=!!(1&L),ge.lastPointOfContour=0<=W.indexOf(Re),Xe.push(ge);for(var Fe=0,Le=0;Le<ce;Le+=1)L=pe[Le],(ge=Xe[Le]).x=df(G,L,Fe,2,16),Fe=ge.x;for(var Be=0,ct=0;ct<ce;ct+=1)L=pe[ct],(ge=Xe[ct]).y=df(G,L,Be,4,32),Be=ge.y}m.points=Xe}else m.points=[]}else if(m.numberOfContours===0)m.points=[];else{m.isComposite=!0,m.points=[],m.components=[];for(var ut=!0;ut;){pe=G.parseUShort();var dt={glyphIndex:G.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&pe)?0<(2&pe)?(dt.dx=G.parseShort(),dt.dy=G.parseShort()):dt.matchedPoints=[G.parseUShort(),G.parseUShort()]:0<(2&pe)?(dt.dx=G.parseChar(),dt.dy=G.parseChar()):dt.matchedPoints=[G.parseByte(),G.parseByte()],0<(8&pe)?dt.xScale=dt.yScale=G.parseF2Dot14():0<(64&pe)?(dt.xScale=G.parseF2Dot14(),dt.yScale=G.parseF2Dot14()):0<(128&pe)&&(dt.xScale=G.parseF2Dot14(),dt.scale01=G.parseF2Dot14(),dt.scale10=G.parseF2Dot14(),dt.yScale=G.parseF2Dot14()),m.components.push(dt),ut=!!(32&pe)}if(256&pe){m.instructionLength=G.parseUShort(),m.instructions=[];for(var It=0;It<m.instructionLength;It+=1)m.instructions.push(G.parseByte())}}}function hu(m,j){for(var M=[],L=0;L<m.length;L+=1){var G=m[L];G={x:j.xScale*G.x+j.scale01*G.y+j.dx,y:j.scale10*G.x+j.yScale*G.y+j.dy,onCurve:G.onCurve,lastPointOfContour:G.lastPointOfContour},M.push(G)}return M}function ff(m){var j=new V;if(m)for(var M=function(Me){for(var Ce=[],ge=[],Xe=0;Xe<Me.length;Xe+=1){var Re=Me[Xe];ge.push(Re),Re.lastPointOfContour&&(Ce.push(ge),ge=[])}return Z.argument(ge.length===0,"There are still points left in the current contour."),Ce}(m),L=0;L<M.length;++L){var G,W=M[L],Y=W[W.length-1],ie=W[0];Y.onCurve?j.moveTo(Y.x,Y.y):ie.onCurve?j.moveTo(ie.x,ie.y):(G={x:.5*(Y.x+ie.x),y:.5*(Y.y+ie.y)},j.moveTo(G.x,G.y));for(var ce=0;ce<W.length;++ce){var pe,xe=Y;Y=ie,ie=W[(ce+1)%W.length],Y.onCurve?j.lineTo(Y.x,Y.y):(pe=ie,xe.onCurve||(Y.x,xe.x,Y.y,xe.y),ie.onCurve||(pe={x:.5*(Y.x+ie.x),y:.5*(Y.y+ie.y)}),j.quadraticCurveTo(Y.x,Y.y,pe.x,pe.y))}j.closePath()}return j}function Tg(m,j){if(j.isComposite)for(var M=0;M<j.components.length;M+=1){var L=j.components[M],G=m.get(L.glyphIndex);if(G.getPath(),G.points){var W=void 0;if(L.matchedPoints===void 0)W=hu(G.points,L);else{if(L.matchedPoints[0]>j.points.length-1||L.matchedPoints[1]>G.points.length-1)throw Error("Matched points out of range in "+j.name);var Y=j.points[L.matchedPoints[0]],ie=hu([ie=G.points[L.matchedPoints[1]]],L={xScale:L.xScale,scale01:L.scale01,scale10:L.scale10,yScale:L.yScale,dx:0,dy:0})[0];L.dx=Y.x-ie.x,L.dy=Y.y-ie.y,W=hu(G.points,L)}j.points=j.points.concat(W)}}return ff(j.points)}(xa.prototype=wa.prototype={searchTag:fu,binSearch:af,getTable:function(m){var j=this.font.tables[this.tableName];return!j&&m?this.font.tables[this.tableName]=this.createDefaultTable():j},getScriptNames:function(){var m=this.getTable();return m?m.scripts.map(function(j){return j.tag}):[]},getDefaultScriptName:function(){var m=this.getTable();if(m){for(var j=!1,M=0;M<m.scripts.length;M++){var L=m.scripts[M].tag;if(L==="DFLT")return L;L==="latn"&&(j=!0)}return j?"latn":void 0}},getScriptTable:function(m,j){var M,L=this.getTable(j);if(L)return M=L.scripts,0<=(L=fu(L.scripts,m=m||"DFLT"))?M[L].script:j?(M.splice(-1-L,0,j={tag:m,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),j.script):void 0},getLangSysTable:function(m,j,M){var L;if(m=this.getScriptTable(m,M))return j&&j!=="dflt"&&j!=="DFLT"?0<=(L=fu(m.langSysRecords,j))?m.langSysRecords[L].langSys:M?(m.langSysRecords.splice(-1-L,0,M={tag:j,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),M.langSys):void 0:m.defaultLangSys},getFeatureTable:function(m,j,M,L){if(m=this.getLangSysTable(m,j,L)){for(var G,W=m.featureIndexes,Y=this.font.tables[this.tableName].features,ie=0;ie<W.length;ie++)if((G=Y[W[ie]]).tag===M)return G.feature;if(L)return j=Y.length,Z.assert(j===0||M>=Y[j-1].tag,"Features must be added in alphabetical order."),Y.push(G={tag:M,feature:{params:0,lookupListIndexes:[]}}),W.push(j),G.feature}},getLookupTables:function(m,j,M,L,G){var W=[];if(m=this.getFeatureTable(m,j,M,G)){for(var Y,ie=m.lookupListIndexes,ce=this.font.tables[this.tableName].lookups,pe=0;pe<ie.length;pe++)(Y=ce[ie[pe]]).lookupType===L&&W.push(Y);if(W.length===0&&G)return j=ce.length,ce.push(Y={lookupType:L,lookupFlag:0,subtables:[],markFilteringSet:void 0}),ie.push(j),[Y]}return W},getGlyphClass:function(m,j){switch(m.format){case 1:return m.startGlyph<=j&&j<m.startGlyph+m.classes.length?m.classes[j-m.startGlyph]:0;case 2:var M=lf(m.ranges,j);return M?M.classId:0}},getCoverageIndex:function(m,j){switch(m.format){case 1:var M=af(m.glyphs,j);return 0<=M?M:-1;case 2:return(M=lf(m.ranges,j))?M.index+j-M.start:-1}},expandCoverage:function(m){if(m.format===1)return m.glyphs;for(var j=[],M=m.ranges,L=0;L<M.length;L++)for(var G=M[L],W=G.start,Y=G.end,ie=W;ie<=Y;ie++)j.push(ie);return j}}).init=function(){var m=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(m)},xa.prototype.getKerningValue=function(m,j,M){for(var L=0;L<m.length;L++)for(var G=m[L].subtables,W=0;W<G.length;W++){var Y=G[W],ie=this.getCoverageIndex(Y.coverage,j);if(!(ie<0))switch(Y.posFormat){case 1:for(var ce=Y.pairSets[ie],pe=0;pe<ce.length;pe++){var xe=ce[pe];if(xe.secondGlyph===M)return xe.value1&&xe.value1.xAdvance||0}break;case 2:var Me=this.getGlyphClass(Y.classDef1,j),Ce=this.getGlyphClass(Y.classDef2,M);return(Me=Y.classRecords[Me][Ce]).value1&&Me.value1.xAdvance||0}}return 0},xa.prototype.getKerningTables=function(m,j){if(this.font.tables.gpos)return this.getLookupTables(m,j,"kern",2)},(kn.prototype=wa.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},kn.prototype.getSingle=function(m,j,M){for(var L=[],G=this.getLookupTables(j,M,m,1),W=0;W<G.length;W++)for(var Y=G[W].subtables,ie=0;ie<Y.length;ie++){var ce=Y[ie],pe=this.expandCoverage(ce.coverage),xe=void 0;if(ce.substFormat===1){var Me=ce.deltaGlyphId;for(xe=0;xe<pe.length;xe++){var Ce=pe[xe];L.push({sub:Ce,by:Ce+Me})}}else{var ge=ce.substitute;for(xe=0;xe<pe.length;xe++)L.push({sub:pe[xe],by:ge[xe]})}}return L},kn.prototype.getAlternates=function(m,j,M){for(var L=[],G=this.getLookupTables(j,M,m,3),W=0;W<G.length;W++)for(var Y=G[W].subtables,ie=0;ie<Y.length;ie++)for(var ce=Y[ie],pe=this.expandCoverage(ce.coverage),xe=ce.alternateSets,Me=0;Me<pe.length;Me++)L.push({sub:pe[Me],by:xe[Me]});return L},kn.prototype.getLigatures=function(m,j,M){for(var L=[],G=this.getLookupTables(j,M,m,4),W=0;W<G.length;W++)for(var Y=G[W].subtables,ie=0;ie<Y.length;ie++)for(var ce=Y[ie],pe=this.expandCoverage(ce.coverage),xe=ce.ligatureSets,Me=0;Me<pe.length;Me++)for(var Ce=pe[Me],ge=xe[Me],Xe=0;Xe<ge.length;Xe++){var Re=ge[Xe];L.push({sub:[Ce].concat(Re.components),by:Re.ligGlyph})}return L},kn.prototype.addSingle=function(m,j,M,L){M=uf(this.getLookupTables(M,L,m,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),Z.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format),L=j.sub,(m=this.binSearch(M.coverage.glyphs,L))<0&&(M.coverage.glyphs.splice(m=-1-m,0,L),M.substitute.splice(m,0,0)),M.substitute[m]=j.by},kn.prototype.addAlternate=function(m,j,M,L){M=uf(this.getLookupTables(M,L,m,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),Z.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format),L=j.sub,(m=this.binSearch(M.coverage.glyphs,L))<0&&(M.coverage.glyphs.splice(m=-1-m,0,L),M.alternateSets.splice(m,0,0)),M.alternateSets[m]=j.by},kn.prototype.addLigature=function(m,j,M,L){(L=(M=this.getLookupTables(M,L,m,4,!0)[0]).subtables[0])||(M.subtables[0]=L={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),Z.assert(L.coverage.format===1,"Ligature: unable to modify coverage table format "+L.coverage.format),m=j.sub[0];var G=j.sub.slice(1);if(M={ligGlyph:j.by,components:G},0<=(j=this.binSearch(L.coverage.glyphs,m))){for(var W=L.ligatureSets[j],Y=0;Y<W.length;Y++)if(function(ie,ce){var pe=ie.length;if(pe===ce.length){for(var xe=0;xe<pe;xe++)if(ie[xe]!==ce[xe])return;return 1}}(W[Y].components,G))return;W.push(M)}else L.coverage.glyphs.splice(j=-1-j,0,m),L.ligatureSets.splice(j,0,[M])},kn.prototype.getFeature=function(m,j,M){if(/ss\d\d/.test(m))return this.getSingle(m,j,M);switch(m){case"aalt":case"salt":return this.getSingle(m,j,M).concat(this.getAlternates(m,j,M));case"dlig":case"liga":case"rlig":return this.getLigatures(m,j,M)}},kn.prototype.add=function(m,j,M,L){if(/ss\d\d/.test(m))return this.addSingle(m,j,M,L);switch(m){case"aalt":case"salt":return typeof j.by=="number"?this.addSingle(m,j,M,L):this.addAlternate(m,j,M,L);case"dlig":case"liga":case"rlig":return this.addLigature(m,j,M,L)}};var hf={getPath:ff,parse:function(m,j,M,L){for(var G=new Ze.GlyphSet(L),W=0;W<M.length-1;W+=1){var Y=M[W];Y!==M[W+1]?G.push(W,Ze.ttfGlyphLoader(L,W,Eg,m,j+Y,Tg)):G.push(W,Ze.glyphLoader(L,W))}return G}};function pf(m){this.font=m,this.getCommands=function(j){return hf.getPath(j).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function kg(m){return m}function mf(m){return Math.sign(m)*Math.round(Math.abs(m))}function Mg(m){return Math.sign(m)*Math.round(Math.abs(2*m))/2}function Cg(m){return Math.sign(m)*(Math.round(Math.abs(m)+.5)-.5)}function Pg(m){return Math.sign(m)*Math.ceil(Math.abs(m))}function Ag(m){return Math.sign(m)*Math.floor(Math.abs(m))}function yf(m){var j=this.srPeriod,M=this.srPhase,L=1;return m<0&&(m=-m,L=-1),m+=this.srThreshold-M,m=Math.trunc(m/j)*j,(m+=M)<0?M*L:m*L}var Mn={x:1,y:0,axis:"x",distance:function(m,j,M,L){return(M?m.xo:m.x)-(L?j.xo:j.x)},interpolate:function(m,j,M,L){var G,W,Y,ie,ce,pe,xe;if(!L||L===this)return G=m.xo-j.xo,W=m.xo-M.xo,ce=j.x-j.xo,pe=M.x-M.xo,(xe=(Y=Math.abs(G))+(ie=Math.abs(W)))===0?void(m.x=m.xo+(ce+pe)/2):void(m.x=m.xo+(ce*ie+pe*Y)/xe);G=L.distance(m,j,!0,!0),W=L.distance(m,M,!0,!0),ce=L.distance(j,j,!1,!0),pe=L.distance(M,M,!1,!0),(xe=(Y=Math.abs(G))+(ie=Math.abs(W)))===0?Mn.setRelative(m,m,(ce+pe)/2,L,!0):Mn.setRelative(m,m,(ce*ie+pe*Y)/xe,L,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(m,j,M,L,G){var W,Y;L&&L!==this?(W=G?j.xo:j.x,Y=G?j.yo:j.y,W+=M*L.x,Y+=M*L.y,m.x=W+(m.y-Y)/L.normalSlope):m.x=(G?j.xo:j.x)+M},slope:0,touch:function(m){m.xTouched=!0},touched:function(m){return m.xTouched},untouch:function(m){m.xTouched=!1}},Dn={x:0,y:1,axis:"y",distance:function(m,j,M,L){return(M?m.yo:m.y)-(L?j.yo:j.y)},interpolate:function(m,j,M,L){var G,W,Y,ie,ce,pe,xe;if(!L||L===this)return G=m.yo-j.yo,W=m.yo-M.yo,ce=j.y-j.yo,pe=M.y-M.yo,(xe=(Y=Math.abs(G))+(ie=Math.abs(W)))===0?void(m.y=m.yo+(ce+pe)/2):void(m.y=m.yo+(ce*ie+pe*Y)/xe);G=L.distance(m,j,!0,!0),W=L.distance(m,M,!0,!0),ce=L.distance(j,j,!1,!0),pe=L.distance(M,M,!1,!0),(xe=(Y=Math.abs(G))+(ie=Math.abs(W)))===0?Dn.setRelative(m,m,(ce+pe)/2,L,!0):Dn.setRelative(m,m,(ce*ie+pe*Y)/xe,L,!0)},normalSlope:0,setRelative:function(m,j,M,L,G){var W,Y;L&&L!==this?(W=G?j.xo:j.x,Y=G?j.yo:j.y,W+=M*L.x,Y+=M*L.y,m.y=Y+L.normalSlope*(m.x-W)):m.y=(G?j.yo:j.y)+M},slope:Number.POSITIVE_INFINITY,touch:function(m){m.yTouched=!0},touched:function(m){return m.yTouched},untouch:function(m){m.yTouched=!1}};function oi(m,j){this.x=m,this.y=j,this.axis=void 0,this.slope=j/m,this.normalSlope=-m/j,Object.freeze(this)}function si(m,j){var M=Math.sqrt(m*m+j*j);return j/=M,(m/=M)==1&&j===0?Mn:m===0&&j===1?Dn:new oi(m,j)}function In(m,j,M,L){this.x=this.xo=Math.round(64*m)/64,this.y=this.yo=Math.round(64*j)/64,this.lastPointOfContour=M,this.onCurve=L,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Mn),Object.freeze(Dn),oi.prototype.distance=function(m,j,M,L){return this.x*Mn.distance(m,j,M,L)+this.y*Dn.distance(m,j,M,L)},oi.prototype.interpolate=function(m,j,M,L){var G=L.distance(m,j,!0,!0),W=L.distance(m,M,!0,!0),Y=(j=L.distance(j,j,!1,!0),M=L.distance(M,M,!1,!0),(G=Math.abs(G))+(W=Math.abs(W)));Y===0?this.setRelative(m,m,(j+M)/2,L,!0):this.setRelative(m,m,(j*W+M*G)/Y,L,!0)},oi.prototype.setRelative=function(m,j,M,L,G){var W=G?j.xo:j.x,Y=(G=G?j.yo:j.y,j=W+M*(L=L||this).x,W=G+M*L.y,G=L.normalSlope,M=this.slope,L=m.x,m.y);m.x=(M*L-G*j+W-Y)/(M-G),m.y=M*(m.x-L)+Y},oi.prototype.touch=function(m){m.xTouched=!0,m.yTouched=!0},In.prototype.nextTouched=function(m){for(var j=this.nextPointOnContour;!m.touched(j)&&j!==this;)j=j.nextPointOnContour;return j},In.prototype.prevTouched=function(m){for(var j=this.prevPointOnContour;!m.touched(j)&&j!==this;)j=j.prevPointOnContour;return j};var ii=Object.freeze(new In(0,0)),Og={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Qn(m,j){switch(this.env=m,this.stack=[],this.prog=j,m){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Mn,this.round=mf}}function ja(m){for(var j=m.tZone=new Array(m.gZone.length),M=0;M<j.length;M++)j[M]=new In(0,0)}function gf(m,j){var M,L=m.prog,G=m.ip,W=1;do if((M=L[++G])===88)W++;else if(M===89)W--;else if(M===64)G+=L[G+1]+1;else if(M===65)G+=2*L[G+1]+1;else if(176<=M&&M<=183)G+=M-176+1;else if(184<=M&&M<=191)G+=2*(M-184+1);else if(j&&W===1&&M===27)break;while(0<W);m.ip=G}function vf(m,j){o.DEBUG&&console.log(j.step,"SVTCA["+m.axis+"]"),j.fv=j.pv=j.dpv=m}function bf(m,j){o.DEBUG&&console.log(j.step,"SPVTCA["+m.axis+"]"),j.pv=j.dpv=m}function _f(m,j){o.DEBUG&&console.log(j.step,"SFVTCA["+m.axis+"]"),j.fv=m}function wf(m,j){var M,L=(G=j.stack).pop(),G=G.pop(),W=j.z2[L],Y=j.z1[G];o.DEBUG&&console.log("SPVTL["+m+"]",L,G),L=m?(M=W.y-Y.y,Y.x-W.x):(M=Y.x-W.x,Y.y-W.y),j.pv=j.dpv=si(M,L)}function xf(m,j){var M,L=(G=j.stack).pop(),G=G.pop(),W=j.z2[L],Y=j.z1[G];o.DEBUG&&console.log("SFVTL["+m+"]",L,G),L=m?(M=W.y-Y.y,Y.x-W.x):(M=Y.x-W.x,Y.y-W.y),j.fv=si(M,L)}function pu(m){o.DEBUG&&console.log(m.step,"POP[]"),m.stack.pop()}function jf(m,j){var M=j.stack.pop(),L=j.z0[M],G=j.fv,W=j.pv,Y=(o.DEBUG&&console.log(j.step,"MDAP["+m+"]",M),W.distance(L,ii));m&&(Y=j.round(Y)),G.setRelative(L,ii,Y,W),G.touch(L),j.rp0=j.rp1=M}function Sf(m,j){var M,L,G,W=j.z2,Y=W.length-2;o.DEBUG&&console.log(j.step,"IUP["+m.axis+"]");for(var ie=0;ie<Y;ie++)M=W[ie],m.touched(M)||(L=M.prevTouched(m))!==M&&(L===(G=M.nextTouched(m))&&m.setRelative(M,M,m.distance(L,L,!1,!0),m,!0),m.interpolate(M,L,G,m))}function Ef(m,j){for(var M=j.stack,L=m?j.rp1:j.rp2,G=(m?j.z0:j.z1)[L],W=j.fv,Y=j.pv,ie=j.loop,ce=j.z2;ie--;){var pe=M.pop(),xe=ce[pe],Me=Y.distance(G,G,!1,!0);W.setRelative(xe,xe,Me,Y),W.touch(xe),o.DEBUG&&console.log(j.step,(1<j.loop?"loop "+(j.loop-ie)+": ":"")+"SHP["+(m?"rp1":"rp2")+"]",pe)}j.loop=1}function Tf(m,j){for(var M=j.stack,L=m?j.rp1:j.rp2,G=(m?j.z0:j.z1)[L],W=j.fv,Y=j.pv,ie=(L=M.pop(),j.z2[j.contours[L]]),ce=ie,pe=(o.DEBUG&&console.log(j.step,"SHC["+m+"]",L),Y.distance(G,G,!1,!0));ce!==G&&W.setRelative(ce,ce,pe,Y),(ce=ce.nextPointOnContour)!==ie;);}function kf(m,j){var M,L,G=j.stack,W=m?j.rp1:j.rp2,Y=(W=(m?j.z0:j.z1)[W],j.fv),ie=j.pv;switch(G=G.pop(),o.DEBUG&&console.log(j.step,"SHZ["+m+"]",G),G){case 0:M=j.tZone;break;case 1:M=j.gZone;break;default:throw new Error("Invalid zone")}for(var ce=ie.distance(W,W,!1,!0),pe=M.length-2,xe=0;xe<pe;xe++)L=M[xe],Y.setRelative(L,L,ce,ie)}function Mf(m,j){var M=(L=j.stack).pop()/64,L=L.pop(),G=j.z1[L],W=j.z0[j.rp0],Y=j.fv,ie=j.pv;Y.setRelative(G,W,M,ie),Y.touch(G),o.DEBUG&&console.log(j.step,"MSIRP["+m+"]",M,L),j.rp1=j.rp0,j.rp2=L,m&&(j.rp0=L)}function Cf(m,j){var M=(L=j.stack).pop(),L=L.pop(),G=j.z0[L],W=j.fv,Y=j.pv,ie=j.cvt[M];o.DEBUG&&console.log(j.step,"MIAP["+m+"]",M,"(",ie,")",L),M=Y.distance(G,ii),m&&(Math.abs(M-ie)<j.cvCutIn&&(M=ie),M=j.round(M)),W.setRelative(G,ii,M,Y),j.zp0===0&&(G.xo=G.x,G.yo=G.y),W.touch(G),j.rp0=j.rp1=L}function Pf(m,j){var M=j.stack,L=M.pop(),G=j.z2[L];o.DEBUG&&console.log(j.step,"GC["+m+"]",L),M.push(64*j.dpv.distance(G,ii,m,!1))}function Af(m,j){var M=(L=j.stack).pop(),L=L.pop(),G=j.z1[M],W=j.z0[L];W=j.dpv.distance(W,G,m,m),o.DEBUG&&console.log(j.step,"MD["+m+"]",M,L,"->",W),j.stack.push(Math.round(64*W))}function mu(m,j){var M=j.stack,L=M.pop(),G=j.fv,W=j.pv,Y=j.ppem,ie=j.deltaBase+16*(m-1),ce=j.deltaShift,pe=j.z0;o.DEBUG&&console.log(j.step,"DELTAP["+m+"]",L,M);for(var xe=0;xe<L;xe++){var Me=M.pop(),Ce=M.pop();ie+((240&Ce)>>4)===Y&&(0<=(Ce=(15&Ce)-8)&&Ce++,o.DEBUG&&console.log(j.step,"DELTAPFIX",Me,"by",Ce*ce),Me=pe[Me],G.setRelative(Me,Me,Ce*ce,W))}}function Sa(m,j){var M=j.stack,L=M.pop();o.DEBUG&&console.log(j.step,"ROUND[]"),M.push(64*j.round(L/64))}function yu(m,j){var M=j.stack,L=M.pop(),G=j.ppem,W=j.deltaBase+16*(m-1),Y=j.deltaShift;o.DEBUG&&console.log(j.step,"DELTAC["+m+"]",L,M);for(var ie=0;ie<L;ie++){var ce=M.pop(),pe=M.pop();W+((240&pe)>>4)===G&&(0<=(pe=(15&pe)-8)&&pe++,pe*=Y,o.DEBUG&&console.log(j.step,"DELTACFIX",ce,"by",pe),j.cvt[ce]+=pe)}}function Of(m,j){var M,L=(G=j.stack).pop(),G=G.pop(),W=j.z2[L],Y=j.z1[G];o.DEBUG&&console.log(j.step,"SDPVTL["+m+"]",L,G),L=m?(M=W.y-Y.y,Y.x-W.x):(M=Y.x-W.x,Y.y-W.y),j.dpv=si(M,L)}function Kn(m,j){var M=j.stack,L=j.prog,G=j.ip;o.DEBUG&&console.log(j.step,"PUSHB["+m+"]");for(var W=0;W<m;W++)M.push(L[++G]);j.ip=G}function Jn(m,j){var M=j.ip,L=j.prog,G=j.stack;o.DEBUG&&console.log(j.ip,"PUSHW["+m+"]");for(var W=0;W<m;W++){var Y=L[++M]<<8|L[++M];32768&Y&&(Y=-(1+(65535^Y))),G.push(Y)}j.ip=M}function gt(m,j,M,L,G,W){var Y,ie,ce=W.stack,pe=m&&ce.pop(),xe=(ce=ce.pop(),W.rp0),Me=(xe=W.z0[xe],W.z1[ce]),Ce=W.minDis,ge=W.fv,Xe=W.dpv,Re=Y=Xe.distance(Me,xe,!0,!0),Fe=0<=Re?1:-1;Re=Math.abs(Re),m&&(ie=W.cvt[pe],L&&Math.abs(Re-ie)<W.cvCutIn&&(Re=ie)),M&&Re<Ce&&(Re=Ce),L&&(Re=W.round(Re)),ge.setRelative(Me,xe,Fe*Re,Xe),ge.touch(Me),o.DEBUG&&console.log(W.step,(m?"MIRP[":"MDRP[")+(j?"M":"m")+(M?">":"_")+(L?"R":"_")+(G===0?"Gr":G===1?"Bl":G===2?"Wh":"")+"]",m?pe+"("+W.cvt[pe]+","+ie+")":"",ce,"(d =",Y,"->",Fe*Re,")"),W.rp1=W.rp0,W.rp2=ce,j&&(W.rp0=ce)}pf.prototype.exec=function(m,j){if(typeof j!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var M=this.font,L=this._prepState;if(!L||L.ppem!==j){var G=this._fpgmState;if(!G){Qn.prototype=Og,(G=this._fpgmState=new Qn("fpgm",M.tables.fpgm)).funcs=[],G.font=M,o.DEBUG&&(console.log("---EXEC FPGM---"),G.step=-1);try{as(G)}catch(pe){return console.log("Hinting error in FPGM:"+pe),void(this._errorState=3)}}Qn.prototype=G,(L=this._prepState=new Qn("prep",M.tables.prep)).ppem=j;var W=M.tables.cvt;if(W)for(var Y=L.cvt=new Array(W.length),ie=j/M.unitsPerEm,ce=0;ce<W.length;ce++)Y[ce]=W[ce]*ie;else L.cvt=[];o.DEBUG&&(console.log("---EXEC PREP---"),L.step=-1);try{as(L)}catch(pe){this._errorState<2&&console.log("Hinting error in PREP:"+pe),this._errorState=2}}if(!(1<this._errorState))try{return Rg(m,L)}catch(pe){this._errorState<1&&(console.log("Hinting error:"+pe),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Rg=function(m,j){var M=j.ppem/j.font.unitsPerEm,L=M,G=m.components;if(Qn.prototype=j,G){for(var W=j.font,Y=[],ie=[],ce=0;ce<G.length;ce++){var pe=G[ce],xe=W.glyphs.get(pe.glyphIndex),Me=new Qn("glyf",xe.instructions);o.DEBUG&&(console.log("---EXEC COMP "+ce+"---"),Me.step=-1),Rf(xe,Me,M,L);for(var Ce=Math.round(pe.dx*M),ge=Math.round(pe.dy*L),Xe=Me.gZone,Re=Me.contours,Fe=0;Fe<Xe.length;Fe++){var Le=Xe[Fe];Le.xTouched=Le.yTouched=!1,Le.xo=Le.x=Le.x+Ce,Le.yo=Le.y=Le.y+ge}var Be=Y.length;Y.push.apply(Y,Xe);for(var ct=0;ct<Re.length;ct++)ie.push(Re[ct]+Be)}m.instructions&&!Me.inhibitGridFit&&((Me=new Qn("glyf",m.instructions)).gZone=Me.z0=Me.z1=Me.z2=Y,Me.contours=ie,Y.push(new In(0,0),new In(Math.round(m.advanceWidth*M),0)),o.DEBUG&&(console.log("---EXEC COMPOSITE---"),Me.step=-1),as(Me),Y.length-=2)}else Me=new Qn("glyf",m.instructions),o.DEBUG&&(console.log("---EXEC GLYPH---"),Me.step=-1),Rf(m,Me,M,L),Y=Me.gZone;return Y},Rf=function(m,j,M,L){for(var G,W,Y,ie=m.points||[],ce=ie.length,pe=j.gZone=j.z0=j.z1=j.z2=[],xe=j.contours=[],Me=0;Me<ce;Me++)G=ie[Me],pe[Me]=new In(G.x*M,G.y*L,G.lastPointOfContour,G.onCurve);for(var Ce=0;Ce<ce;Ce++)G=pe[Ce],W||(W=G,xe.push(Ce)),G.lastPointOfContour?((G.nextPointOnContour=W).prevPointOnContour=G,W=void 0):(Y=pe[Ce+1],(G.nextPointOnContour=Y).prevPointOnContour=G);if(!j.inhibitGridFit){if(o.DEBUG){console.log("PROCESSING GLYPH",j.stack);for(var ge=0;ge<ce;ge++)console.log(ge,pe[ge].x,pe[ge].y)}if(pe.push(new In(0,0),new In(Math.round(m.advanceWidth*M),0)),as(j),pe.length-=2,o.DEBUG){console.log("FINISHED GLYPH",j.stack);for(var Xe=0;Xe<ce;Xe++)console.log(Xe,pe[Xe].x,pe[Xe].y)}}},as=function(m){var j=m.prog;if(j){var M,L=j.length;for(m.ip=0;m.ip<L;m.ip++){if(o.DEBUG&&m.step++,!(M=Lg[j[m.ip]]))throw new Error("unknown instruction: 0x"+Number(j[m.ip]).toString(16));M(m)}}},Lg=[vf.bind(void 0,Dn),vf.bind(void 0,Mn),bf.bind(void 0,Dn),bf.bind(void 0,Mn),_f.bind(void 0,Dn),_f.bind(void 0,Mn),wf.bind(void 0,0),wf.bind(void 0,1),xf.bind(void 0,0),xf.bind(void 0,1),function(m){var j=(M=m.stack).pop(),M=M.pop();o.DEBUG&&console.log(m.step,"SPVFS[]",j,M),m.pv=m.dpv=si(M,j)},function(m){var j=(M=m.stack).pop(),M=M.pop();o.DEBUG&&console.log(m.step,"SPVFS[]",j,M),m.fv=si(M,j)},function(m){var j=m.stack,M=m.pv;o.DEBUG&&console.log(m.step,"GPV[]"),j.push(16384*M.x),j.push(16384*M.y)},function(m){var j=m.stack,M=m.fv;o.DEBUG&&console.log(m.step,"GFV[]"),j.push(16384*M.x),j.push(16384*M.y)},function(m){m.fv=m.pv,o.DEBUG&&console.log(m.step,"SFVTPV[]")},function(m){var j=(W=m.stack).pop(),M=W.pop(),L=W.pop(),G=W.pop(),W=W.pop(),Y=m.z0,ie=m.z1,ce=Y[j],pe=(Y=Y[M],ie[L]),xe=(ie=ie[G],m=m.z2[W],j=(o.DEBUG&&console.log("ISECT[], ",j,M,L,G,W),ce.x),M=ce.y,L=Y.x,G=Y.y,W=pe.x,ce=pe.y,Y=ie.x,ie=(j-L)*(ce-(pe=ie.y))-(M-G)*(W-Y),j*G-M*L),Me=W*pe-ce*Y;m.x=(xe*(W-Y)-Me*(j-L))/ie,m.y=(xe*(ce-pe)-Me*(M-G))/ie},function(m){m.rp0=m.stack.pop(),o.DEBUG&&console.log(m.step,"SRP0[]",m.rp0)},function(m){m.rp1=m.stack.pop(),o.DEBUG&&console.log(m.step,"SRP1[]",m.rp1)},function(m){m.rp2=m.stack.pop(),o.DEBUG&&console.log(m.step,"SRP2[]",m.rp2)},function(m){var j=m.stack.pop();switch(o.DEBUG&&console.log(m.step,"SZP0[]",j),m.zp0=j){case 0:m.tZone||ja(m),m.z0=m.tZone;break;case 1:m.z0=m.gZone;break;default:throw new Error("Invalid zone pointer")}},function(m){var j=m.stack.pop();switch(o.DEBUG&&console.log(m.step,"SZP1[]",j),m.zp1=j){case 0:m.tZone||ja(m),m.z1=m.tZone;break;case 1:m.z1=m.gZone;break;default:throw new Error("Invalid zone pointer")}},function(m){var j=m.stack.pop();switch(o.DEBUG&&console.log(m.step,"SZP2[]",j),m.zp2=j){case 0:m.tZone||ja(m),m.z2=m.tZone;break;case 1:m.z2=m.gZone;break;default:throw new Error("Invalid zone pointer")}},function(m){var j=m.stack.pop();switch(o.DEBUG&&console.log(m.step,"SZPS[]",j),m.zp0=m.zp1=m.zp2=j){case 0:m.tZone||ja(m),m.z0=m.z1=m.z2=m.tZone;break;case 1:m.z0=m.z1=m.z2=m.gZone;break;default:throw new Error("Invalid zone pointer")}},function(m){m.loop=m.stack.pop(),o.DEBUG&&console.log(m.step,"SLOOP[]",m.loop)},function(m){o.DEBUG&&console.log(m.step,"RTG[]"),m.round=mf},function(m){o.DEBUG&&console.log(m.step,"RTHG[]"),m.round=Cg},function(m){var j=m.stack.pop();o.DEBUG&&console.log(m.step,"SMD[]",j),m.minDis=j/64},function(m){o.DEBUG&&console.log(m.step,"ELSE[]"),gf(m,!1)},function(m){var j=m.stack.pop();o.DEBUG&&console.log(m.step,"JMPR[]",j),m.ip+=j-1},function(m){var j=m.stack.pop();o.DEBUG&&console.log(m.step,"SCVTCI[]",j),m.cvCutIn=j/64},void 0,void 0,function(m){var j=m.stack;o.DEBUG&&console.log(m.step,"DUP[]"),j.push(j[j.length-1])},pu,function(m){o.DEBUG&&console.log(m.step,"CLEAR[]"),m.stack.length=0},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"SWAP[]"),j.push(M),j.push(L)},function(m){var j=m.stack;o.DEBUG&&console.log(m.step,"DEPTH[]"),j.push(j.length)},function(m){var j=m.stack,M=j.pop();o.DEBUG&&console.log(m.step,"CINDEX[]",M),j.push(j[j.length-M])},function(m){var j=m.stack,M=j.pop();o.DEBUG&&console.log(m.step,"MINDEX[]",M),j.push(j.splice(j.length-M,1)[0])},void 0,void 0,void 0,function(m){var j=(L=m.stack).pop(),M=L.pop(),L=(o.DEBUG&&console.log(m.step,"LOOPCALL[]",j,M),m.ip),G=m.prog;m.prog=m.funcs[j];for(var W=0;W<M;W++)as(m),o.DEBUG&&console.log(++m.step,W+1<M?"next loopcall":"done loopcall",W);m.ip=L,m.prog=G},function(m){var j=m.stack.pop(),M=(o.DEBUG&&console.log(m.step,"CALL[]",j),m.ip),L=m.prog;m.prog=m.funcs[j],as(m),m.ip=M,m.prog=L,o.DEBUG&&console.log(++m.step,"returning from",j)},function(m){if(m.env!=="fpgm")throw new Error("FDEF not allowed here");var j=m.stack,M=m.prog,L=m.ip,G=(j=j.pop(),L);for(o.DEBUG&&console.log(m.step,"FDEF[]",j);M[++L]!==45;);m.ip=L,m.funcs[j]=M.slice(G+1,L)},void 0,jf.bind(void 0,0),jf.bind(void 0,1),Sf.bind(void 0,Dn),Sf.bind(void 0,Mn),Ef.bind(void 0,0),Ef.bind(void 0,1),Tf.bind(void 0,0),Tf.bind(void 0,1),kf.bind(void 0,0),kf.bind(void 0,1),function(m){for(var j=m.stack,M=m.loop,L=m.fv,G=j.pop()/64,W=m.z2;M--;){var Y=j.pop(),ie=W[Y];o.DEBUG&&console.log(m.step,(1<m.loop?"loop "+(m.loop-M)+": ":"")+"SHPIX[]",Y,G),L.setRelative(ie,ie,G),L.touch(ie)}m.loop=1},function(m){for(var j=m.stack,M=m.rp1,L=m.rp2,G=m.loop,W=m.z0[M],Y=m.z1[L],ie=m.fv,ce=m.dpv,pe=m.z2;G--;){var xe=j.pop(),Me=pe[xe];o.DEBUG&&console.log(m.step,(1<m.loop?"loop "+(m.loop-G)+": ":"")+"IP[]",xe,M,"<->",L),ie.interpolate(Me,W,Y,ce),ie.touch(Me)}m.loop=1},Mf.bind(void 0,0),Mf.bind(void 0,1),function(m){for(var j=m.stack,M=m.rp0,L=m.z0[M],G=m.loop,W=m.fv,Y=m.pv,ie=m.z1;G--;){var ce=j.pop(),pe=ie[ce];o.DEBUG&&console.log(m.step,(1<m.loop?"loop "+(m.loop-G)+": ":"")+"ALIGNRP[]",ce),W.setRelative(pe,L,0,Y),W.touch(pe)}m.loop=1},function(m){o.DEBUG&&console.log(m.step,"RTDG[]"),m.round=Mg},Cf.bind(void 0,0),Cf.bind(void 0,1),function(m){var j=m.prog,M=m.ip,L=m.stack,G=j[++M];o.DEBUG&&console.log(m.step,"NPUSHB[]",G);for(var W=0;W<G;W++)L.push(j[++M]);m.ip=M},function(m){var j=m.ip,M=m.prog,L=m.stack,G=M[++j];o.DEBUG&&console.log(m.step,"NPUSHW[]",G);for(var W=0;W<G;W++){var Y=M[++j]<<8|M[++j];32768&Y&&(Y=-(1+(65535^Y))),L.push(Y)}m.ip=j},function(m){var j=m.stack,M=(M=m.store)||(m.store=[]),L=j.pop();j=j.pop(),o.DEBUG&&console.log(m.step,"WS",L,j),M[j]=L},function(m){var j=m.stack,M=m.store,L=j.pop();o.DEBUG&&console.log(m.step,"RS",L),m=M&&M[L]||0,j.push(m)},function(m){var j=(M=m.stack).pop(),M=M.pop();o.DEBUG&&console.log(m.step,"WCVTP",j,M),m.cvt[M]=j/64},function(m){var j=m.stack,M=j.pop();o.DEBUG&&console.log(m.step,"RCVT",M),j.push(64*m.cvt[M])},Pf.bind(void 0,0),Pf.bind(void 0,1),void 0,Af.bind(void 0,0),Af.bind(void 0,1),function(m){o.DEBUG&&console.log(m.step,"MPPEM[]"),m.stack.push(m.ppem)},void 0,function(m){o.DEBUG&&console.log(m.step,"FLIPON[]"),m.autoFlip=!0},void 0,void 0,function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"LT[]",M,L),j.push(L<M?1:0)},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"LTEQ[]",M,L),j.push(L<=M?1:0)},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"GT[]",M,L),j.push(M<L?1:0)},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"GTEQ[]",M,L),j.push(M<=L?1:0)},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"EQ[]",M,L),j.push(M===L?1:0)},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"NEQ[]",M,L),j.push(M!==L?1:0)},function(m){var j=m.stack,M=j.pop();o.DEBUG&&console.log(m.step,"ODD[]",M),j.push(Math.trunc(M)%2?1:0)},function(m){var j=m.stack,M=j.pop();o.DEBUG&&console.log(m.step,"EVEN[]",M),j.push(Math.trunc(M)%2?0:1)},function(m){var j=m.stack.pop();o.DEBUG&&console.log(m.step,"IF[]",j),j||(gf(m,!0),o.DEBUG&&console.log(m.step,"EIF[]"))},function(m){o.DEBUG&&console.log(m.step,"EIF[]")},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"AND[]",M,L),j.push(M&&L?1:0)},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"OR[]",M,L),j.push(M||L?1:0)},function(m){var j=m.stack,M=j.pop();o.DEBUG&&console.log(m.step,"NOT[]",M),j.push(M?0:1)},mu.bind(void 0,1),function(m){var j=m.stack.pop();o.DEBUG&&console.log(m.step,"SDB[]",j),m.deltaBase=j},function(m){var j=m.stack.pop();o.DEBUG&&console.log(m.step,"SDS[]",j),m.deltaShift=Math.pow(.5,j)},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"ADD[]",M,L),j.push(L+M)},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"SUB[]",M,L),j.push(L-M)},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"DIV[]",M,L),j.push(64*L/M)},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"MUL[]",M,L),j.push(L*M/64)},function(m){var j=m.stack,M=j.pop();o.DEBUG&&console.log(m.step,"ABS[]",M),j.push(Math.abs(M))},function(m){var j=m.stack,M=j.pop();o.DEBUG&&console.log(m.step,"NEG[]",M),j.push(-M)},function(m){var j=m.stack,M=j.pop();o.DEBUG&&console.log(m.step,"FLOOR[]",M),j.push(64*Math.floor(M/64))},function(m){var j=m.stack,M=j.pop();o.DEBUG&&console.log(m.step,"CEILING[]",M),j.push(64*Math.ceil(M/64))},Sa.bind(void 0,0),Sa.bind(void 0,1),Sa.bind(void 0,2),Sa.bind(void 0,3),void 0,void 0,void 0,void 0,function(m){var j=(M=m.stack).pop(),M=M.pop();o.DEBUG&&console.log(m.step,"WCVTF[]",j,M),m.cvt[M]=j*m.ppem/m.font.unitsPerEm},mu.bind(void 0,2),mu.bind(void 0,3),yu.bind(void 0,1),yu.bind(void 0,2),yu.bind(void 0,3),function(m){var j,M=m.stack.pop();switch(o.DEBUG&&console.log(m.step,"SROUND[]",M),m.round=yf,192&M){case 0:j=.5;break;case 64:j=1;break;case 128:j=2;break;default:throw new Error("invalid SROUND value")}switch(m.srPeriod=j,48&M){case 0:m.srPhase=0;break;case 16:m.srPhase=.25*j;break;case 32:m.srPhase=.5*j;break;case 48:m.srPhase=.75*j;break;default:throw new Error("invalid SROUND value")}m.srThreshold=(M&=15)==0?0:(M/8-.5)*j},function(m){var j,M=m.stack.pop();switch(o.DEBUG&&console.log(m.step,"S45ROUND[]",M),m.round=yf,192&M){case 0:j=Math.sqrt(2)/2;break;case 64:j=Math.sqrt(2);break;case 128:j=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(m.srPeriod=j,48&M){case 0:m.srPhase=0;break;case 16:m.srPhase=.25*j;break;case 32:m.srPhase=.5*j;break;case 48:m.srPhase=.75*j;break;default:throw new Error("invalid S45ROUND value")}m.srThreshold=(M&=15)==0?0:(M/8-.5)*j},void 0,void 0,function(m){o.DEBUG&&console.log(m.step,"ROFF[]"),m.round=kg},void 0,function(m){o.DEBUG&&console.log(m.step,"RUTG[]"),m.round=Pg},function(m){o.DEBUG&&console.log(m.step,"RDTG[]"),m.round=Ag},pu,pu,void 0,void 0,void 0,void 0,void 0,function(m){var j=m.stack.pop();o.DEBUG&&console.log(m.step,"SCANCTRL[]",j)},Of.bind(void 0,0),Of.bind(void 0,1),function(m){var j=m.stack,M=j.pop(),L=0;o.DEBUG&&console.log(m.step,"GETINFO[]",M),1&M&&(L=35),32&M&&(L|=4096),j.push(L)},void 0,function(m){var j=m.stack,M=j.pop(),L=j.pop(),G=j.pop();o.DEBUG&&console.log(m.step,"ROLL[]"),j.push(L),j.push(M),j.push(G)},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"MAX[]",M,L),j.push(Math.max(L,M))},function(m){var j=m.stack,M=j.pop(),L=j.pop();o.DEBUG&&console.log(m.step,"MIN[]",M,L),j.push(Math.min(L,M))},function(m){var j=m.stack.pop();o.DEBUG&&console.log(m.step,"SCANTYPE[]",j)},function(m){var j=m.stack.pop(),M=m.stack.pop();switch(o.DEBUG&&console.log(m.step,"INSTCTRL[]",j,M),j){case 1:return void(m.inhibitGridFit=!!M);case 2:return void(m.ignoreCvt=!!M);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Kn.bind(void 0,1),Kn.bind(void 0,2),Kn.bind(void 0,3),Kn.bind(void 0,4),Kn.bind(void 0,5),Kn.bind(void 0,6),Kn.bind(void 0,7),Kn.bind(void 0,8),Jn.bind(void 0,1),Jn.bind(void 0,2),Jn.bind(void 0,3),Jn.bind(void 0,4),Jn.bind(void 0,5),Jn.bind(void 0,6),Jn.bind(void 0,7),Jn.bind(void 0,8),gt.bind(void 0,0,0,0,0,0),gt.bind(void 0,0,0,0,0,1),gt.bind(void 0,0,0,0,0,2),gt.bind(void 0,0,0,0,0,3),gt.bind(void 0,0,0,0,1,0),gt.bind(void 0,0,0,0,1,1),gt.bind(void 0,0,0,0,1,2),gt.bind(void 0,0,0,0,1,3),gt.bind(void 0,0,0,1,0,0),gt.bind(void 0,0,0,1,0,1),gt.bind(void 0,0,0,1,0,2),gt.bind(void 0,0,0,1,0,3),gt.bind(void 0,0,0,1,1,0),gt.bind(void 0,0,0,1,1,1),gt.bind(void 0,0,0,1,1,2),gt.bind(void 0,0,0,1,1,3),gt.bind(void 0,0,1,0,0,0),gt.bind(void 0,0,1,0,0,1),gt.bind(void 0,0,1,0,0,2),gt.bind(void 0,0,1,0,0,3),gt.bind(void 0,0,1,0,1,0),gt.bind(void 0,0,1,0,1,1),gt.bind(void 0,0,1,0,1,2),gt.bind(void 0,0,1,0,1,3),gt.bind(void 0,0,1,1,0,0),gt.bind(void 0,0,1,1,0,1),gt.bind(void 0,0,1,1,0,2),gt.bind(void 0,0,1,1,0,3),gt.bind(void 0,0,1,1,1,0),gt.bind(void 0,0,1,1,1,1),gt.bind(void 0,0,1,1,1,2),gt.bind(void 0,0,1,1,1,3),gt.bind(void 0,1,0,0,0,0),gt.bind(void 0,1,0,0,0,1),gt.bind(void 0,1,0,0,0,2),gt.bind(void 0,1,0,0,0,3),gt.bind(void 0,1,0,0,1,0),gt.bind(void 0,1,0,0,1,1),gt.bind(void 0,1,0,0,1,2),gt.bind(void 0,1,0,0,1,3),gt.bind(void 0,1,0,1,0,0),gt.bind(void 0,1,0,1,0,1),gt.bind(void 0,1,0,1,0,2),gt.bind(void 0,1,0,1,0,3),gt.bind(void 0,1,0,1,1,0),gt.bind(void 0,1,0,1,1,1),gt.bind(void 0,1,0,1,1,2),gt.bind(void 0,1,0,1,1,3),gt.bind(void 0,1,1,0,0,0),gt.bind(void 0,1,1,0,0,1),gt.bind(void 0,1,1,0,0,2),gt.bind(void 0,1,1,0,0,3),gt.bind(void 0,1,1,0,1,0),gt.bind(void 0,1,1,0,1,1),gt.bind(void 0,1,1,0,1,2),gt.bind(void 0,1,1,0,1,3),gt.bind(void 0,1,1,1,0,0),gt.bind(void 0,1,1,1,0,1),gt.bind(void 0,1,1,1,0,2),gt.bind(void 0,1,1,1,0,3),gt.bind(void 0,1,1,1,1,0),gt.bind(void 0,1,1,1,1,1),gt.bind(void 0,1,1,1,1,2),gt.bind(void 0,1,1,1,1,3)],Dg=Array.from||function(m){return m.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Jt(m){(m=m||{}).empty||(is(m.familyName,"When creating a new Font object, familyName is required."),is(m.styleName,"When creating a new Font object, styleName is required."),is(m.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),is(m.ascender,"When creating a new Font object, ascender is required."),is(m.descender,"When creating a new Font object, descender is required."),is(m.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:m.familyName||" "},fontSubfamily:{en:m.styleName||" "},fullName:{en:m.fullName||m.familyName+" "+m.styleName},postScriptName:{en:m.postScriptName||(m.familyName+m.styleName).replace(/\s/g,"")},designer:{en:m.designer||" "},designerURL:{en:m.designerURL||" "},manufacturer:{en:m.manufacturer||" "},manufacturerURL:{en:m.manufacturerURL||" "},license:{en:m.license||" "},licenseURL:{en:m.licenseURL||" "},version:{en:m.version||"Version 0.1"},description:{en:m.description||" "},copyright:{en:m.copyright||" "},trademark:{en:m.trademark||" "}},this.unitsPerEm=m.unitsPerEm||1e3,this.ascender=m.ascender,this.descender=m.descender,this.createdTimestamp=m.createdTimestamp,this.tables={os2:{usWeightClass:m.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:m.widthClass||this.usWidthClasses.MEDIUM,fsSelection:m.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ze.GlyphSet(this,m.glyphs||[]),this.encoding=new K(this),this.position=new xa(this),this.substitution=new kn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new pf(this):void 0)}})}Jt.prototype.hasChar=function(m){return this.encoding.charToGlyphIndex(m)!==null},Jt.prototype.charToGlyphIndex=function(m){return this.encoding.charToGlyphIndex(m)},Jt.prototype.charToGlyph=function(m){return m=this.charToGlyphIndex(m),this.glyphs.get(m)||this.glyphs.get(0)},Jt.prototype.stringToGlyphs=function(m,j){j=j||this.defaultRenderOptions;for(var M=Dg(m),L=[],G=0;G<M.length;G+=1){var W=M[G];L.push(this.charToGlyphIndex(W))}var Y=L.length;if(j.features){m=j.script||this.substitution.getDefaultScriptName();var ie=[];j.features.liga&&(ie=ie.concat(this.substitution.getFeature("liga",m,j.language))),j.features.rlig&&(ie=ie.concat(this.substitution.getFeature("rlig",m,j.language)));for(var ce=0;ce<Y;ce+=1)for(var pe=0;pe<ie.length;pe++){for(var xe=ie[pe],Me=xe.sub,Ce=Me.length,ge=0;ge<Ce&&Me[ge]===L[ce+ge];)ge++;ge===Ce&&(L.splice(ce,Ce,xe.by),Y=Y-Ce+1)}}for(var Xe=new Array(Y),Re=this.glyphs.get(0),Fe=0;Fe<Y;Fe+=1)Xe[Fe]=this.glyphs.get(L[Fe])||Re;return Xe},Jt.prototype.nameToGlyphIndex=function(m){return this.glyphNames.nameToGlyphIndex(m)},Jt.prototype.nameToGlyph=function(m){return m=this.nameToGlyphIndex(m),this.glyphs.get(m)||this.glyphs.get(0)},Jt.prototype.glyphIndexToName=function(m){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(m):""},Jt.prototype.getKerningValue=function(m,j){m=m.index||m,j=j.index||j;var M=this.position.defaultKerningTables;return M?this.position.getKerningValue(M,m,j):this.kerningPairs[m+","+j]||0},Jt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Jt.prototype.forEachGlyph=function(m,j,M,L,G,W){j=j!==void 0?j:0,M=M!==void 0?M:0,G=G||this.defaultRenderOptions;var Y,ie=1/this.unitsPerEm*(L=L!==void 0?L:72),ce=this.stringToGlyphs(m,G);G.kerning&&(m=G.script||this.position.getDefaultScriptName(),Y=this.position.getKerningTables(m,G.language));for(var pe=0;pe<ce.length;pe+=1){var xe=ce[pe];W.call(this,xe,j,M,L,G),xe.advanceWidth&&(j+=xe.advanceWidth*ie),G.kerning&&pe<ce.length-1&&(j+=(Y?this.position.getKerningValue(Y,xe.index,ce[pe+1].index):this.getKerningValue(xe,ce[pe+1]))*ie),G.letterSpacing?j+=G.letterSpacing*L:G.tracking&&(j+=G.tracking/1e3*L)}return j},Jt.prototype.getPath=function(m,j,M,L,G){var W=new V;return this.forEachGlyph(m,j,M,L,G,function(Y,ie,ce,pe){Y=Y.getPath(ie,ce,pe,G,this),W.extend(Y)}),W},Jt.prototype.getPaths=function(m,j,M,L,G){var W=[];return this.forEachGlyph(m,j,M,L,G,function(Y,ie,ce,pe){Y=Y.getPath(ie,ce,pe,G,this),W.push(Y)}),W},Jt.prototype.getAdvanceWidth=function(m,j,M){return this.forEachGlyph(m,0,0,j,M,function(){})},Jt.prototype.draw=function(m,j,M,L,G,W){this.getPath(j,M,L,G,W).draw(m)},Jt.prototype.drawPoints=function(m,j,M,L,G,W){this.forEachGlyph(j,M,L,G,W,function(Y,ie,ce,pe){Y.drawPoints(m,ie,ce,pe)})},Jt.prototype.drawMetrics=function(m,j,M,L,G,W){this.forEachGlyph(j,M,L,G,W,function(Y,ie,ce,pe){Y.drawMetrics(m,ie,ce,pe)})},Jt.prototype.getEnglishName=function(m){if(m=this.names[m])return m.en},Jt.prototype.validate=function(){var m=this;function j(M){(M=m.getEnglishName(M))&&M.trim().length}j("fontFamily"),j("weightName"),j("manufacturer"),j("copyright"),j("version"),this.unitsPerEm},Jt.prototype.toTables=function(){return Sg(this)},Jt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Jt.prototype.toArrayBuffer=function(){for(var m=this.toTables().encode(),j=new ArrayBuffer(m.length),M=new Uint8Array(j),L=0;L<m.length;L++)M[L]=m[L];return j},Jt.prototype.download=function(m){var j=this.getEnglishName("fontFamily"),M=this.getEnglishName("fontSubfamily"),L=(m=m||j.replace(/\s/g,"")+"-"+M+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,L.byteLength,function(G){G.root.getFile(m,{create:!0},function(W){W.createWriter(function(Y){var ie=new DataView(L);ie=new Blob([ie],{type:"font/opentype"}),Y.write(ie),Y.addEventListener("writeend",function(){location.href=W.toURL()},!1)})})},function(G){throw new Error(G.name+": "+G.message)})):(j=t("fs"),M=function(G){for(var W=new y(G.byteLength),Y=new Uint8Array(G),ie=0;ie<W.length;++ie)W[ie]=Y[ie];return W}(L),j.writeFileSync(m,M))},Jt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Jt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Jt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ig=function(m,j,M){for(var L,G,W,Y,ie=new Pe.Parser(m,j),ce=ie.parseULong(),pe=(Z.argument(ce===65536,"Unsupported fvar table version."),ie.parseOffset16()),xe=(ie.skip("uShort",1),ie.parseUShort()),Me=ie.parseUShort(),Ce=ie.parseUShort(),ge=ie.parseUShort(),Xe=[],Re=0;Re<xe;Re++)Xe.push((L=m,G=j+pe+Re*Me,W=M,Y={},L=new Pe.Parser(L,G),Y.tag=L.parseTag(),Y.minValue=L.parseFixed(),Y.defaultValue=L.parseFixed(),Y.maxValue=L.parseFixed(),L.skip("uShort",1),Y.name=W[L.parseUShort()]||{},Y));for(var Fe=[],Le=j+pe+xe*Me,Be=0;Be<Ce;Be++)Fe.push(function(ct,ut,dt,It){var Ft={},qt=new Pe.Parser(ct,ut);Ft.name=It[qt.parseUShort()]||{},qt.skip("uShort",1),Ft.coordinates={};for(var lr=0;lr<dt.length;++lr)Ft.coordinates[dt[lr].tag]=qt.parseFixed();return Ft}(m,Le+Be*ge,Xe,M));return{axes:Xe,instances:Fe}},vn=new Array(10);vn[1]=function(){var m=this.offset+this.relativeOffset,j=this.parseUShort();return j===1?{posFormat:1,coverage:this.parsePointer(fe.coverage),value:this.parseValueRecord()}:j===2?{posFormat:2,coverage:this.parsePointer(fe.coverage),values:this.parseValueRecordList()}:void Z.assert(!1,"0x"+m.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},vn[2]=function(){var m,j,M,L,G=this.offset+this.relativeOffset,W=this.parseUShort(),Y=(G=(Z.assert(W===1||W===2,"0x"+G.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(fe.coverage)),this.parseUShort()),ie=this.parseUShort();return W===1?{posFormat:W,coverage:G,valueFormat1:Y,valueFormat2:ie,pairSets:this.parseList(fe.pointer(fe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Y),value2:this.parseValueRecord(ie)}})))}:W===2?(m=this.parsePointer(fe.classDef),j=this.parsePointer(fe.classDef),M=this.parseUShort(),L=this.parseUShort(),{posFormat:W,coverage:G,valueFormat1:Y,valueFormat2:ie,classDef1:m,classDef2:j,class1Count:M,class2Count:L,classRecords:this.parseList(M,fe.list(L,function(){return{value1:this.parseValueRecord(Y),value2:this.parseValueRecord(ie)}}))}):void 0},vn[3]=function(){return{error:"GPOS Lookup 3 not supported"}},vn[4]=function(){return{error:"GPOS Lookup 4 not supported"}},vn[5]=function(){return{error:"GPOS Lookup 5 not supported"}},vn[6]=function(){return{error:"GPOS Lookup 6 not supported"}},vn[7]=function(){return{error:"GPOS Lookup 7 not supported"}},vn[8]=function(){return{error:"GPOS Lookup 8 not supported"}},vn[9]=function(){return{error:"GPOS Lookup 9 not supported"}},new Array(10);var Fg=function(m,j){return j=(m=new fe(m,j=j||0)).parseVersion(1),Z.argument(j===1||j===1.1,"Unsupported GPOS table version "+j),j===1?{version:j,scripts:m.parseScriptList(),features:m.parseFeatureList(),lookups:m.parseLookupList(vn)}:{version:j,scripts:m.parseScriptList(),features:m.parseFeatureList(),lookups:m.parseLookupList(vn),variations:m.parseFeatureVariationsList()}},Ng=function(m,j){if((j=(m=new Pe.Parser(m,j)).parseUShort())===0){var M=m,L={},G=(M.skip("uShort"),M.parseUShort()),W=(Z.argument(G===0,"Unsupported kern sub-table version."),M.skip("uShort",2),M.parseUShort());M.skip("uShort",3);for(var Y=0;Y<W;Y+=1){var ie=M.parseUShort(),ce=M.parseUShort(),pe=M.parseShort();L[ie+","+ce]=pe}return L}if(j!==1)throw new Error("Unsupported kern table version ("+j+").");var xe=m,Me={};if(xe.skip("uShort"),1<xe.parseULong()&&console.warn("Only the first kern subtable is supported."),xe.skip("uLong"),G=255&xe.parseUShort(),xe.skip("uShort"),G==0){var Ce=xe.parseUShort();xe.skip("uShort",3);for(var ge=0;ge<Ce;ge+=1){var Xe=xe.parseUShort(),Re=xe.parseUShort(),Fe=xe.parseShort();Me[Xe+","+Re]=Fe}}return Me},Ug=function(m,j,M,L){for(var G=new Pe.Parser(m,j),W=L?G.parseUShort:G.parseULong,Y=[],ie=0;ie<M+1;ie+=1){var ce=W.call(G);L&&(ce*=2),Y.push(ce)}return Y};function Bg(m,j){t("fs").readFile(m,function(M,L){if(M)return j(M.message);j(null,cf(L))})}function Gg(m,j){var M=new XMLHttpRequest;M.open("get",m,!0),M.responseType="arraybuffer",M.onload=function(){return M.response?j(null,M.response):j("Font could not be loaded: "+M.statusText)},M.onerror=function(){j("Font could not be loaded")},M.send()}function Lf(m,j){for(var M=[],L=12,G=0;G<j;G+=1){var W=Pe.getTag(m,L),Y=Pe.getULong(m,L+4),ie=Pe.getULong(m,L+8),ce=Pe.getULong(m,L+12);M.push({tag:W,checksum:Y,offset:ie,length:ce,compression:!1}),L+=16}return M}function br(m,j){if(j.compression!=="WOFF")return{data:m,offset:j.offset};m=new Uint8Array(m.buffer,j.offset+2,j.compressedLength-2);var M=new Uint8Array(j.length);if(function(L,G){var W,Y,ie,ce=new l(L,G);do{switch((Y=ce).bitcount--||(Y.tag=Y.source[Y.sourceIndex++],Y.bitcount=7),ie=1&Y.tag,Y.tag>>>=1,Y=ie,T(ce,2,0)){case 0:W=function(dt){for(var It,Ft;8<dt.bitcount;)dt.sourceIndex--,dt.bitcount-=8;if((It=256*dt.source[dt.sourceIndex+1]+dt.source[dt.sourceIndex])!==(65535&~(256*dt.source[dt.sourceIndex+3]+dt.source[dt.sourceIndex+2])))return-3;for(dt.sourceIndex+=4,Ft=It;Ft;--Ft)dt.dest[dt.destLen++]=dt.source[dt.sourceIndex++];return dt.bitcount=0,0}(ce);break;case 1:W=A(ce,c,u);break;case 2:ct=Be=Le=ut=pe=Fe=void 0;for(var pe,xe=ce,Me=ce.ltree,Ce=ce.dtree,ge=T(xe,5,257),Xe=T(xe,5,1),Re=T(xe,4,4),Fe=0;Fe<19;++Fe)_[Fe]=0;for(Fe=0;Fe<Re;++Fe){var Le=T(xe,3,0);_[h[Fe]]=Le}for(P(w,_,0,19),pe=0;pe<ge+Xe;){var Be=D(xe,w);switch(Be){case 16:for(var ct=_[pe-1],ut=T(xe,2,3);ut;--ut)_[pe++]=ct;break;case 17:for(ut=T(xe,3,3);ut;--ut)_[pe++]=0;break;case 18:for(ut=T(xe,7,11);ut;--ut)_[pe++]=0;break;default:_[pe++]=Be}}P(Me,_,0,ge),P(Ce,_,ge,Xe),W=A(ce,ce.ltree,ce.dtree);break;default:W=-3}if(W!==0)throw new Error("Data error")}while(!Y);ce.destLen<ce.dest.length?typeof ce.dest.slice=="function"?ce.dest.slice(0,ce.destLen):ce.dest.subarray(0,ce.destLen):ce.dest}(m,M),M.byteLength!==j.length)throw new Error("Decompression error: "+j.tag+" decompressed length doesn't match recorded length");return{data:new DataView(M.buffer,0),offset:0}}function gu(m){var j,M,L,G,W,Y,ie,ce,pe,xe,Me,Ce,ge,Xe,Re=new Jt({empty:!0}),Fe=new DataView(m,0),Le=[];if((m=Pe.getTag(Fe,0))===String.fromCharCode(0,1,0,0)||m==="true"||m==="typ1")Re.outlinesFormat="truetype",Le=Lf(Fe,L=Pe.getUShort(Fe,4));else if(m==="OTTO")Re.outlinesFormat="cff",Le=Lf(Fe,L=Pe.getUShort(Fe,4));else{if(m!=="wOFF")throw new Error("Unsupported OpenType signature "+m);if((dt=Pe.getTag(Fe,4))===String.fromCharCode(0,1,0,0))Re.outlinesFormat="truetype";else{if(dt!=="OTTO")throw new Error("Unsupported OpenType flavor "+m);Re.outlinesFormat="cff"}Le=function(pr,yr){for(var Xt=[],Er=44,wr=0;wr<yr;wr+=1){var Dr=Pe.getTag(pr,Er),sr=Pe.getULong(pr,Er+4),Tr=Pe.getULong(pr,Er+8),ai=Pe.getULong(pr,Er+12),li=Tr<ai&&"WOFF";Xt.push({tag:Dr,offset:sr,compression:li,compressedLength:Tr,length:ai}),Er+=20}return Xt}(Fe,L=Pe.getUShort(Fe,12))}for(var Be=0;Be<L;Be+=1){var ct=Le[Be],ut=void 0;switch(ct.tag){case"cmap":ut=br(Fe,ct),Re.tables.cmap=He(ut.data,ut.offset),Re.encoding=new te(Re.tables.cmap);break;case"cvt ":ut=br(Fe,ct),Xe=new Pe.Parser(ut.data,ut.offset),Re.tables.cvt=Xe.parseShortList(ct.length/2);break;case"fvar":W=ct;break;case"fpgm":ut=br(Fe,ct),Xe=new Pe.Parser(ut.data,ut.offset),Re.tables.fpgm=Xe.parseByteList(ct.length);break;case"head":ut=br(Fe,ct),Re.tables.head=ot(ut.data,ut.offset),Re.unitsPerEm=Re.tables.head.unitsPerEm,j=Re.tables.head.indexToLocFormat;break;case"hhea":ut=br(Fe,ct),Re.tables.hhea=_t(ut.data,ut.offset),Re.ascender=Re.tables.hhea.ascender,Re.descender=Re.tables.hhea.descender,Re.numberOfHMetrics=Re.tables.hhea.numberOfHMetrics;break;case"hmtx":pe=ct;break;case"ltag":ut=br(Fe,ct),M=Ie(ut.data,ut.offset);break;case"maxp":ut=br(Fe,ct),Re.tables.maxp=wt(ut.data,ut.offset),Re.numGlyphs=Re.tables.maxp.numGlyphs;break;case"name":Ce=ct;break;case"OS/2":ut=br(Fe,ct),Re.tables.os2=ba(ut.data,ut.offset);break;case"post":ut=br(Fe,ct),Re.tables.post=gg(ut.data,ut.offset),Re.glyphNames=new we(Re.tables.post);break;case"prep":ut=br(Fe,ct),Xe=new Pe.Parser(ut.data,ut.offset),Re.tables.prep=Xe.parseByteList(ct.length);break;case"glyf":Y=ct;break;case"loca":Me=ct;break;case"CFF ":G=ct;break;case"kern":xe=ct;break;case"GPOS":ie=ct;break;case"GSUB":ce=ct;break;case"meta":ge=ct}}if(dt=br(Fe,Ce),Re.tables.name=Wt(dt.data,dt.offset,M),Re.names=Re.tables.name,Y&&Me)m=j===0,dt=br(Fe,Me),dt=Ug(dt.data,dt.offset,Re.numGlyphs,m),m=br(Fe,Y),Re.glyphs=hf.parse(m.data,m.offset,dt,Re);else{if(!G)throw new Error("Font doesn't contain TrueType or CFF outlines.");m=br(Fe,G),tt(m.data,m.offset,Re)}for(var dt=br(Fe,pe),It=(de(dt.data,dt.offset,Re.numberOfHMetrics,Re.numGlyphs,Re.glyphs),Re),Ft=It.tables.cmap.glyphIndexMap,qt=Object.keys(Ft),lr=0;lr<qt.length;lr+=1){var or,Yt=qt[lr],Pt=Ft[Yt];(or=It.glyphs.get(Pt)).addUnicode(parseInt(Yt))}for(var _r=0;_r<It.glyphs.length;_r+=1)or=It.glyphs.get(_r),It.cffEncoding?It.isCIDFont?or.name="gid"+_r:or.name=It.cffEncoding.charset[_r]:It.glyphNames.names&&(or.name=It.glyphNames.glyphIndexToName(_r));return xe?(m=br(Fe,xe),Re.kerningPairs=Ng(m.data,m.offset)):Re.kerningPairs={},ie&&(dt=br(Fe,ie),Re.tables.gpos=Fg(dt.data,dt.offset),Re.position.init()),ce&&(m=br(Fe,ce),Re.tables.gsub=bg(m.data,m.offset)),W&&(dt=br(Fe,W),Re.tables.fvar=Ig(dt.data,dt.offset,Re.names)),ge&&(m=br(Fe,ge),Re.tables.meta=wg(m.data,m.offset),Re.metas=Re.tables.meta),Re}o.Font=Jt,o.Glyph=Ye,o.Path=V,o.BoundingBox=O,o._parse=Pe,o.parse=gu,o.load=function(m,j){(typeof window>"u"?Bg:Gg)(m,function(M,L){if(M)return j(M);var G;try{G=gu(L)}catch(W){return j(W,null)}return j(null,G)})},o.loadSync=function(m){return gu(cf(t("fs").readFileSync(m)))},Object.defineProperty(o,"__esModule",{value:!0})})(typeof S=="object"&&C!==void 0?S:this.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],248:[function(t,C,S){(function(y){function o(b,l){for(var c=0,u=b.length-1;0<=u;u--){var i=b[u];i==="."?b.splice(u,1):i===".."?(b.splice(u,1),c++):c&&(b.splice(u,1),c--)}if(l)for(;c--;)b.unshift("..");return b}function a(b,l){if(b.filter)return b.filter(l);for(var c=[],u=0;u<b.length;u++)l(b[u],u,b)&&c.push(b[u]);return c}S.resolve=function(){for(var b="",l=!1,c=arguments.length-1;-1<=c&&!l;c--){var u=0<=c?arguments[c]:y.cwd();if(typeof u!="string")throw new TypeError("Arguments to path.resolve must be strings");u&&(b=u+"/"+b,l=u.charAt(0)==="/")}return(l?"/":"")+(b=o(a(b.split("/"),function(i){return!!i}),!l).join("/"))||"."},S.normalize=function(b){var l=S.isAbsolute(b),c=g(b,-1)==="/";return(b=(b=o(a(b.split("/"),function(u){return!!u}),!l).join("/"))||l?b:".")&&c&&(b+="/"),(l?"/":"")+b},S.isAbsolute=function(b){return b.charAt(0)==="/"},S.join=function(){var b=Array.prototype.slice.call(arguments,0);return S.normalize(a(b,function(l,c){if(typeof l!="string")throw new TypeError("Arguments to path.join must be strings");return l}).join("/"))},S.relative=function(b,l){function c(w){for(var _=0;_<w.length&&w[_]==="";_++);for(var E=w.length-1;0<=E&&w[E]==="";E--);return E<_?[]:w.slice(_,E-_+1)}b=S.resolve(b).substr(1),l=S.resolve(l).substr(1);for(var u=c(b.split("/")),i=c(l.split("/")),d=Math.min(u.length,i.length),p=d,v=0;v<d;v++)if(u[v]!==i[v]){p=v;break}var h=[];for(v=p;v<u.length;v++)h.push("..");return(h=h.concat(i.slice(p))).join("/")},S.sep="/",S.delimiter=":",S.dirname=function(b){if(typeof b!="string"&&(b+=""),b.length===0)return".";for(var l=b.charCodeAt(0)===47,c=-1,u=!0,i=b.length-1;1<=i;--i)if(b.charCodeAt(i)===47){if(!u){c=i;break}}else u=!1;return c===-1?l?"/":".":l&&c===1?"/":b.slice(0,c)},S.basename=function(b,l){return b=function(c){typeof c!="string"&&(c+="");for(var u=0,i=-1,d=!0,p=c.length-1;0<=p;--p)if(c.charCodeAt(p)===47){if(!d){u=p+1;break}}else i===-1&&(d=!1,i=p+1);return i===-1?"":c.slice(u,i)}(b),l&&b.substr(-1*l.length)===l?b.substr(0,b.length-l.length):b},S.extname=function(b){typeof b!="string"&&(b+="");for(var l=-1,c=0,u=-1,i=!0,d=0,p=b.length-1;0<=p;--p){var v=b.charCodeAt(p);if(v===47){if(i)continue;c=p+1;break}u===-1&&(i=!1,u=p+1),v===46?l===-1?l=p:d!==1&&(d=1):l!==-1&&(d=-1)}return l===-1||u===-1||d===0||d===1&&l===u-1&&l===c+1?"":b.slice(l,u)};var g="ab".substr(-1)==="b"?function(b,l,c){return b.substr(l,c)}:function(b,l,c){return l<0&&(l=b.length+l),b.substr(l,c)}}).call(this,t("_process"))},{_process:249}],249:[function(t,C,S){var y,o;C=C.exports={};function a(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}try{y=typeof setTimeout=="function"?setTimeout:a}catch{y=a}try{o=typeof clearTimeout=="function"?clearTimeout:g}catch{o=g}function b(w){if(y===setTimeout)return setTimeout(w,0);if((y===a||!y)&&setTimeout)return(y=setTimeout)(w,0);try{return y(w,0)}catch{try{return y.call(null,w,0)}catch{return y.call(this,w,0)}}}var l,c=[],u=!1,i=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):i=-1,c.length&&p())}function p(){if(!u){for(var w=b(d),_=(u=!0,c.length);_;){for(l=c,c=[];++i<_;)l&&l[i].run();i=-1,_=c.length}l=null,u=!1,function(E){if(o===clearTimeout)return clearTimeout(E);if((o===g||!o)&&clearTimeout)return(o=clearTimeout)(E);try{o(E)}catch{try{return o.call(null,E)}catch{return o.call(this,E)}}}(w)}}function v(w,_){this.fun=w,this.array=_}function h(){}C.nextTick=function(w){var _=new Array(arguments.length-1);if(1<arguments.length)for(var E=1;E<arguments.length;E++)_[E-1]=arguments[E];c.push(new v(w,_)),c.length!==1||u||b(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={},C.on=h,C.addListener=h,C.once=h,C.off=h,C.removeListener=h,C.removeAllListeners=h,C.emit=h,C.prependListener=h,C.prependOnceListener=h,C.listeners=function(w){return[]},C.binding=function(w){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(w){throw new Error("process.chdir is not supported")},C.umask=function(){return 0}},{}],250:[function(t,C,S){C=function(y){var o,a=Object.prototype,g=a.hasOwnProperty,b=(P=typeof Symbol=="function"?Symbol:{}).iterator||"@@iterator",l=P.asyncIterator||"@@asyncIterator",c=P.toStringTag||"@@toStringTag";function u(q,X,Z,re){var ee,ae,z,H;return X=X&&X.prototype instanceof _?X:_,X=Object.create(X.prototype),re=new N(re||[]),X._invoke=(ee=q,ae=Z,z=re,H=d,function($,ne){if(H===v)throw new Error("Generator is already running");if(H===h){if($==="throw")throw ne;return V()}for(z.method=$,z.arg=ne;;){var oe=z.delegate;if(oe&&(oe=function le(Q,se){var ye=Q.iterator[se.method];if(ye===o){if(se.delegate=null,se.method==="throw"){if(Q.iterator.return&&(se.method="return",se.arg=o,le(Q,se),se.method==="throw"))return w;se.method="throw",se.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}return(ye=i(ye,Q.iterator,se.arg)).type==="throw"?(se.method="throw",se.arg=ye.arg,se.delegate=null,w):(ye=ye.arg)?ye.done?(se[Q.resultName]=ye.value,se.next=Q.nextLoc,se.method!=="return"&&(se.method="next",se.arg=o),se.delegate=null,w):ye:(se.method="throw",se.arg=new TypeError("iterator result is not an object"),se.delegate=null,w)}(oe,z))){if(oe===w)continue;return oe}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(H===d)throw H=h,z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);if(H=v,(oe=i(ee,ae,z)).type==="normal"){if(H=z.done?h:p,oe.arg!==w)return{value:oe.arg,done:z.done}}else oe.type==="throw"&&(H=h,z.method="throw",z.arg=oe.arg)}}),X}function i(q,X,Z){try{return{type:"normal",arg:q.call(X,Z)}}catch(re){return{type:"throw",arg:re}}}y.wrap=u;var d="suspendedStart",p="suspendedYield",v="executing",h="completed",w={};function _(){}function E(){}function R(){}var P,T,D=((T=(T=((P={})[b]=function(){return this},Object.getPrototypeOf))&&T(T(O([]))))&&T!==a&&g.call(T,b)&&(P=T),R.prototype=_.prototype=Object.create(P));function A(q){["next","throw","return"].forEach(function(X){q[X]=function(Z){return this._invoke(X,Z)}})}function I(q){var X;this._invoke=function(Z,re){function ee(){return new Promise(function(ae,z){(function H($,ne,oe,le){var Q;if(($=i(q[$],q,ne)).type!=="throw")return(ne=(Q=$.arg).value)&&typeof ne=="object"&&g.call(ne,"__await")?Promise.resolve(ne.__await).then(function(se){H("next",se,oe,le)},function(se){H("throw",se,oe,le)}):Promise.resolve(ne).then(function(se){Q.value=se,oe(Q)},function(se){return H("throw",se,oe,le)});le($.arg)})(Z,re,ae,z)})}return X=X?X.then(ee,ee):ee()}}function U(q){var X={tryLoc:q[0]};1 in q&&(X.catchLoc=q[1]),2 in q&&(X.finallyLoc=q[2],X.afterLoc=q[3]),this.tryEntries.push(X)}function B(q){var X=q.completion||{};X.type="normal",delete X.arg,q.completion=X}function N(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(U,this),this.reset(!0)}function O(q){if(q){var X,Z=q[b];if(Z)return Z.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length))return X=-1,(Z=function re(){for(;++X<q.length;)if(g.call(q,X))return re.value=q[X],re.done=!1,re;return re.value=o,re.done=!0,re}).next=Z}return{next:V}}function V(){return{value:o,done:!0}}return(E.prototype=D.constructor=R).constructor=E,R[c]=E.displayName="GeneratorFunction",y.isGeneratorFunction=function(q){return!!(q=typeof q=="function"&&q.constructor)&&(q===E||(q.displayName||q.name)==="GeneratorFunction")},y.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,R):(q.__proto__=R,c in q||(q[c]="GeneratorFunction")),q.prototype=Object.create(D),q},y.awrap=function(q){return{__await:q}},A(I.prototype),I.prototype[l]=function(){return this},y.AsyncIterator=I,y.async=function(q,X,Z,re){var ee=new I(u(q,X,Z,re));return y.isGeneratorFunction(X)?ee:ee.next().then(function(ae){return ae.done?ae.value:ee.next()})},A(D),D[c]="Generator",D[b]=function(){return this},D.toString=function(){return"[object Generator]"},y.keys=function(q){var X,Z=[];for(X in q)Z.push(X);return Z.reverse(),function re(){for(;Z.length;){var ee=Z.pop();if(ee in q)return re.value=ee,re.done=!1,re}return re.done=!0,re}},y.values=O,N.prototype={constructor:N,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(B),!q)for(var X in this)X.charAt(0)==="t"&&g.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=o)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var X=this;function Z($,ne){return ae.type="throw",ae.arg=q,X.next=$,ne&&(X.method="next",X.arg=o),!!ne}for(var re=this.tryEntries.length-1;0<=re;--re){var ee=this.tryEntries[re],ae=ee.completion;if(ee.tryLoc==="root")return Z("end");if(ee.tryLoc<=this.prev){var z=g.call(ee,"catchLoc"),H=g.call(ee,"finallyLoc");if(z&&H){if(this.prev<ee.catchLoc)return Z(ee.catchLoc,!0);if(this.prev<ee.finallyLoc)return Z(ee.finallyLoc)}else if(z){if(this.prev<ee.catchLoc)return Z(ee.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<ee.finallyLoc)return Z(ee.finallyLoc)}}}},abrupt:function(q,X){for(var Z=this.tryEntries.length-1;0<=Z;--Z){var re=this.tryEntries[Z];if(re.tryLoc<=this.prev&&g.call(re,"finallyLoc")&&this.prev<re.finallyLoc){var ee=re;break}}var ae=(ee=ee&&(q==="break"||q==="continue")&&ee.tryLoc<=X&&X<=ee.finallyLoc?null:ee)?ee.completion:{};return ae.type=q,ae.arg=X,ee?(this.method="next",this.next=ee.finallyLoc,w):this.complete(ae)},complete:function(q,X){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&X&&(this.next=X),w},finish:function(q){for(var X=this.tryEntries.length-1;0<=X;--X){var Z=this.tryEntries[X];if(Z.finallyLoc===q)return this.complete(Z.completion,Z.afterLoc),B(Z),w}},catch:function(q){for(var X=this.tryEntries.length-1;0<=X;--X){var Z,re,ee=this.tryEntries[X];if(ee.tryLoc===q)return(Z=ee.completion).type==="throw"&&(re=Z.arg,B(ee)),re}throw new Error("illegal catch attempt")},delegateYield:function(q,X,Z){return this.delegate={iterator:O(q),resultName:X,nextLoc:Z},this.method==="next"&&(this.arg=o),w}},y}(typeof C=="object"?C.exports:{});try{regeneratorRuntime=C}catch{Function("r","regeneratorRuntime = r")(C)}},{}],251:[function(t,C,S){(function(y){var o,a,g,b,l,c,u,i,d,p;function v(B){if(typeof B!="string"&&(B=String(B)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(B))throw new TypeError("Invalid character in header field name");return B.toLowerCase()}function h(B){return typeof B!="string"?String(B):B}function w(B){var N={next:function(){var O=B.shift();return{done:O===void 0,value:O}}};return a&&(N[Symbol.iterator]=function(){return N}),N}function _(B){this.map={},B instanceof _?B.forEach(function(N,O){this.append(O,N)},this):Array.isArray(B)?B.forEach(function(N){this.append(N[0],N[1])},this):B&&Object.getOwnPropertyNames(B).forEach(function(N){this.append(N,B[N])},this)}function E(B){if(B.bodyUsed)return Promise.reject(new TypeError("Already read"));B.bodyUsed=!0}function R(B){return new Promise(function(N,O){B.onload=function(){N(B.result)},B.onerror=function(){O(B.error)}})}function P(B){var N=new FileReader,O=R(N);return N.readAsArrayBuffer(B),O}function T(B){var N;return B.slice?B.slice(0):((N=new Uint8Array(B.byteLength)).set(new Uint8Array(B)),N.buffer)}function D(){return this.bodyUsed=!1,this._initBody=function(B){if(this._bodyInit=B)if(typeof B=="string")this._bodyText=B;else if(g&&Blob.prototype.isPrototypeOf(B))this._bodyBlob=B;else if(b&&FormData.prototype.isPrototypeOf(B))this._bodyFormData=B;else if(o&&URLSearchParams.prototype.isPrototypeOf(B))this._bodyText=B.toString();else if(l&&g&&u(B))this._bodyArrayBuffer=T(B.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!l||!ArrayBuffer.prototype.isPrototypeOf(B)&&!i(B))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=T(B)}else this._bodyText="";this.headers.get("content-type")||(typeof B=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(B)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g&&(this.blob=function(){var B=E(this);if(B)return B;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?E(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(P)}),this.text=function(){var B,N,O=E(this);if(O)return O;if(this._bodyBlob)return O=this._bodyBlob,N=R(B=new FileReader),B.readAsText(O),N;if(this._bodyArrayBuffer)return Promise.resolve(function(V){for(var q=new Uint8Array(V),X=new Array(q.length),Z=0;Z<q.length;Z++)X[Z]=String.fromCharCode(q[Z]);return X.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}function A(B,N){var O,V=(N=N||{}).body;if(B instanceof A){if(B.bodyUsed)throw new TypeError("Already read");this.url=B.url,this.credentials=B.credentials,N.headers||(this.headers=new _(B.headers)),this.method=B.method,this.mode=B.mode,V||B._bodyInit==null||(V=B._bodyInit,B.bodyUsed=!0)}else this.url=String(B);if(this.credentials=N.credentials||this.credentials||"omit",!N.headers&&this.headers||(this.headers=new _(N.headers)),this.method=(O=(B=N.method||this.method||"GET").toUpperCase(),-1<d.indexOf(O)?O:B),this.mode=N.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&V)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(V)}function I(B){var N=new FormData;return B.trim().split("&").forEach(function(O){var V;O&&(V=(O=O.split("=")).shift().replace(/\+/g," "),O=O.join("=").replace(/\+/g," "),N.append(decodeURIComponent(V),decodeURIComponent(O)))}),N}function U(B,N){N=N||{},this.type="default",this.status=N.status===void 0?200:N.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in N?N.statusText:"OK",this.headers=new _(N.headers),this.url=N.url||"",this._initBody(B)}y.fetch||(o="URLSearchParams"in y,a="Symbol"in y&&"iterator"in Symbol,g="FileReader"in y&&"Blob"in y&&function(){try{return new Blob,!0}catch{return!1}}(),b="FormData"in y,(l="ArrayBuffer"in y)&&(c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=function(B){return B&&DataView.prototype.isPrototypeOf(B)},i=ArrayBuffer.isView||function(B){return B&&-1<c.indexOf(Object.prototype.toString.call(B))}),_.prototype.append=function(B,N){B=v(B),N=h(N);var O=this.map[B];this.map[B]=O?O+","+N:N},_.prototype.delete=function(B){delete this.map[v(B)]},_.prototype.get=function(B){return B=v(B),this.has(B)?this.map[B]:null},_.prototype.has=function(B){return this.map.hasOwnProperty(v(B))},_.prototype.set=function(B,N){this.map[v(B)]=h(N)},_.prototype.forEach=function(B,N){for(var O in this.map)this.map.hasOwnProperty(O)&&B.call(N,this.map[O],O,this)},_.prototype.keys=function(){var B=[];return this.forEach(function(N,O){B.push(O)}),w(B)},_.prototype.values=function(){var B=[];return this.forEach(function(N){B.push(N)}),w(B)},_.prototype.entries=function(){var B=[];return this.forEach(function(N,O){B.push([O,N])}),w(B)},a&&(_.prototype[Symbol.iterator]=_.prototype.entries),d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},D.call(A.prototype),D.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},U.error=function(){var B=new U(null,{status:0,statusText:""});return B.type="error",B},p=[301,302,303,307,308],U.redirect=function(B,N){if(p.indexOf(N)===-1)throw new RangeError("Invalid status code");return new U(null,{status:N,headers:{location:B}})},y.Headers=_,y.Request=A,y.Response=U,y.fetch=function(B,N){return new Promise(function(O,V){var q=new A(B,N),X=new XMLHttpRequest;X.onload=function(){var Z,re={status:X.status,statusText:X.statusText,headers:(re=X.getAllResponseHeaders()||"",Z=new _,re.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(ae){var z=(ae=ae.split(":")).shift().trim();z&&(ae=ae.join(":").trim(),Z.append(z,ae))}),Z)},ee=(re.url="responseURL"in X?X.responseURL:re.headers.get("X-Request-URL"),"response"in X?X.response:X.responseText);O(new U(ee,re))},X.onerror=function(){V(new TypeError("Network request failed"))},X.ontimeout=function(){V(new TypeError("Network request failed"))},X.open(q.method,q.url,!0),q.credentials==="include"?X.withCredentials=!0:q.credentials==="omit"&&(X.withCredentials=!1),"responseType"in X&&g&&(X.responseType="blob"),q.headers.forEach(function(Z,re){X.setRequestHeader(re,Z)}),X.send(q._bodyInit===void 0?null:q._bodyInit)})},y.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],252:[function(t,C,S){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y,o=g(t("../core/main")),a=g(t("../color/color_conversion"));function g(c){return c&&c.__esModule?c:{default:c}}var b=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],l=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];o.default.prototype._rgbColorName=function(c){c=a.default._rgbaToHSBA(c);var u,i,d=[(y=c)[0],c[1],c[2]];d[0]!==0&&(d[0]=Math.round(100*d[0]),(c=d[0].toString().split(""))[i=c.length-1]=parseInt(c[i]),c[i]<2.5?c[i]=0:2.5<=c[i]&&c[i]<7.5&&(c[i]=5),c.length===2?(c[0]=parseInt(c[0]),7.5<=c[i]&&(c[i]=0,c[0]=c[0]+1),d[0]=10*c[0]+c[1]):7.5<=c[i]?d[0]=10:d[0]=c[i]),d[2]=d[2]/255;for(var p=d.length-1;1<=p;p--)d[p]<=.25?d[p]=0:.25<d[p]&&d[p]<.75?d[p]=.5:d[p]=1;if(d[0]===0&&d[1]===0&&d[2]===1){for(var v=2;0<=v;v--)y[v]=Math.round(1e4*y[v])/1e4;for(var h=0;h<b.length;h++){if(b[h].h===y[0]&&b[h].s===y[1]&&b[h].b===y[2]){u=b[h].name;break}u="white"}}else for(var w=0;w<l.length;w++)if(l[w].h===d[0]&&l[w].s===d[1]&&l[w].b===d[2]){u=l[w].name;break}return u},t=o.default,S.default=t},{"../color/color_conversion":258,"../core/main":273,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196}],253:[function(t,C,S){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t},o="_Description",a="_fallbackDesc",g="_fallbackTable",b="_Label",l="_labelDesc",c="_labelTable";function u(i){if(i==="label"||i==="fallback")throw new Error("description should not be LABEL or FALLBACK");return i.endsWith(".")||i.endsWith(";")||i.endsWith(",")||i.endsWith("?")||i.endsWith("!")||(i+="."),i}y.default.prototype.describe=function(i,d){var p;y.default._validateParameters("describe",arguments),typeof i=="string"&&(p=this.canvas.id,i=u(i),this.dummyDOM||(this.dummyDOM=document.getElementById(p).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==i&&(this.descriptions.fallback.innerHTML=i):this._describeHTML("fallback",i),d===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==i&&(this.descriptions.label.innerHTML=i):this._describeHTML("label",i)))},y.default.prototype.describeElement=function(i,d,p){var v,h;y.default._validateParameters("describeElement",arguments),typeof d=="string"&&typeof i=="string"&&(v=this.canvas.id,d=u(d),h=function(w){if(w==="label"||w==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return w.endsWith(".")||w.endsWith(";")||w.endsWith(",")?w=w.replace(/.$/,":"):w.endsWith(":")||(w+=":"),w}(i),i=i.replace(/[^a-zA-Z0-9]/g,""),h='<th scope="row">'.concat(h,"</th><td>").concat(d,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(v).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[i]?this.descriptions.fallbackElements[i].innerHTML!==h&&(this.descriptions.fallbackElements[i].innerHTML=h):this._describeElementHTML("fallback",i,h),p===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[i]?this.descriptions.labelElements[i].innerHTML!==h&&(this.descriptions.labelElements[i].innerHTML=h):this._describeElementHTML("label",i,h)))},y.default.prototype._describeHTML=function(i,d){var p,v=this.canvas.id;i==="fallback"?(this.dummyDOM.querySelector("#".concat(v+o))?this.dummyDOM.querySelector("#"+v+g).insertAdjacentHTML("beforebegin",'<p id="'.concat(v+a,'"></p>')):(p='<div id="'.concat(v).concat(o,'" role="region" aria-label="Canvas Description"><p id="').concat(v).concat(a,'"></p></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#".concat(v)).innerHTML=p),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(v).concat(a)),this.descriptions.fallback.innerHTML=d):i==="label"&&(this.dummyDOM.querySelector("#".concat(v+b))?this.dummyDOM.querySelector("#".concat(v+c))&&this.dummyDOM.querySelector("#".concat(v+c)).insertAdjacentHTML("beforebegin",'<p id="'.concat(v).concat(l,'"></p>')):(p='<div id="'.concat(v).concat(b,'" class="p5Label"><p id="').concat(v).concat(l,'"></p></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",p)),this.descriptions.label=this.dummyDOM.querySelector("#"+v+l),this.descriptions.label.innerHTML=d)},y.default.prototype._describeElementHTML=function(i,d,p){var v,h=this.canvas.id;i==="fallback"?(this.dummyDOM.querySelector("#".concat(h+o))?this.dummyDOM.querySelector("#"+h+g)||this.dummyDOM.querySelector("#"+h+a).insertAdjacentHTML("afterend",'<table id="'.concat(h).concat(g,'"><caption>Canvas elements and their descriptions</caption></table>')):(v='<div id="'.concat(h).concat(o,'" role="region" aria-label="Canvas Description"><table id="').concat(h).concat(g,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutput")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#"+h).innerHTML=v),(v=document.createElement("tr")).id=h+"_fte_"+d,this.dummyDOM.querySelector("#"+h+g).appendChild(v),this.descriptions.fallbackElements[d]=this.dummyDOM.querySelector("#".concat(h).concat("_fte_").concat(d)),this.descriptions.fallbackElements[d].innerHTML=p):i==="label"&&(this.dummyDOM.querySelector("#".concat(h+b))?this.dummyDOM.querySelector("#".concat(h+c))||this.dummyDOM.querySelector("#"+h+l).insertAdjacentHTML("afterend",'<table id="'.concat(h+c,'"></table>')):(v='<div id="'.concat(h).concat(b,'" class="p5Label"><table id="').concat(h).concat(c,'"></table></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#"+h).insertAdjacentHTML("afterend",v)),(i=document.createElement("tr")).id=h+"_lte_"+d,this.dummyDOM.querySelector("#"+h+c).appendChild(i),this.descriptions.labelElements[d]=this.dummyDOM.querySelector("#".concat(h).concat("_lte_").concat(d)),this.descriptions.labelElements[d].innerHTML=p)},t=y.default,S.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.replace":194}],254:[function(t,C,S){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype._updateGridOutput=function(y){var o,a,g,b;this.dummyDOM.querySelector("#".concat(y,"_summary"))&&(o=this._accessibleOutputs[y],g=function(l,c,u,i){return c="".concat(c," canvas, ").concat(u," by ").concat(i," pixels, contains ").concat(l[0]),c=(l[0]===1?"".concat(c," shape: "):"".concat(c," shapes: ")).concat(l[1])}((a=function(l,c){var u,i="",d="",p=0;for(u in c){var v,h=0;for(v in c[u]){var w='<li id="'.concat(l,"shape").concat(p,'">').concat(c[u][v].color," ").concat(u,",");u==="line"?w+=" location = ".concat(c[u][v].pos,", length = ").concat(c[u][v].length," pixels"):(w+=" location = ".concat(c[u][v].pos),u!=="point"&&(w+=", area = ".concat(c[u][v].area," %")),w+="</li>"),i+=w,h++,p++}d=1<h?"".concat(d," ").concat(h," ").concat(u,"s"):"".concat(d," ").concat(h," ").concat(u)}return{numShapes:[p,d],details:i}}(y,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),b=function(l,c){var u,i,d=0,p="",v=Array.from(Array(10),function(){return Array(10)});for(u in c)for(var h in c[u]){var w;w=u!=="line"?'<a href="#'.concat(l,"shape").concat(d,'">').concat(c[u][h].color," ").concat(u,"</a>"):'<a href="#'.concat(l,"shape").concat(d,'">').concat(c[u][h].color," ").concat(u," midpoint</a>"),v[c[u][h].loc.locY][c[u][h].loc.locX]?v[c[u][h].loc.locY][c[u][h].loc.locX]=v[c[u][h].loc.locY][c[u][h].loc.locX]+"  "+w:v[c[u][h].loc.locY][c[u][h].loc.locX]=w,d++}for(i in v){var _,E="<tr>";for(_ in v[i])E+="<td>",v[i][_]!==void 0&&(E+=v[i][_]),E+="</td>";p=p+E+"</tr>"}return p}(y,this.ingredients.shapes),g!==o.summary.innerHTML&&(o.summary.innerHTML=g),b!==o.map.innerHTML&&(o.map.innerHTML=b),a.details!==o.shapeDetails.innerHTML&&(o.shapeDetails.innerHTML=a.details),this._accessibleOutputs[y]=o)},t=t.default,S.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":157,"core-js/modules/es.array.map":163,"core-js/modules/es.string.iterator":190}],255:[function(t,C,S){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(a,g,b){return(g=Math.floor(a[0]/g*10))===10&&(g-=1),(a=Math.floor(a[1]/b*10))===10&&(a-=1),{locX:g,locY:a}}y.default.prototype.textOutput=function(a){y.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),a===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},y.default.prototype.gridOutput=function(a){y.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),a===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},y.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},y.default.prototype._createOutput=function(a,g){var b,l,c,u=this.canvas.id,i=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(u).parentNode),"");g==="Fallback"?(b=u+a,this.dummyDOM.querySelector("#".concat(l=u+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(u,"_Description"))?this.dummyDOM.querySelector("#".concat(u,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(l,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(u)).innerHTML='<div id="'.concat(l,'" role="region" aria-label="Canvas Outputs"></div>'))):g==="Label"&&(b=u+a+(i=g),this.dummyDOM.querySelector("#".concat(l=u+"accessibleOutput"+g))||(this.dummyDOM.querySelector("#".concat(u,"_Label"))?this.dummyDOM.querySelector("#".concat(u,"_Label")):this.dummyDOM.querySelector("#".concat(u))).insertAdjacentHTML("afterend",'<div id="'.concat(l,'"></div>'))),this._accessibleOutputs[b]={},a==="textOutput"?(i="#".concat(u,"gridOutput").concat(i),c='<div id="'.concat(b,'">Text Output<div id="').concat(b,'Summary" aria-label="text output summary"><p id="').concat(b,'_summary"></p><ul id="').concat(b,'_list"></ul></div><table id="').concat(b,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(i)?this.dummyDOM.querySelector(i).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#".concat(l)).innerHTML=c,this._accessibleOutputs[b].list=this.dummyDOM.querySelector("#".concat(b,"_list"))):a==="gridOutput"&&(i="#".concat(u,"textOutput").concat(i),c='<div id="'.concat(b,'">Grid Output<p id="').concat(b,'_summary" aria-label="grid output summary"><table id="').concat(b,'_map" summary="grid output content"></table><ul id="').concat(b,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(i)?this.dummyDOM.querySelector(i).insertAdjacentHTML("afterend",c):this.dummyDOM.querySelector("#".concat(l)).innerHTML=c,this._accessibleOutputs[b].map=this.dummyDOM.querySelector("#".concat(b,"_map"))),this._accessibleOutputs[b].shapeDetails=this.dummyDOM.querySelector("#".concat(b,"_shapeDetails")),this._accessibleOutputs[b].summary=this.dummyDOM.querySelector("#".concat(b,"_summary"))},y.default.prototype._updateAccsOutput=function(){var a=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(a+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(a+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(a+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(a+"gridOutputLabel"))},y.default.prototype._accsBackground=function(a){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==a&&(this.ingredients.colors.backgroundRGBA=a,this.ingredients.colors.background=this._rgbColorName(a))},y.default.prototype._accsCanvasColors=function(a,g){a==="fill"?this.ingredients.colors.fillRGBA!==g&&(this.ingredients.colors.fillRGBA=g,this.ingredients.colors.fill=this._rgbColorName(g)):a==="stroke"&&this.ingredients.colors.strokeRGBA!==g&&(this.ingredients.colors.strokeRGBA=g,this.ingredients.colors.stroke=this._rgbColorName(g))},y.default.prototype._accsOutput=function(a,g){a==="ellipse"&&g[2]===g[3]?a="circle":a==="rectangle"&&g[2]===g[3]&&(a="square");var b,l,c={},u=!0,i=function(p,v){var h;return p=p==="rectangle"||p==="ellipse"||p==="arc"||p==="circle"||p==="square"?(h=Math.round(v[0]+v[2]/2),Math.round(v[1]+v[3]/2)):p==="triangle"?(h=(v[0]+v[2]+v[4])/3,(v[1]+v[3]+v[5])/3):p==="quadrilateral"?(h=(v[0]+v[2]+v[4]+v[6])/4,(v[1]+v[3]+v[5]+v[7])/4):p==="line"?(h=(v[0]+v[2])/2,(v[1]+v[3])/2):(h=v[0],v[1]),[h,p]}(a,g);if(a==="line"?(c.color=this.ingredients.colors.stroke,c.length=Math.round(this.dist(g[0],g[1],g[2],g[3])),b=this._getPos(g[0],[1]),l=this._getPos(g[2],[3]),c.loc=o(i,this.width,this.height),c.pos=b===l?"at ".concat(b):"from ".concat(b," to ").concat(l)):(a==="point"?c.color=this.ingredients.colors.stroke:(c.color=this.ingredients.colors.fill,c.area=this._getArea(a,g)),c.pos=this._getPos.apply(this,function(p){return function(v){if(Array.isArray(v)){for(var h=0,w=new Array(v.length);h<v.length;h++)w[h]=v[h];return w}}(p)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(i)),c.loc=o(i,this.width,this.height)),this.ingredients.shapes[a]){if(this.ingredients.shapes[a]!==[c]){for(var d in this.ingredients.shapes[a])JSON.stringify(this.ingredients.shapes[a][d])===JSON.stringify(c)&&(u=!1);u===!0&&this.ingredients.shapes[a].push(c)}}else this.ingredients.shapes[a]=[c]},y.default.prototype._getPos=function(a,g){a=new DOMPointReadOnly(a,g),g=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),g=(a=a.matrixTransform(g)).x,a=a.y;var b=this.width,l=this.height;return g<.4*b?a<.4*l?"top left":.6*l<a?"bottom left":"mid left":.6*b<g?a<.4*l?"top right":.6*l<a?"bottom right":"mid right":a<.4*l?"top middle":.6*l<a?"bottom middle":"middle"},y.default.prototype._getArea=function(a,g){var b,l,c=0,u=(a==="arc"?(c=(b=((g[5]-g[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*g[2]*g[3]/8,g[6]!=="open"&&g[6]!=="chord"||(l=g[0],v=g[1],u=g[0]+g[2]/2*Math.cos(g[4]).toFixed(2),h=g[1]+g[3]/2*Math.sin(g[4]).toFixed(2),d=g[0]+g[2]/2*Math.cos(g[5]).toFixed(2),i=g[1]+g[3]/2*Math.sin(g[5]).toFixed(2),l=Math.abs(l*(h-i)+u*(i-v)+d*(v-h))/2,b>Math.PI?c+=l:c-=l)):a==="ellipse"||a==="circle"?c=3.14*g[2]/2*g[3]/2:a==="line"||a==="point"?c=0:a==="quadrilateral"?c=Math.abs((g[6]+g[0])*(g[7]-g[1])+(g[0]+g[2])*(g[1]-g[3])+(g[2]+g[4])*(g[3]-g[5])+(g[4]+g[6])*(g[5]-g[7]))/2:a==="rectangle"||a==="square"?c=g[2]*g[3]:a==="triangle"&&(c=Math.abs(g[0]*(g[3]-g[5])+g[2]*(g[5]-g[1])+g[4]*(g[1]-g[3]))/2),this.width*this._pixelDensity),i=this.height*this._pixelDensity,d=[new DOMPoint(0,0),new DOMPoint(u,0),new DOMPoint(u,i),new DOMPoint(0,i)],p=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),v=d.map(function(w){return w.matrixTransform(p)}),h=Math.abs((v[3].x+v[0].x)*(v[3].y-v[0].y)+(v[0].x+v[1].x)*(v[0].y-v[1].y)+(v[1].x+v[2].x)*(v[1].y-v[2].y)+(v[2].x+v[3].x)*(v[2].y-v[3].y))/2;return Math.round(100*c/h)},t=y.default,S.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],256:[function(t,C,S){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype._updateTextOutput=function(y){var o,a,g,b;this.dummyDOM.querySelector("#".concat(y,"_summary"))&&(o=this._accessibleOutputs[y],g=function(l,c,u,i){return u="Your output is a, ".concat(u," by ").concat(i," pixels, ").concat(c," canvas containing the following"),u=l===1?"".concat(u," shape:"):"".concat(u," ").concat(l," shapes:")}((a=function(l,c){var u,i="",d=0;for(u in c)for(var p in c[u]){var v='<li><a href="#'.concat(l,"shape").concat(d,'">').concat(c[u][p].color," ").concat(u,"</a>");u==="line"?v+=", ".concat(c[u][p].pos,", ").concat(c[u][p].length," pixels long.</li>"):(v+=", at ".concat(c[u][p].pos),u!=="point"&&(v+=", covering ".concat(c[u][p].area,"% of the canvas")),v+=".</li>"),i+=v,d++}return{numShapes:d,listShapes:i}}(y,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),b=function(l,c){var u,i="",d=0;for(u in c)for(var p in c[u]){var v='<tr id="'.concat(l,"shape").concat(d,'"><th>').concat(c[u][p].color," ").concat(u,"</th>");u==="line"?v+="<td>location = ".concat(c[u][p].pos,"</td><td>length = ").concat(c[u][p].length," pixels</td></tr>"):(v+="<td>location = ".concat(c[u][p].pos,"</td>"),u!=="point"&&(v+="<td> area = ".concat(c[u][p].area,"%</td>")),v+="</tr>"),i+=v,d++}return i}(y,this.ingredients.shapes),g!==o.summary.innerHTML&&(o.summary.innerHTML=g),a.listShapes!==o.list.innerHTML&&(o.list.innerHTML=a.listShapes),b!==o.shapeDetails.innerHTML&&(o.shapeDetails.innerHTML=b),this._accessibleOutputs[y]=o)},t=t.default,S.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151}],257:[function(t,C,S){var y=(y=t("./core/main"))&&y.__esModule?y:{default:y};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),C.exports=y.default},{"./accessibility/color_namer":252,"./accessibility/describe":253,"./accessibility/gridOutput":254,"./accessibility/outputs":255,"./accessibility/textOutput":256,"./color/color_conversion":258,"./color/creating_reading":259,"./color/p5.Color":260,"./color/setting":261,"./core/constants":262,"./core/environment":263,"./core/friendly_errors/fes_core":264,"./core/friendly_errors/file_errors":265,"./core/friendly_errors/sketch_reader":266,"./core/friendly_errors/stacktrace":267,"./core/friendly_errors/validate_params":268,"./core/helpers":269,"./core/init":270,"./core/legacy":272,"./core/main":273,"./core/p5.Element":274,"./core/p5.Graphics":275,"./core/p5.Renderer":276,"./core/p5.Renderer2D":277,"./core/preload":278,"./core/rendering":279,"./core/shape/2d_primitives":280,"./core/shape/attributes":281,"./core/shape/curves":282,"./core/shape/vertex":283,"./core/shim":284,"./core/structure":285,"./core/transform":286,"./data/local_storage.js":287,"./data/p5.TypedDict":288,"./dom/dom":289,"./events/acceleration":290,"./events/keyboard":291,"./events/mouse":292,"./events/touch":293,"./image/filters":294,"./image/image":295,"./image/loading_displaying":296,"./image/p5.Image":297,"./image/pixels":298,"./io/files":299,"./io/p5.Table":300,"./io/p5.TableRow":301,"./io/p5.XML":302,"./math/calculation":303,"./math/math":304,"./math/noise":305,"./math/p5.Vector":306,"./math/random":307,"./math/trigonometry":308,"./typography/attributes":309,"./typography/loading_displaying":310,"./typography/p5.Font":311,"./utilities/array_functions":312,"./utilities/conversion":313,"./utilities/string_functions":314,"./utilities/time_date":315,"./webgl/3d_primitives":316,"./webgl/interaction":317,"./webgl/light":318,"./webgl/loading":319,"./webgl/material":320,"./webgl/p5.Camera":321,"./webgl/p5.Framebuffer":322,"./webgl/p5.Geometry":323,"./webgl/p5.Matrix":324,"./webgl/p5.RenderBuffer":325,"./webgl/p5.RendererGL":328,"./webgl/p5.RendererGL.Immediate":326,"./webgl/p5.RendererGL.Retained":327,"./webgl/p5.Shader":329,"./webgl/p5.Texture":330,"./webgl/text":331}],258:[function(t,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.ColorConversion={_hsbaToHSLA:function(y){var o=y[0],a=y[1],g=y[2],b=(2-a)*g/2;return b!=0&&(b==1?a=0:b<.5?a/=2-a:a=a*g/(2-2*b)),[o,a,b,y[3]]},_hsbaToRGBA:function(y){var o,a,g,b,l,c=6*y[0],u=y[1],i=y[2];return u===0?[i,i,i,y[3]]:(a=i*(1-u),g=i*(1-u*(c-(o=Math.floor(c)))),u=i*(1-u*(1+o-c)),c=o===1?(b=g,l=i,a):o===2?(b=a,l=i,u):o===3?(b=a,l=g,i):o===4?(b=u,l=a,i):o===5?(b=i,l=a,g):(b=i,l=u,a),[b,l,c,y[3]])},_hslaToHSBA:function(y){var o=y[0],a=y[1],g=y[2],b=g<.5?(1+a)*g:g+a-g*a;return[o,a=2*(b-g)/b,b,y[3]]},_hslaToRGBA:function(y){var o,a=6*y[0],g=y[1],b=y[2];return g===0?[b,b,b,y[3]]:[(o=function(l,c,u){return l<0?l+=6:6<=l&&(l-=6),l<1?c+(u-c)*l:l<3?u:l<4?c+(u-c)*(4-l):c})(2+a,g=2*b-(b=b<.5?(1+g)*b:b+g-b*g),b),o(a,g,b),o(a-2,g,b),y[3]]},_rgbaToHSBA:function(y){var o,a,g=y[0],b=y[1],l=y[2],c=Math.max(g,b,l),u=c-Math.min(g,b,l);return u==0?a=o=0:(a=u/c,g===c?o=(b-l)/u:b===c?o=2+(l-g)/u:l===c&&(o=4+(g-b)/u),o<0?o+=6:6<=o&&(o-=6)),[o/6,a,c,y[3]]},_rgbaToHSLA:function(y){var o,a,g,b=y[0],l=y[1],c=y[2],u=Math.max(b,l,c),i=u+(g=Math.min(b,l,c));return(g=u-g)==0?a=o=0:(a=i<1?g/i:g/(2-i),b===u?o=(l-c)/g:l===u?o=2+(c-b)/g:c===u&&(o=4+(b-l)/g),o<0?o+=6:6<=o&&(o-=6)),[o/6,a,i/2,y[3]]}},t=t.default.ColorConversion,S.default=t},{"../core/main":273}],259:[function(t,C,S){function y(l){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function o(l){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(c){return y(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":y(c)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(b=t("../core/main"))&&b.__esModule?b:{default:b},g=function(l){if(l&&l.__esModule)return l;if(l===null||o(l)!=="object"&&typeof l!="function")return{default:l};var c=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(c&&c.has(l))return c.get(l);var u,i={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var p;Object.prototype.hasOwnProperty.call(l,u)&&((p=d?Object.getOwnPropertyDescriptor(l,u):null)&&(p.get||p.set)?Object.defineProperty(i,u,p):i[u]=l[u])}return i.default=l,c&&c.set(l,i),i}(t("../core/constants"));t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.alpha=function(l){return a.default._validateParameters("alpha",arguments),this.color(l)._getAlpha()},a.default.prototype.blue=function(l){return a.default._validateParameters("blue",arguments),this.color(l)._getBlue()},a.default.prototype.brightness=function(l){return a.default._validateParameters("brightness",arguments),this.color(l)._getBrightness()},a.default.prototype.color=function(){var l;return a.default._validateParameters("color",arguments),arguments[0]instanceof a.default.Color?arguments[0]:(l=arguments[0]instanceof Array?arguments[0]:arguments,new a.default.Color(this,l))},a.default.prototype.green=function(l){return a.default._validateParameters("green",arguments),this.color(l)._getGreen()},a.default.prototype.hue=function(l){return a.default._validateParameters("hue",arguments),this.color(l)._getHue()},a.default.prototype.lerpColor=function(l,c,u){a.default._validateParameters("lerpColor",arguments);var i,d,p,v=this._colorMode,h=this._colorMaxes;if(v===g.RGB)d=l.levels.map(function(w){return w/255}),p=c.levels.map(function(w){return w/255});else if(v===g.HSB)l._getBrightness(),c._getBrightness(),d=l.hsba,p=c.hsba;else{if(v!==g.HSL)throw new Error("".concat(v,"cannot be used for interpolation."));l._getLightness(),c._getLightness(),d=l.hsla,p=c.hsla}return u=Math.max(Math.min(u,1),0),this.lerp===void 0&&(this.lerp=function(w,_,E){return E*(_-w)+w}),l=this.lerp(d[0],p[0],u),c=this.lerp(d[1],p[1],u),i=this.lerp(d[2],p[2],u),d=this.lerp(d[3],p[3],u),l*=h[v][0],c*=h[v][1],i*=h[v][2],d*=h[v][3],this.color(l,c,i,d)},a.default.prototype.lightness=function(l){return a.default._validateParameters("lightness",arguments),this.color(l)._getLightness()},a.default.prototype.red=function(l){return a.default._validateParameters("red",arguments),this.color(l)._getRed()},a.default.prototype.saturation=function(l){return a.default._validateParameters("saturation",arguments),this.color(l)._getSaturation()};var b=a.default;S.default=b},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],260:[function(t,C,S){function y(h){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(h)}function o(h){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(w){return y(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":y(w)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=l(t("../core/main")),g=function(h){if(h&&h.__esModule)return h;if(h===null||o(h)!=="object"&&typeof h!="function")return{default:h};var w=function(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,T)}();if(w&&w.has(h))return w.get(h);var _,E={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in h){var P;Object.prototype.hasOwnProperty.call(h,_)&&((P=R?Object.getOwnPropertyDescriptor(h,_):null)&&(P.get||P.set)?Object.defineProperty(E,_,P):E[_]=h[_])}return E.default=h,w&&w.set(h,E),E}(t("../core/constants")),b=l(t("./color_conversion"));function l(h){return h&&h.__esModule?h:{default:h}}function c(h,w){for(var _=0;_<w.length;_++){var E=w[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(h,E.key,E)}}var u={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},i=(t=/\s*/,/(\d{1,3})/),d=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,p=new RegExp("".concat(d.source,"%")),v={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",i.source,",",i.source,",",i.source,"\\)$"].join(t.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(t.source),"i"),RGBA:new RegExp(["^rgba\\(",i.source,",",i.source,",",i.source,",",d.source,"\\)$"].join(t.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",d.source,"\\)$"].join(t.source),"i"),HSL:new RegExp(["^hsl\\(",i.source,",",p.source,",",p.source,"\\)$"].join(t.source),"i"),HSLA:new RegExp(["^hsla\\(",i.source,",",p.source,",",p.source,",",d.source,"\\)$"].join(t.source),"i"),HSB:new RegExp(["^hsb\\(",i.source,",",p.source,",",p.source,"\\)$"].join(t.source),"i"),HSBA:new RegExp(["^hsba\\(",i.source,",",p.source,",",p.source,",",d.source,"\\)$"].join(t.source),"i")};a.default.Color=function(){function h(R,P){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(R._colorMode,R._colorMaxes),![g.RGB,g.HSL,g.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=h._parseInputs.apply(this,P),this._calculateLevels()}var w,_,E;return w=h,E=[{key:"_parseInputs",value:function(R,P,T,D){var A,I=arguments.length,U=this.mode,B=this.maxes[U],N=[];if(3<=I){for(N[0]=R/B[0],N[1]=P/B[1],N[2]=T/B[2],N[3]=typeof D=="number"?D/B[3]:1,A=N.length-1;0<=A;--A){var O=N[A];O<0?N[A]=0:1<O&&(N[A]=1)}return U===g.HSL?b.default._hslaToRGBA(N):U===g.HSB?b.default._hsbaToRGBA(N):N}if(I===1&&typeof R=="string"){if(T=R.trim().toLowerCase(),u[T])return h._parseInputs.call(this,u[T]);if(v.HEX3.test(T))return(N=v.HEX3.exec(T).slice(1).map(function(V){return parseInt(V+V,16)/255}))[3]=1,N;if(v.HEX6.test(T))return(N=v.HEX6.exec(T).slice(1).map(function(V){return parseInt(V,16)/255}))[3]=1,N;if(v.HEX4.test(T))return v.HEX4.exec(T).slice(1).map(function(V){return parseInt(V+V,16)/255});if(v.HEX8.test(T))return v.HEX8.exec(T).slice(1).map(function(V){return parseInt(V,16)/255});if(v.RGB.test(T))return(N=v.RGB.exec(T).slice(1).map(function(V){return V/255}))[3]=1,N;if(v.RGB_PERCENT.test(T))return(N=v.RGB_PERCENT.exec(T).slice(1).map(function(V){return parseFloat(V)/100}))[3]=1,N;if(v.RGBA.test(T))return v.RGBA.exec(T).slice(1).map(function(V,q){return q===3?parseFloat(V):V/255});if(v.RGBA_PERCENT.test(T))return v.RGBA_PERCENT.exec(T).slice(1).map(function(V,q){return q===3?parseFloat(V):parseFloat(V)/100});if(v.HSL.test(T)?(N=v.HSL.exec(T).slice(1).map(function(V,q){return q===0?parseInt(V,10)/360:parseInt(V,10)/100}))[3]=1:v.HSLA.test(T)&&(N=v.HSLA.exec(T).slice(1).map(function(V,q){return q===0?parseInt(V,10)/360:q===3?parseFloat(V):parseInt(V,10)/100})),(N=N.map(function(V){return Math.max(Math.min(V,1),0)})).length)return b.default._hslaToRGBA(N);if(v.HSB.test(T)?(N=v.HSB.exec(T).slice(1).map(function(V,q){return q===0?parseInt(V,10)/360:parseInt(V,10)/100}))[3]=1:v.HSBA.test(T)&&(N=v.HSBA.exec(T).slice(1).map(function(V,q){return q===0?parseInt(V,10)/360:q===3?parseFloat(V):parseInt(V,10)/100})),N.length){for(A=N.length-1;0<=A;--A)N[A]=Math.max(Math.min(N[A],1),0);return b.default._hsbaToRGBA(N)}N=[1,1,1,1]}else{if(I!==1&&I!==2||typeof R!="number")throw new Error("".concat(arguments,"is not a valid color representation."));N[0]=R/B[2],N[1]=R/B[2],N[2]=R/B[2],N[3]=typeof P=="number"?P/B[3]:1,N=N.map(function(V){return Math.max(Math.min(V,1),0)})}return N}}],(_=[{key:"toString",value:function(R){var P=this.levels,T=this._array,D=T[3];switch(R){case"#rrggbb":return"#".concat(P[0]<16?"0".concat(P[0].toString(16)):P[0].toString(16),P[1]<16?"0".concat(P[1].toString(16)):P[1].toString(16),P[2]<16?"0".concat(P[2].toString(16)):P[2].toString(16));case"#rrggbbaa":return"#".concat(P[0]<16?"0".concat(P[0].toString(16)):P[0].toString(16),P[1]<16?"0".concat(P[1].toString(16)):P[1].toString(16),P[2]<16?"0".concat(P[2].toString(16)):P[2].toString(16),P[3]<16?"0".concat(P[3].toString(16)):P[3].toString(16));case"#rgb":return"#".concat(Math.round(15*T[0]).toString(16),Math.round(15*T[1]).toString(16),Math.round(15*T[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*T[0]).toString(16),Math.round(15*T[1]).toString(16),Math.round(15*T[2]).toString(16),Math.round(15*T[3]).toString(16));case"rgb":return"rgb(".concat(P[0],", ",P[1],", ",P[2],")");case"rgb%":return"rgb(".concat((100*T[0]).toPrecision(3),"%, ",(100*T[1]).toPrecision(3),"%, ",(100*T[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*T[0]).toPrecision(3),"%, ",(100*T[1]).toPrecision(3),"%, ",(100*T[2]).toPrecision(3),"%, ",(100*T[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[g.HSB][0],", ",this.hsba[1]*this.maxes[g.HSB][1],", ",this.hsba[2]*this.maxes[g.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[g.HSB][0],", ",this.hsba[1]*this.maxes[g.HSB][1],", ",this.hsba[2]*this.maxes[g.HSB][2],", ",D,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*D).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[g.HSL][0],", ",this.hsla[1]*this.maxes[g.HSL][1],", ",this.hsla[2]*this.maxes[g.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[g.HSL][0],", ",this.hsla[1]*this.maxes[g.HSL][1],", ",this.hsla[2]*this.maxes[g.HSL][2],", ",D,")");case"hsla%":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*D).toPrecision(3),"%)");default:return"rgba(".concat(P[0],",",P[1],",",P[2],",",D,")")}}},{key:"setRed",value:function(R){this._array[0]=R/this.maxes[g.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(R){this._array[1]=R/this.maxes[g.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(R){this._array[2]=R/this.maxes[g.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(R){this._array[3]=R/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var R=this._array,P=this.levels=new Array(R.length),T=R.length-1;0<=T;--T)P[T]=Math.round(255*R[T]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(R,P){this.mode=R,this.maxes=P}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[g.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[g.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[g.RGB][1]}},{key:"_getHue",value:function(){return this.mode===g.HSB?(this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[g.HSB][0]):(this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[g.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[g.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[g.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===g.HSB?(this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[g.HSB][1]):(this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[g.HSL][1])}}])&&c(w.prototype,_),E&&c(w,E),h}(),i=a.default.Color,S.default=i},{"../core/constants":262,"../core/main":273,"./color_conversion":258,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],261:[function(t,C,S){function y(l){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function o(l){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(c){return y(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":y(c)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(b=t("../core/main"))&&b.__esModule?b:{default:b},g=function(l){if(l&&l.__esModule)return l;if(l===null||o(l)!=="object"&&typeof l!="function")return{default:l};var c=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(c&&c.has(l))return c.get(l);var u,i={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var p;Object.prototype.hasOwnProperty.call(l,u)&&((p=d?Object.getOwnPropertyDescriptor(l,u):null)&&(p.get||p.set)?Object.defineProperty(i,u,p):i[u]=l[u])}return i.default=l,c&&c.set(l,i),i}(t("../core/constants"));t("./p5.Color"),a.default.prototype.background=function(){var l;return(l=this._renderer).background.apply(l,arguments),this},a.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},a.default.prototype.colorMode=function(l,c,u,i,d){return a.default._validateParameters("colorMode",arguments),l!==g.RGB&&l!==g.HSB&&l!==g.HSL||(this._colorMode=l,l=this._colorMaxes[l],arguments.length===2?(l[0]=c,l[1]=c,l[2]=c,l[3]=c):arguments.length===4?(l[0]=c,l[1]=u,l[2]=i):arguments.length===5&&(l[0]=c,l[1]=u,l[2]=i,l[3]=d)),this},a.default.prototype.fill=function(){var l;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(l=this._renderer).fill.apply(l,arguments),this},a.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},a.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},a.default.prototype.stroke=function(){var l;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(l=this._renderer).stroke.apply(l,arguments),this},a.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},a.default.prototype.noErase=function(){return this._renderer.noErase(),this};var b=a.default;S.default=b},{"../core/constants":262,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],262:[function(t,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.QUADRATIC=S.LINEAR=S._CTX_MIDDLE=S._DEFAULT_LEADMULT=S._DEFAULT_TEXT_FILL=S.WORD=S.CHAR=S.BOLDITALIC=S.BOLD=S.ITALIC=S.NORMAL=S.BLUR=S.ERODE=S.DILATE=S.POSTERIZE=S.INVERT=S.OPAQUE=S.GRAY=S.THRESHOLD=S.BURN=S.DODGE=S.SOFT_LIGHT=S.HARD_LIGHT=S.OVERLAY=S.REPLACE=S.SCREEN=S.MULTIPLY=S.EXCLUSION=S.SUBTRACT=S.DIFFERENCE=S.LIGHTEST=S.DARKEST=S.ADD=S.REMOVE=S.BLEND=S.UP_ARROW=S.TAB=S.SHIFT=S.RIGHT_ARROW=S.RETURN=S.OPTION=S.LEFT_ARROW=S.ESCAPE=S.ENTER=S.DOWN_ARROW=S.DELETE=S.CONTROL=S.BACKSPACE=S.ALT=S.AUTO=S.HSL=S.HSB=S.RGB=S.MITER=S.BEVEL=S.ROUND=S.SQUARE=S.PROJECT=S.PIE=S.CHORD=S.OPEN=S.CLOSE=S.TESS=S.QUAD_STRIP=S.QUADS=S.TRIANGLE_STRIP=S.TRIANGLE_FAN=S.TRIANGLES=S.LINE_LOOP=S.LINE_STRIP=S.LINES=S.POINTS=S.BASELINE=S.BOTTOM=S.TOP=S.CENTER=S.LEFT=S.RIGHT=S.RADIUS=S.CORNERS=S.CORNER=S.RAD_TO_DEG=S.DEG_TO_RAD=S.RADIANS=S.DEGREES=S.TWO_PI=S.TAU=S.QUARTER_PI=S.PI=S.HALF_PI=S.WAIT=S.TEXT=S.MOVE=S.HAND=S.CROSS=S.ARROW=S.WEBGL2=S.WEBGL=S.P2D=S.VERSION=void 0,S.RGBA=S.HALF_FLOAT=S.FLOAT=S.UNSIGNED_INT=S.UNSIGNED_BYTE=S.COVER=S.CONTAIN=S.FALLBACK=S.LABEL=S.AXES=S.GRID=S._DEFAULT_FILL=S._DEFAULT_STROKE=S.PORTRAIT=S.LANDSCAPE=S.MIRROR=S.CLAMP=S.REPEAT=S.NEAREST=S.IMAGE=S.IMMEDIATE=S.TEXTURE=S.FILL=S.STROKE=S.CURVE=S.BEZIER=void 0;var y=Math.PI,o=(S.VERSION="1.7.0",S.P2D="p2d",S.WEBGL="webgl",S.WEBGL2="webgl2",S.ARROW="default",S.CROSS="crosshair",S.HAND="pointer",S.MOVE="move",S.TEXT="text",S.WAIT="wait",y/2);S.HALF_PI=o,o=y,S.PI=o,o=y/4,S.QUARTER_PI=o,o=2*y,S.TAU=o,o=2*y,S.TWO_PI=o,S.DEGREES="degrees",S.RADIANS="radians",o=y/180,S.DEG_TO_RAD=o,o=180/y,S.RAD_TO_DEG=o,S.CORNER="corner",S.CORNERS="corners",S.RADIUS="radius",S.RIGHT="right",S.LEFT="left",S.CENTER="center",S.TOP="top",S.BOTTOM="bottom",S.BASELINE="alphabetic",S.POINTS=0,S.LINES=1,S.LINE_STRIP=3,S.LINE_LOOP=2,S.TRIANGLES=4,S.TRIANGLE_FAN=6,S.TRIANGLE_STRIP=5,S.QUADS="quads",S.QUAD_STRIP="quad_strip",S.TESS="tess",S.CLOSE="close",S.OPEN="open",S.CHORD="chord",S.PIE="pie",S.PROJECT="square",S.SQUARE="butt",S.ROUND="round",S.BEVEL="bevel",S.MITER="miter",S.RGB="rgb",S.HSB="hsb",S.HSL="hsl",S.AUTO="auto",S.ALT=18,S.BACKSPACE=8,S.CONTROL=17,S.DELETE=46,S.DOWN_ARROW=40,S.ENTER=13,S.ESCAPE=27,S.LEFT_ARROW=37,S.OPTION=18,S.RETURN=13,S.RIGHT_ARROW=39,S.SHIFT=16,S.TAB=9,S.UP_ARROW=38,S.BLEND="source-over",S.REMOVE="destination-out",S.ADD="lighter",S.DARKEST="darken",S.LIGHTEST="lighten",S.DIFFERENCE="difference",S.SUBTRACT="subtract",S.EXCLUSION="exclusion",S.MULTIPLY="multiply",S.SCREEN="screen",S.REPLACE="copy",S.OVERLAY="overlay",S.HARD_LIGHT="hard-light",S.SOFT_LIGHT="soft-light",S.DODGE="color-dodge",S.BURN="color-burn",S.THRESHOLD="threshold",S.GRAY="gray",S.OPAQUE="opaque",S.INVERT="invert",S.POSTERIZE="posterize",S.DILATE="dilate",S.ERODE="erode",S.BLUR="blur",S.NORMAL="normal",S.ITALIC="italic",S.BOLD="bold",S.BOLDITALIC="bold italic",S.CHAR="CHAR",S.WORD="WORD",S._DEFAULT_TEXT_FILL="#000000",S._DEFAULT_LEADMULT=1.25,S._CTX_MIDDLE="middle",S.LINEAR="linear",S.QUADRATIC="quadratic",S.BEZIER="bezier",S.CURVE="curve",S.STROKE="stroke",S.FILL="fill",S.TEXTURE="texture",S.IMMEDIATE="immediate",S.IMAGE="image",S.NEAREST="nearest",S.REPEAT="repeat",S.CLAMP="clamp",S.MIRROR="mirror",S.LANDSCAPE="landscape",S.PORTRAIT="portrait",S._DEFAULT_STROKE="#000000",S._DEFAULT_FILL="#FFFFFF",S.GRID="grid",S.AXES="axes",S.LABEL="label",S.FALLBACK="fallback",S.CONTAIN="contain",S.COVER="cover",S.UNSIGNED_BYTE="unsigned-byte",S.UNSIGNED_INT="unsigned-int",S.FLOAT="float",S.HALF_FLOAT="half-float",S.RGBA="rgba"},{}],263:[function(t,C,S){function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(i)}function o(i){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(d){return y(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":y(d)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(g=t("./main"))&&g.__esModule?g:{default:g},g=function(i){if(i&&i.__esModule)return i;if(i===null||o(i)!=="object"&&typeof i!="function")return{default:i};var d=function(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,_)}();if(d&&d.has(i))return d.get(i);var p,v={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in i){var w;Object.prototype.hasOwnProperty.call(i,p)&&((w=h?Object.getOwnPropertyDescriptor(i,p):null)&&(w.get||w.set)?Object.defineProperty(v,p,w):v[p]=i[p])}return v.default=i,d&&d.set(i,v),v}(t("./constants")),b=[g.ARROW,g.CROSS,g.HAND,g.MOVE,g.TEXT,g.WAIT],l=(a.default.prototype._frameRate=0,a.default.prototype._lastFrameTime=window.performance.now(),a.default.prototype._targetFrameRate=60,window.print);function c(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function u(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}a.default.prototype.print=function(){var i;arguments.length?(i=console).log.apply(i,arguments):l()},a.default.prototype.frameCount=0,a.default.prototype.deltaTime=0,a.default.prototype.focused=document.hasFocus(),a.default.prototype.cursor=function(i,d,p){var v,h="auto",w=this._curElement.elt;b.includes(i)?h=i:typeof i=="string"&&(v="",d&&p&&typeof d=="number"&&typeof p=="number"&&(v="".concat(d," ").concat(p)),h=i.substring(0,7)==="http://"||i.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(i)?"url(".concat(i,") ").concat(v,", auto"):i),w.style.cursor=h},a.default.prototype.frameRate=function(i){return a.default._validateParameters("frameRate",arguments),typeof i!="number"||i<0?this._frameRate:(this._setProperty("_targetFrameRate",i),i===0&&this._setProperty("_frameRate",i),this)},a.default.prototype.getFrameRate=function(){return this.frameRate()},a.default.prototype.setFrameRate=function(i){return this.frameRate(i)},a.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},a.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},a.default.prototype.webglVersion=g.P2D,a.default.prototype.displayWidth=screen.width,a.default.prototype.displayHeight=screen.height,a.default.prototype.windowWidth=c(),a.default.prototype.windowHeight=u(),a.default.prototype._onresize=function(i){this._setProperty("windowWidth",c()),this._setProperty("windowHeight",u());var d=this._isGlobal?window:this;typeof d.windowResized!="function"||(d=d.windowResized(i))===void 0||d||i.preventDefault()},a.default.prototype.width=0,a.default.prototype.height=0,a.default.prototype.fullscreen=function(i){if(a.default._validateParameters("fullscreen",arguments),i===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(i){if(i=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen&&i.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},a.default.prototype.pixelDensity=function(i){var d;return a.default._validateParameters("pixelDensity",arguments),typeof i=="number"?(i!==this._pixelDensity&&(this._pixelDensity=i),(d=this).resizeCanvas(this.width,this.height,!0)):d=this._pixelDensity,d},a.default.prototype.displayDensity=function(){return window.devicePixelRatio},a.default.prototype.getURL=function(){return location.href},a.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(i){return i!==""})},a.default.prototype.getURLParams=function(){for(var i,d=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,p={};(i=d.exec(location.search))!=null;)i.index===d.lastIndex&&d.lastIndex++,p[i[1]]=i[2];return p},t=a.default,S.default=t},{"./constants":262,"./main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.search":195,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],264:[function(t,C,S){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(l=t("../main"))&&l.__esModule?l:{default:l};function o(c,u){u=u||console.log.bind(console),a||g(),a.some(function(i){var d;if(c.message&&c.message.match("\\W?".concat(i.name,"\\W"))!==null)return d=i.type==="function"?"".concat(i.name,"()"):i.name,u("Did you just try to use p5.js's ".concat(d," ").concat(i.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(b)),!0})}t("../internationalization");var a=null,g=null,b=(y.default._friendlyError=y.default._checkForUserDefinedFunctions=y.default._fesErrorMonitor=function(){},a=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),l=(g=function(){function c(i){return Object.getOwnPropertyNames(i).filter(function(d){return d[0]!=="_"&&!(d in u)&&(u[d]=!0)}).map(function(d){var p=typeof i[d]=="function"?"function":d===d.toUpperCase()?"constant":"variable";return{name:d,type:p}})}var u={};(a=[].concat(c(y.default.prototype),c(t("../constants")))).sort(function(i,d){return d.name.length-i.name.length})},y.default.prototype._helpForMisusedAtTopLevelCode=o,document.readyState!=="complete"&&(window.addEventListener("error",o,!1),window.addEventListener("load",function(){window.removeEventListener("error",o,!1)})),y.default);S.default=l},{"../constants":262,"../internationalization":271,"../main":273,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.function.name":167,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.starts-with":197,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],265:[function(t,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(y=t("../main"))&&y.__esModule?y:{default:y};t("../internationalization"),y.default._friendlyFileLoadError=function(){},t=y.default,S.default=t},{"../internationalization":271,"../main":273}],266:[function(t,C,S){function y(l){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function o(l){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(c){return y(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":y(c)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=function(l){return l&&l.__esModule?l:{default:l}}(t("../main"));t("../internationalization"),function(l){if(l&&l.__esModule)return l;if(l===null||o(l)!=="object"&&typeof l!="function")return{default:l};var c=g();if(c&&c.has(l))return c.get(l);var u,i,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l)Object.prototype.hasOwnProperty.call(l,u)&&((i=p?Object.getOwnPropertyDescriptor(l,u):null)&&(i.get||i.set)?Object.defineProperty(d,u,i):d[u]=l[u]);d.default=l,c&&c.set(l,d)}(t("../constants"));function g(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,g=function(){return l},l)}a.default._fesCodeReader=function(){};var b=a.default;S.default=b},{"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],267:[function(t,C,S){function y(){var o=/(^|@)\S+:\d+/,a=/^\s*at .*(\S+:\d+|\(native\))/m,g=/^(eval@)?(\[native code])?$/;return{parse:function(b){return b.stacktrace!==void 0||b["opera#sourceloc"]!==void 0?this.parseOpera(b):b.stack&&b.stack.match(a)?this.parseV8OrIE(b):b.stack?this.parseFFOrSafari(b):void 0},extractLocation:function(b){return b.indexOf(":")===-1?[b]:[(b=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(b.replace(/[()]/g,"")))[1],b[2]||void 0,b[3]||void 0]},parseV8OrIE:function(b){return b.stack.split(`
`).filter(function(l){return!!l.match(a)},this).map(function(l){var c=(u=(l=-1<l.indexOf("(eval ")?l.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):l).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),u=(u=c?u.replace(c[0],""):u).split(/\s+/).slice(1);return c=this.extractLocation(c?c[1]:u.pop()),{functionName:u.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(c[0])?void 0:c[0],lineNumber:c[1],columnNumber:c[2],source:l}},this)},parseFFOrSafari:function(b){return b.stack.split(`
`).filter(function(l){return!l.match(g)},this).map(function(l){var c,u;return(l=-1<l.indexOf(" > eval")?l.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):l).indexOf("@")===-1&&l.indexOf(":")===-1?{functionName:l}:{functionName:(u=l.match(c=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&u[1]?u[1]:void 0,fileName:(u=this.extractLocation(l.replace(c,"")))[0],lineNumber:u[1],columnNumber:u[2],source:l}},this)},parseOpera:function(b){return!b.stacktrace||-1<b.message.indexOf(`
`)&&b.message.split(`
`).length>b.stacktrace.split(`
`).length?this.parseOpera9(b):b.stack?this.parseOpera11(b):this.parseOpera10(b)},parseOpera9:function(b){for(var l=/Line (\d+).*script (?:in )?(\S+)/i,c=b.message.split(`
`),u=[],i=2,d=c.length;i<d;i+=2){var p=l.exec(c[i]);p&&u.push({fileName:p[2],lineNumber:p[1],source:c[i]})}return u},parseOpera10:function(b){for(var l=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=b.stacktrace.split(`
`),u=[],i=0,d=c.length;i<d;i+=2){var p=l.exec(c[i]);p&&u.push({functionName:p[3]||void 0,fileName:p[2],lineNumber:p[1],source:c[i]})}return u},parseOpera11:function(b){return b.stack.split(`
`).filter(function(l){return!!l.match(o)&&!l.match(/^Error created at/)},this).map(function(l){var c,u=l.split("@"),i=this.extractLocation(u.pop());return{functionName:(u=u.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(c=u.match(/\(([^)]*)\)/)?u.replace(/^[^(]+\(([^)]*)\)$/,"$1"):c)===void 0||c==="[arguments not available]"?void 0:c.split(","),fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:l}},this)}}}t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(t=(t=t("../main"))&&t.__esModule?t:{default:t}).default._getErrorStackParser=function(){return new y},t=t.default,S.default=t},{"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196}],268:[function(t,C,S){function y(g){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var o=(o=t("../main"))&&o.__esModule?o:{default:o};function a(g){return(a=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(b){return y(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":y(b)})(g)}(function(g){if(!(g&&g.__esModule||g===null||a(g)!=="object"&&typeof g!="function")){var b=function(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,d)}();if(b&&b.has(g))return b.get(g);var l,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in g){var i;Object.prototype.hasOwnProperty.call(g,l)&&((i=u?Object.getOwnPropertyDescriptor(g,l):null)&&(i.get||i.set)?Object.defineProperty(c,l,i):c[l]=g[l])}c.default=g,b&&b.set(g,c)}})(t("../constants")),t("../internationalization"),o.default._validateParameters=o.default._clearValidateParamsCache=function(){},t=o.default,S.default=t},{"../../../docs/parameterData.json":void 0,"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.map":168,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],269:[function(t,C,S){function y(g){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(g)}function o(g){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(b){return y(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":y(b)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=function(g){if(g&&g.__esModule)return g;if(g===null||o(g)!=="object"&&typeof g!="function")return{default:g};var b=function(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,d)}();if(b&&b.has(g))return b.get(g);var l,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in g){var i;Object.prototype.hasOwnProperty.call(g,l)&&((i=u?Object.getOwnPropertyDescriptor(g,l):null)&&(i.get||i.set)?Object.defineProperty(c,l,i):c[l]=g[l])}return c.default=g,b&&b.set(g,c),c}(t("./constants"));S.default={modeAdjust:function(g,b,l,c,u){return u===a.CORNER?{x:g,y:b,w:l,h:c}:u===a.CORNERS?{x:g,y:b,w:l-g,h:c-b}:u===a.RADIUS?{x:g-l,y:b-c,w:2*l,h:2*c}:u===a.CENTER?{x:g-.5*l,y:b-.5*c,w:l,h:c}:void 0}}},{"./constants":262,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],270:[function(t,C,S){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var y=(o=t("../core/main"))&&o.__esModule?o:{default:o};t("./internationalization");var o=Promise.resolve();Promise.all([new Promise(function(a,g){document.readyState==="complete"?a():window.addEventListener("load",a,!1)}),o]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!y.default.instance&&new y.default})},{"../core/main":273,"./internationalization":271,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/web.dom-collections.iterator":236}],271:[function(t,C,S){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.setTranslatorLanguage=S.currentTranslatorLanguage=S.availableTranslatorLanguages=S.initialize=S.translator=void 0;var y,o=g(t("i18next")),a=g(t("i18next-browser-languagedetector"));function g(c){return c&&c.__esModule?c:{default:c}}function b(c,u){for(var i=0;i<u.length;i++){var d=u[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}var l=function(){function c(d,p){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.init(d,p)}var u,i;return u=c,(i=[{key:"fetchWithTimeout",value:function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(d,p),new Promise(function(h,w){return setTimeout(function(){return w(new Error("timeout"))},v)})])}},{key:"init",value:function(d){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=d,this.options=p}},{key:"read",value:function(d,p,v){var h=this.options.loadPath;d===this.options.fallback?v(null,y[d][p]):(void 0).includes(d)?(h=this.services.interpolator.interpolate(h,{lng:d,ns:p}),this.loadUrl(h,v)):v("Not found",!1)}},{key:"loadUrl",value:function(d,p){this.fetchWithTimeout(d).then(function(v){if(v.ok)return v.json();throw new Error("failed loading ".concat(d))},function(){throw new Error("failed loading ".concat(d))}).then(function(v){return p(null,v)}).catch(p)}}])&&b(u.prototype,i),c}();l.type="backend",S.translator=function(c,u){console.debug("p5.js translator called before translations were loaded"),o.default.t(c,u)},S.initialize=function(){return o.default.use(a.default).use(l).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:y}).then(function(c){S.translator=c},function(c){return console.debug("Translations failed to load (".concat(c,")"))})},S.availableTranslatorLanguages=function(){return o.default.languages},S.currentTranslatorLanguage=function(c){return o.default.language},S.setTranslatorLanguage=function(c){return o.default.changeLanguage(c||void 0,function(u){return console.debug("Translations failed to load (".concat(u,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236,i18next:3,"i18next-browser-languagedetector":3}],272:[function(t,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(t=(t=t("./main"))&&t.__esModule?t:{default:t}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,S.default=t},{"./main":273}],273:[function(t,C,S){function y(c){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}function o(c){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(u){return y(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,t("./shim");var a=function(c){if(c&&c.__esModule)return c;if(c===null||o(c)!=="object"&&typeof c!="function")return{default:c};var u=function(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,h)}();if(u&&u.has(c))return u.get(c);var i,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in c){var v;Object.prototype.hasOwnProperty.call(c,i)&&((v=p?Object.getOwnPropertyDescriptor(c,i):null)&&(v.get||v.set)?Object.defineProperty(d,i,v):d[i]=c[i])}return d.default=c,u&&u.set(c,d),d}(t("./constants"));function g(c,u){for(var i=0;i<u.length;i++){var d=u[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}var b,l=function(){function c(d,p,v){var h=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=p,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},p=Object.getOwnPropertyNames(c.prototype._registeredMethods);var w=!0,_=!1,E=void 0;try{for(var R,P=p[Symbol.iterator]();!(w=(R=P.next()).done);w=!0){var T=R.value;this._registeredMethods[T]=c.prototype._registeredMethods[T].slice()}}catch(q){_=!0,E=q}finally{try{w||P.return==null||P.return()}finally{if(_)throw E}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){h._userNode&&typeof h._userNode=="string"&&(h._userNode=document.getElementById(h._userNode));var q=h._isGlobal?window:h;if(q.preload){var X,Z=document.getElementById(h._loadingScreenId),re=(Z||((Z=document.createElement("div")).innerHTML="Loading...",Z.style.position="absolute",Z.id=h._loadingScreenId,(h._userNode||document.body).appendChild(Z)),h._preloadMethods);for(X in re){re[X]=re[X]||c;var ee=re[X];ee!==c.prototype&&ee!==c||(h._isGlobal&&(window[X]=h._wrapPreload(h,X)),ee=h),h._registeredPreloadMethods[X]=ee[X],ee[X]=h._wrapPreload(ee,X)}q.preload(),h._runIfPreloadsAreDone()}else h._setup(),h._recording||h._draw()},this._runIfPreloadsAreDone=function(){var q,X=this._isGlobal?window:this;X._preloadCount===0&&((q=document.getElementById(X._loadingScreenId))&&q.parentNode.removeChild(q),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),X._setup(),this._recording||X._draw()))},this._decrementPreload=function(){var q=this._isGlobal?window:this;q._preloadDone||typeof q.preload!="function"||(q._setProperty("_preloadCount",q._preloadCount-1),q._runIfPreloadsAreDone())},this._wrapPreload=function(q,X){var Z=this;return function(){Z._incrementPreload();for(var re=arguments.length,ee=new Array(re),ae=0;ae<re;ae++)ee[ae]=arguments[ae];return Z._registeredPreloadMethods[X].apply(q,ee)}},this._incrementPreload=function(){var q=this._isGlobal?window:this;q._preloadDone||q._setProperty("_preloadCount",q._preloadCount+1)},this._setup=function(){h.createCanvas(h._defaultCanvasSize.width,h._defaultCanvasSize.height,"p2d");var q=h._isGlobal?window:h;if(typeof q.preload=="function")for(var X in h._preloadMethods)q[X]=h._preloadMethods[X][X],q[X]&&h&&(q[X]=q[X].bind(h));h._millisStart=window.performance.now(),q._preloadDone=!0,typeof q.setup=="function"&&q.setup();var Z=document.getElementsByTagName("canvas"),re=!0,ee=!1,ae=void 0;try{for(var z,H=Z[Symbol.iterator]();!(re=(z=H.next()).done);re=!0){var $=z.value;$.dataset.hidden==="true"&&($.style.visibility="",delete $.dataset.hidden)}}catch(ne){ee=!0,ae=ne}finally{try{re||H.return==null||H.return()}finally{if(ee)throw ae}}h._lastTargetFrameTime=window.performance.now(),h._lastRealFrameTime=window.performance.now(),h._setupDone=!0,(h._accessibleOutputs.grid||h._accessibleOutputs.text)&&h._updateAccsOutput()},this._draw=function(){var q=window.performance.now(),X=q-h._lastTargetFrameTime,Z=1e3/h._targetFrameRate;(!h._loop||Z-5<=X)&&(h.deltaTime=q-h._lastRealFrameTime,h._setProperty("deltaTime",h.deltaTime),h._frameRate=1e3/h.deltaTime,h.redraw(),h._lastTargetFrameTime=Math.max(h._lastTargetFrameTime+Z,q),h._lastRealFrameTime=q,h._updateMouseCoords!==void 0&&(h._updateMouseCoords(),h._setProperty("movedX",0),h._setProperty("movedY",0))),h._loop&&(h._requestAnimId=window.requestAnimationFrame(h._draw))},this._setProperty=function(q,X){h[q]=X,h._isGlobal&&(window[q]=X)},this.remove=function(){if((Z=document.getElementById(h._loadingScreenId))&&(Z.parentNode.removeChild(Z),h._incrementPreload()),h._curElement){for(var q in h._loop=!1,h._requestAnimId&&window.cancelAnimationFrame(h._requestAnimId),h._events)window.removeEventListener(q,h._events[q]);var X=!0,Z=!1,re=void 0;try{for(var ee,ae=h._elements[Symbol.iterator]();!(X=(ee=ae.next()).done);X=!0){var z,H=ee.value;for(z in H.elt&&H.elt.parentNode&&H.elt.parentNode.removeChild(H.elt),H._events)H.elt.removeEventListener(z,H._events[z])}}catch(le){Z=!0,re=le}finally{try{X||ae.return==null||ae.return()}finally{if(Z)throw re}}var $=h;h._registeredMethods.remove.forEach(function(le){le!==void 0&&le.call($)})}if(h._isGlobal){for(var ne in c.prototype)try{delete window[ne]}catch{window[ne]=void 0}for(var oe in h)if(h.hasOwnProperty(oe))try{delete window[oe]}catch{window[oe]=void 0}c.instance=null}},this._registeredMethods.init.forEach(function(q){q!==void 0&&q.call(this)},this),this._setupPromisePreloads();var D,A,I=this._createFriendlyGlobalFunctionBinder();if(d)d(this),c._checkForUserDefinedFunctions(this);else{for(var U in this._isGlobal=!0,c.instance=this,c.prototype)typeof c.prototype[U]=="function"?(D=U.substring(2),this._events.hasOwnProperty(D)||(Math.hasOwnProperty(U)&&Math[U]===c.prototype[U]?I(U,c.prototype[U]):I(U,c.prototype[U].bind(this)))):I(U,c.prototype[U]);for(var B in this)this.hasOwnProperty(B)&&I(B,this[B])}for(A in this._events){var N=this["_on".concat(A)];N&&(N=N.bind(this),window.addEventListener(A,N,{passive:!1}),this._events[A]=N)}function O(){h._setProperty("focused",!0)}function V(){h._setProperty("focused",!1)}window.addEventListener("focus",O),window.addEventListener("blur",V),this.registerMethod("remove",function(){window.removeEventListener("focus",O),window.removeEventListener("blur",V)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var u,i;return u=c,(i=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=a.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(d,p){c.prototype._preloadMethods.hasOwnProperty(d)||(c.prototype._preloadMethods[d]=p)}},{key:"registerMethod",value:function(d,p){var v=this||c.prototype;v._registeredMethods.hasOwnProperty(d)||(v._registeredMethods[d]=[]),v._registeredMethods[d].push(p)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},p=d.globalObject||window;return d.log||console.log.bind(console),function(v,h){c.disableFriendlyErrors,p[v]=h}}}])&&g(u.prototype,i),c}();for(b in l.instance=null,l.disableFriendlyErrors=!1,a)l.prototype[b]=a[b];l.VERSION=a.VERSION,l.prototype._preloadMethods={loadJSON:l.prototype,loadImage:l.prototype,loadStrings:l.prototype,loadXML:l.prototype,loadBytes:l.prototype,loadTable:l.prototype,loadFont:l.prototype,loadModel:l.prototype,loadShader:l.prototype},l.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},l.prototype._registeredPreloadMethods={},S.default=l},{"./constants":262,"./shim":284,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],274:[function(t,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("./main"))&&t.__esModule?t:{default:t};function o(a,g){for(var b=0;b<g.length;b++){var l=g[b];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}y.default.Element=function(){function a(c,u){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.elt=c,this._pInst=this._pixelsState=u,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var g,b,l;return g=a,l=[{key:"_adjustListener",value:function(c,u,i){return u===!1?y.default.Element._detachListener(c,i):y.default.Element._attachListener(c,u,i),this}},{key:"_attachListener",value:function(c,u,i){i._events[c]&&y.default.Element._detachListener(c,i),u=u.bind(i),i.elt.addEventListener(c,u,!1),i._events[c]=u}},{key:"_detachListener",value:function(c,u){var i=u._events[c];u.elt.removeEventListener(c,i,!1),u._events[c]=null}}],(b=[{key:"parent",value:function(c){return c===void 0?this.elt.parentNode:(typeof c=="string"?(c[0]==="#"&&(c=c.substring(1)),c=document.getElementById(c)):c instanceof y.default.Element&&(c=c.elt),c.appendChild(this.elt),this)}},{key:"id",value:function(c){return c===void 0?this.elt.id:(this.elt.id=c,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(c){return c===void 0?this.elt.className:(this.elt.className=c,this)}},{key:"mousePressed",value:function(c){return y.default.Element._adjustListener("mousedown",function(u){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(u),c.call(this,u)},this),this}},{key:"doubleClicked",value:function(c){return y.default.Element._adjustListener("dblclick",c,this),this}},{key:"mouseWheel",value:function(c){return y.default.Element._adjustListener("wheel",c,this),this}},{key:"mouseReleased",value:function(c){return y.default.Element._adjustListener("mouseup",c,this),this}},{key:"mouseClicked",value:function(c){return y.default.Element._adjustListener("click",c,this),this}},{key:"mouseMoved",value:function(c){return y.default.Element._adjustListener("mousemove",c,this),this}},{key:"mouseOver",value:function(c){return y.default.Element._adjustListener("mouseover",c,this),this}},{key:"mouseOut",value:function(c){return y.default.Element._adjustListener("mouseout",c,this),this}},{key:"touchStarted",value:function(c){return y.default.Element._adjustListener("touchstart",c,this),this}},{key:"touchMoved",value:function(c){return y.default.Element._adjustListener("touchmove",c,this),this}},{key:"touchEnded",value:function(c){return y.default.Element._adjustListener("touchend",c,this),this}},{key:"dragOver",value:function(c){return y.default.Element._adjustListener("dragover",c,this),this}},{key:"dragLeave",value:function(c){return y.default.Element._adjustListener("dragleave",c,this),this}},{key:"_setProperty",value:function(c,u){this[c]=u}}])&&o(g.prototype,b),l&&o(g,l),a}(),t=y.default.Element,S.default=t},{"./main":273}],275:[function(t,C,S){function y(v){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var o=(p=t("./main"))&&p.__esModule?p:{default:p},a=function(v){if(v&&v.__esModule)return v;if(v===null||g(v)!=="object"&&typeof v!="function")return{default:v};var h=function(){var P;return typeof WeakMap!="function"?null:(P=new WeakMap,P)}();if(h&&h.has(v))return h.get(v);var w,_={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in v){var R;Object.prototype.hasOwnProperty.call(v,w)&&((R=E?Object.getOwnPropertyDescriptor(v,w):null)&&(R.get||R.set)?Object.defineProperty(_,w,R):_[w]=v[w])}return _.default=v,h&&h.set(v,_),_}(t("./constants"));function g(v){return(g=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(h){return y(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":y(h)})(v)}function b(v,h){for(var w=0;w<h.length;w++){var _=h[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}function l(v,h){return(l=Object.setPrototypeOf||function(w,_){return w.__proto__=_,w})(v,h)}function c(v){return function(){var h,w=d(v);return u(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(h=d(this).constructor,Reflect.construct(w,arguments,h)):w.apply(this,arguments))}}function u(v,h){return!h||g(h)!=="object"&&typeof h!="function"?i(v):h}function i(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function d(v){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(v)}o.default.Graphics=function(v){var h=_;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),v&&l(h,v);var w=c(_);function _(E,R,P,T,D){var A;if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");U=D||document.createElement("canvas"),(A=w.call(this,U,T)).canvas=U;var I,U=P||a.P2D;P=T._userNode||document.body;for(I in D||P.appendChild(A.canvas),o.default.prototype)A[I]||(typeof o.default.prototype[I]=="function"?A[I]=o.default.prototype[I].bind(i(A)):A[I]=o.default.prototype[I]);return o.default.prototype._initializeInstanceVariables.apply(i(A)),A.width=E,A.height=R,A._pixelDensity=T._pixelDensity,U===a.WEBGL?A._renderer=new o.default.RendererGL(A.canvas,i(A),!1):A._renderer=new o.default.Renderer2D(A.canvas,i(A),!1),T._elements.push(i(A)),Object.defineProperty(i(A),"deltaTime",{get:function(){return this._pInst.deltaTime}}),A._renderer.resize(E,R),A._renderer._applyDefaults(),u(A,i(A))}return h=_,(v=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var E,R=this._pInst._elements.indexOf(this);for(E in R!==-1&&this._pInst._elements.splice(R,1),this._events)this.elt.removeEventListener(E,this._events[E])}},{key:"createFramebuffer",value:function(E){return new o.default.Framebuffer(this,E)}}])&&b(h.prototype,v),_}(o.default.Element);var p=o.default.Graphics;S.default=p},{"./constants":262,"./main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],276:[function(t,C,S){function y(v){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var o=(d=t("./main"))&&d.__esModule?d:{default:d},a=function(v){if(v&&v.__esModule)return v;if(v===null||g(v)!=="object"&&typeof v!="function")return{default:v};var h=function(){var P;return typeof WeakMap!="function"?null:(P=new WeakMap,P)}();if(h&&h.has(v))return h.get(v);var w,_={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in v){var R;Object.prototype.hasOwnProperty.call(v,w)&&((R=E?Object.getOwnPropertyDescriptor(v,w):null)&&(R.get||R.set)?Object.defineProperty(_,w,R):_[w]=v[w])}return _.default=v,h&&h.set(v,_),_}(t("../core/constants"));function g(v){return(g=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(h){return y(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":y(h)})(v)}function b(v,h){for(var w=0;w<h.length;w++){var _=h[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}function l(v,h){return(l=Object.setPrototypeOf||function(w,_){return w.__proto__=_,w})(v,h)}function c(v){return function(){var h,w,_=i(v);return h=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(h=i(this).constructor,Reflect.construct(_,arguments,h)):_.apply(this,arguments),_=this,!(w=h)||g(w)!=="object"&&typeof w!="function"?u(_):w}}function u(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function i(v){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(v)}var d=function(v){var h=_;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),v&&l(h,v);var w=c(_);function _(E,R,P){var T;if(this instanceof _)return(T=w.call(this,E,R)).canvas=E,T._pixelsState=R,P?(T._isMainCanvas=!0,T._pInst._setProperty("_curElement",u(T)),T._pInst._setProperty("canvas",T.canvas),T._pInst._setProperty("width",T.width),T._pInst._setProperty("height",T.height)):(T.canvas.style.display="none",T._styles=[]),T._textSize=12,T._textLeading=15,T._textFont="sans-serif",T._textStyle=a.NORMAL,T._textAscent=null,T._textDescent=null,T._textAlign=a.LEFT,T._textBaseline=a.BASELINE,T._textWrap=a.WORD,T._rectMode=a.CORNER,T._ellipseMode=a.CENTER,T._curveTightness=0,T._imageMode=a.CORNER,T._tint=null,T._doStroke=!0,T._doFill=!0,T._strokeSet=!1,T._fillSet=!1,T._leadingSet=!1,T;throw new TypeError("Cannot call a class as a function")}return h=_,(v=[{key:"push",value:function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(E){E.properties&&Object.assign(this,E.properties)}},{key:"resize",value:function(E,R){this.width=E,this.height=R,this.elt.width=E*this._pInst._pixelDensity,this.elt.height=R*this._pInst._pixelDensity,this.elt.style.width="".concat(E,"px"),this.elt.style.height="".concat(R,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(E,R,P,T){var D=this._pixelsState,A=D._pixelDensity,I=this.canvas;if(E===void 0&&R===void 0)E=R=0,P=D.width,T=D.height;else if(E*=A,R*=A,P===void 0&&T===void 0)return E<0||R<0||E>=I.width||R>=I.height?[0,0,0,0]:this._getPixel(E,R);return(D=new o.default.Image(P,T)).canvas.getContext("2d").drawImage(I,E,R,P*A,T*A,0,0,P,T),D}},{key:"textLeading",value:function(E){return typeof E=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",E),this._pInst):this._textLeading}},{key:"textStyle",value:function(E){return E?(E!==a.NORMAL&&E!==a.ITALIC&&E!==a.BOLD&&E!==a.BOLDITALIC||this._setProperty("_textStyle",E),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(E,R){return E!==void 0?(this._setProperty("_textAlign",E),R!==void 0&&this._setProperty("_textBaseline",R),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(E){return this._setProperty("_textWrap",E),this._textWrap}},{key:"text",value:function(E,R,P,T,D){var A,I,U,B,N=this._pInst,O=this._textWrap,V=Number.MAX_VALUE,q=P;if((this._doFill||this._doStroke)&&E!==void 0){if(A=(E=(E=typeof E!="string"?E.toString():E).replace(/(\t)/g,"  ")).split(`
`),T!==void 0){switch(this._rectMode===a.CENTER&&(R-=T/2),this._textAlign){case a.CENTER:R+=T/2;break;case a.RIGHT:R+=T}if(D!==void 0){this._rectMode===a.CENTER&&(P-=D/2,q-=D/2),E=P;var X=N.textAscent();switch(this._textBaseline){case a.BOTTOM:B=P+D,P=Math.max(B,P),q+=X;break;case a.CENTER:B=P+D/2,P=Math.max(B,P),q+=X/2}V=P+D-X,this._textBaseline===a.CENTER&&(V=E+D-X/2)}else this._textBaseline!==a.BOTTOM&&this._textBaseline!==a.CENTER||(q=P-(E=N.textSize()*this._textLeading)/2,V=P+E/2);if(O===a.WORD){for(var Z=[],re=0;re<A.length;re++){for(var ee="",ae=A[re].split(" "),z=0;z<ae.length;z++)I="".concat(ee+ae[z])+" ",ee=T<(U=this.textWidth(I))&&0<ee.length?(Z.push(ee),"".concat(ae[z])+" "):I;Z.push(ee)}var H=0;this._textBaseline===a.CENTER?H=(Z.length-1)*N.textLeading()/2:this._textBaseline===a.BOTTOM&&(H=(Z.length-1)*N.textLeading());for(var $=0;$<A.length;$++){ee="",ae=A[$].split(" ");for(var ne=0;ne<ae.length;ne++)I="".concat(ee+ae[ne])+" ",T<(U=this.textWidth(I))&&0<ee.length?(this._renderText(N,ee.trim(),R,P-H,V,q),ee="".concat(ae[ne])+" ",P+=N.textLeading()):ee=I;this._renderText(N,ee.trim(),R,P-H,V,q),P+=N.textLeading()}}else{for(var oe=[],le=0;le<A.length;le++)for(var Q=A[le].split(ee=""),se=0;se<Q.length;se++)I="".concat(ee+Q[se]),(U=this.textWidth(I))<=T?ee+=Q[se]:T<U&&0<ee.length&&(oe.push(ee),ee="".concat(Q[se]));oe.push(ee);var ye=0;this._textBaseline===a.CENTER?ye=(oe.length-1)*N.textLeading()/2:this._textBaseline===a.BOTTOM&&(ye=(oe.length-1)*N.textLeading());for(var me=0;me<A.length;me++){Q=A[me].split(ee="");for(var he=0;he<Q.length;he++)I="".concat(ee+Q[he]),(U=this.textWidth(I))<=T?ee+=Q[he]:T<U&&0<ee.length&&(this._renderText(N,ee.trim(),R,P-ye,V,q),P+=N.textLeading(),ee="".concat(Q[he]))}this._renderText(N,ee.trim(),R,P-ye,V,q),P+=N.textLeading()}}else{var be=0;this._textBaseline===a.CENTER?be=(A.length-1)*N.textLeading()/2:this._textBaseline===a.BOTTOM&&(be=(A.length-1)*N.textLeading());for(var Ue=0;Ue<A.length;Ue++)this._renderText(N,A[Ue],R,P-be,V,q-be),P+=N.textLeading()}return N}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return g(E)==="object"&&E.font&&E.font.supported}},{key:"_updateTextMetrics",value:function(){var E,R,P,T,D,A;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((E=document.createElement("span")).style.fontFamily=this._textFont,E.style.fontSize="".concat(this._textSize,"px"),E.innerHTML="ABCjgq|",(A=document.createElement("div")).style.display="inline-block",A.style.width="1px",A.style.height="0px",(R=document.createElement("div")).appendChild(E),R.appendChild(A),R.style.height="0px",R.style.overflow="hidden",document.body.appendChild(R),A.style.verticalAlign="baseline",T=p(A),D=p(E),P=T[1]-D[1],A.style.verticalAlign="bottom",T=p(A),D=p(E),A=T[1]-D[1]-P,document.body.removeChild(R),this._setProperty("_textAscent",P),this._setProperty("_textDescent",A)),this}}])&&b(h.prototype,v),_}(o.default.Element);function p(v){var h=0,w=0;if(v.offsetParent)for(;h+=v.offsetLeft,w+=v.offsetTop,v=v.offsetParent;);else h+=v.offsetLeft,w+=v.offsetTop;return[h,w]}d.prototype.textSize=function(v){return typeof v=="number"?(this._setProperty("_textSize",v),this._leadingSet||this._setProperty("_textLeading",v*a._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},o.default.Renderer=d,t=o.default.Renderer,S.default=t},{"../core/constants":262,"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],277:[function(t,C,S){function y(p){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.reflect.get"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.reflect.get"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var o=(d=t("./main"))&&d.__esModule?d:{default:d},a=function(p){if(p&&p.__esModule)return p;if(p===null||g(p)!=="object"&&typeof p!="function")return{default:p};var v=function(){var R;return typeof WeakMap!="function"?null:(R=new WeakMap,R)}();if(v&&v.has(p))return v.get(p);var h,w={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in p){var E;Object.prototype.hasOwnProperty.call(p,h)&&((E=_?Object.getOwnPropertyDescriptor(p,h):null)&&(E.get||E.set)?Object.defineProperty(w,h,E):w[h]=p[h])}return w.default=p,v&&v.set(p,w),w}(t("./constants"));function g(p){return(g=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(v){return y(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":y(v)})(p)}function b(p,v){for(var h=0;h<v.length;h++){var w=v[h];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}function l(p,v,h){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(w,_,E){if(w=function(R,P){for(;!Object.prototype.hasOwnProperty.call(R,P)&&(R=u(R))!==null;);return R}(w,_))return(w=Object.getOwnPropertyDescriptor(w,_)).get?w.get.call(E):w.value})(p,v,h||p)}function c(p,v){return(c=Object.setPrototypeOf||function(h,w){return h.__proto__=w,h})(p,v)}function u(p){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(p)}t("./p5.Renderer");var i="rgba(0,0,0,0)",d=function(p){var v=w;if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),p&&c(v,p);var h=function(_){return function(){var E,R=u(_);if(E=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(E=u(this).constructor,Reflect.construct(R,arguments,E)):R.apply(this,arguments),R=this,!E||g(E)!=="object"&&typeof E!="function"){if(R!==void 0)return R;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return E}}(w);function w(_,E,R){if(this instanceof w)return(_=h.call(this,_,E,R)).drawingContext=_.canvas.getContext("2d"),_._pInst._setProperty("drawingContext",_.drawingContext),_;throw new TypeError("Cannot call a class as a function")}return v=w,(p=[{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=a.BLEND,this._setFill(a._DEFAULT_FILL),this._setStroke(a._DEFAULT_STROKE),this.drawingContext.lineCap=a.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(_,E){l(u(w.prototype),"resize",this).call(this,_,E),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var _,E;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof o.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(_=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(_,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(_=this._getFill(),E=(E=this._pInst).color.apply(E,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(E.levels),E=E.toString(),this._setFill(E),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(_),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var _=(_=this._pInst).color.apply(_,arguments);this._setFill(_.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",_.levels)}},{key:"stroke",value:function(){var _=(_=this._pInst).color.apply(_,arguments);this._setStroke(_.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",_.levels)}},{key:"erase",value:function(_,E){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,_=this._pInst.color(255,_).toString(),this.drawingContext.fillStyle=_,this._cachedStrokeStyle=this.drawingContext.strokeStyle,_=this._pInst.color(255,E).toString(),this.drawingContext.strokeStyle=_,E=this._cachedBlendMode,this.blendMode(a.REMOVE),this._cachedBlendMode=E,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"image",value:function(_,E,R,P,T,D,A,I,U){_.gifProperties&&_._animateGif(this._pInst);try{o.default.MediaElement&&_ instanceof o.default.MediaElement&&_._ensureCanvas();var B=(B=this._tint&&_.canvas?this._getTintedImageCanvas(_):B)||_.canvas||_.elt,N=1;_.width&&0<_.width&&(N=B.width/_.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(B,N*E,N*R,N*P,N*T,D,A,I,U),this._isErasing&&this._pInst.erase()}catch(O){if(O.name!=="NS_ERROR_NOT_AVAILABLE")throw O}}},{key:"_getTintedImageCanvas",value:function(_){if(!_.canvas)return _;_.tintCanvas||(_.tintCanvas=document.createElement("canvas")),_.tintCanvas.width!==_.canvas.width&&(_.tintCanvas.width=_.canvas.width),_.tintCanvas.height!==_.canvas.height&&(_.tintCanvas.height=_.canvas.height);var E=_.tintCanvas.getContext("2d");return E.save(),E.clearRect(0,0,_.canvas.width,_.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(E.drawImage(_.canvas,0,0),E.globalCompositeOperation="luminosity",E.drawImage(_.canvas,0,0),E.globalCompositeOperation="color",E.drawImage(_.canvas,0,0),E.globalCompositeOperation="multiply",E.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),E.fillRect(0,0,_.canvas.width,_.canvas.height),E.globalCompositeOperation="destination-in"),E.globalAlpha=this._tint[3]/255,E.drawImage(_.canvas,0,0),E.restore(),_.tintCanvas}},{key:"blendMode",value:function(_){if(_===a.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(_!==a.BLEND&&_!==a.REMOVE&&_!==a.DARKEST&&_!==a.LIGHTEST&&_!==a.DIFFERENCE&&_!==a.MULTIPLY&&_!==a.EXCLUSION&&_!==a.SCREEN&&_!==a.REPLACE&&_!==a.OVERLAY&&_!==a.HARD_LIGHT&&_!==a.SOFT_LIGHT&&_!==a.DODGE&&_!==a.BURN&&_!==a.ADD)throw new Error("Mode ".concat(_," not recognized."));this._cachedBlendMode=_,this.drawingContext.globalCompositeOperation=_}}},{key:"blend",value:function(){for(var _=this.drawingContext.globalCompositeOperation,E=arguments.length,R=new Array(E),P=0;P<E;P++)R[P]=arguments[P];var T=R[R.length-1],D=Array.prototype.slice.call(R,0,R.length-1);this.drawingContext.globalCompositeOperation=T,o.default.prototype.copy.apply(this,D),this.drawingContext.globalCompositeOperation=_}},{key:"_getPixel",value:function(_,E){return[(_=this.drawingContext.getImageData(_,E,1,1).data)[0],_[1],_[2],_[3]]}},{key:"loadPixels",value:function(){var _=this._pixelsState,E=_._pixelDensity,R=this.width*E;E=this.height*E,R=this.drawingContext.getImageData(0,0,R,E),_._setProperty("imageData",R),_._setProperty("pixels",R.data)}},{key:"set",value:function(_,E,R){_=Math.floor(_),E=Math.floor(E);var P=this._pixelsState;if(R instanceof o.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(P._pixelDensity,P._pixelDensity),this.drawingContext.clearRect(_,E,R.width,R.height),this.drawingContext.drawImage(R.canvas,_,E),this.drawingContext.restore();else{var T=0,D=0,A=0,I=0,U=4*(E*P._pixelDensity*(this.width*P._pixelDensity)+_*P._pixelDensity);if(P.imageData||P.loadPixels.call(P),typeof R=="number")U<P.pixels.length&&(A=D=T=R,I=255);else if(R instanceof Array){if(R.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");U<P.pixels.length&&(T=R[0],D=R[1],A=R[2],I=R[3])}else R instanceof o.default.Color&&U<P.pixels.length&&(T=R.levels[0],D=R.levels[1],A=R.levels[2],I=R.levels[3]);for(var B=0;B<P._pixelDensity;B++)for(var N=0;N<P._pixelDensity;N++)U=4*((E*P._pixelDensity+N)*this.width*P._pixelDensity+(_*P._pixelDensity+B)),P.pixels[U]=T,P.pixels[U+1]=D,P.pixels[U+2]=A,P.pixels[U+3]=I}}},{key:"updatePixels",value:function(_,E,R,P){var T=this._pixelsState,D=T._pixelDensity;_===void 0&&E===void 0&&R===void 0&&P===void 0&&(E=_=0,R=this.width,P=this.height),_*=D,E*=D,R*=D,P*=D,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=T.imageData),this.drawingContext.putImageData(T.imageData,_,E,0,0,R,P)}},{key:"_acuteArcToBezier",value:function(_,E){var R=E/2,P=Math.cos(R),T=Math.sin(R),D=1/Math.tan(R),A=(R=_+R,Math.cos(R)),I=(R=Math.sin(R),(4-P)/3);return T+=(P-I)*D,{ax:Math.cos(_).toFixed(7),ay:Math.sin(_).toFixed(7),bx:(I*A+T*R).toFixed(7),by:(I*R-T*A).toFixed(7),cx:(I*A-T*R).toFixed(7),cy:(I*R+T*A).toFixed(7),dx:Math.cos(_+E).toFixed(7),dy:Math.sin(_+E).toFixed(7)}}},{key:"arc",value:function(_,E,R,P,T,D,A){var I,U=this.drawingContext,B=R/2,N=P/2,O=[];for(_+=B,E+=N;1e-5<=D-T;)I=Math.min(D-T,a.HALF_PI),O.push(this._acuteArcToBezier(T,I)),T+=I;return this._doFill&&(U.beginPath(),O.forEach(function(V,q){q===0&&U.moveTo(_+V.ax*B,E+V.ay*N),U.bezierCurveTo(_+V.bx*B,E+V.by*N,_+V.cx*B,E+V.cy*N,_+V.dx*B,E+V.dy*N)}),A!==a.PIE&&A!=null||U.lineTo(_,E),U.closePath(),U.fill()),this._doStroke&&(U.beginPath(),O.forEach(function(V,q){q===0&&U.moveTo(_+V.ax*B,E+V.ay*N),U.bezierCurveTo(_+V.bx*B,E+V.by*N,_+V.cx*B,E+V.cy*N,_+V.dx*B,E+V.dy*N)}),A===a.PIE?(U.lineTo(_,E),U.closePath()):A===a.CHORD&&U.closePath(),U.stroke()),this}},{key:"ellipse",value:function(_){var E=this.drawingContext,R=this._doFill,P=this._doStroke,T=parseFloat(_[0]),D=parseFloat(_[1]),A=parseFloat(_[2]);if(_=parseFloat(_[3]),R&&!P){if(this._getFill()===i)return this}else if(!R&&P&&this._getStroke()===i)return this;var I=A/2*.5522847498,U=_/2*.5522847498,B=T+A,N=D+_;A=T+A/2,_=D+_/2,E.beginPath(),E.moveTo(T,_),E.bezierCurveTo(T,_-U,A-I,D,A,D),E.bezierCurveTo(A+I,D,B,_-U,B,_),E.bezierCurveTo(B,_+U,A+I,N,A,N),E.bezierCurveTo(A-I,N,T,_+U,T,_),R&&E.fill(),P&&E.stroke()}},{key:"line",value:function(_,E,R,P){var T=this.drawingContext;return this._doStroke&&this._getStroke()!==i&&(T.beginPath(),T.moveTo(_,E),T.lineTo(R,P),T.stroke()),this}},{key:"point",value:function(_,E){var R,P,T=this.drawingContext;return this._doStroke&&this._getStroke()!==i?(R=this._getStroke(),P=this._getFill(),this._setFill(R),T.beginPath(),T.arc(_,E,T.lineWidth/2,0,a.TWO_PI,!1),T.fill(),void this._setFill(P)):this}},{key:"quad",value:function(_,E,R,P,T,D,A,I){var U=this.drawingContext,B=this._doFill,N=this._doStroke;if(B&&!N){if(this._getFill()===i)return this}else if(!B&&N&&this._getStroke()===i)return this;return U.beginPath(),U.moveTo(_,E),U.lineTo(R,P),U.lineTo(T,D),U.lineTo(A,I),U.closePath(),B&&U.fill(),N&&U.stroke(),this}},{key:"rect",value:function(_){var E,R,P=_[0],T=_[1],D=_[2],A=_[3],I=_[4],U=_[5],B=_[6],N=(_=_[7],this.drawingContext),O=this._doFill,V=this._doStroke;if(O&&!V){if(this._getFill()===i)return this}else if(!O&&V&&this._getStroke()===i)return this;return N.beginPath(),I===void 0?N.rect(P,T,D,A):(U===void 0&&(U=I),B===void 0&&(B=U),_===void 0&&(_=B),V=(O=Math.abs(D))/2,R=(E=Math.abs(A))/2,E<2*(I=O<2*I?V:I)&&(I=R),E<2*(U=O<2*U?V:U)&&(U=R),E<2*(B=O<2*B?V:B)&&(B=R),E<2*(_=O<2*_?V:_)&&(_=R),N.beginPath(),N.moveTo(P+I,T),N.arcTo(P+D,T,P+D,T+A,U),N.arcTo(P+D,T+A,P,T+A,B),N.arcTo(P,T+A,P,T,_),N.arcTo(P,T,P+D,T,I),N.closePath()),this._doFill&&N.fill(),this._doStroke&&N.stroke(),this}},{key:"triangle",value:function(_){var E=this.drawingContext,R=this._doFill,P=this._doStroke,T=_[0],D=_[1],A=_[2],I=_[3],U=_[4];if(_=_[5],R&&!P){if(this._getFill()===i)return this}else if(!R&&P&&this._getStroke()===i)return this;E.beginPath(),E.moveTo(T,D),E.lineTo(A,I),E.lineTo(U,_),E.closePath(),R&&E.fill(),P&&E.stroke()}},{key:"endShape",value:function(_,E,R,P,T,D,A){if(E.length!==0&&(this._doStroke||this._doFill)){var I,U,B,N=_===a.CLOSE,O=(N&&!D&&E.push(E[0]),E.length);if(!R||A!==a.POLYGON&&A!==null)if(!P||A!==a.POLYGON&&A!==null)if(!T||A!==a.POLYGON&&A!==null)if(A===a.POINTS)for(U=0;U<O;U++)I=E[U],this._doStroke&&this._pInst.stroke(I[6]),this._pInst.point(I[0],I[1]);else if(A===a.LINES)for(U=0;U+1<O;U+=2)I=E[U],this._doStroke&&this._pInst.stroke(E[U+1][6]),this._pInst.line(I[0],I[1],E[U+1][0],E[U+1][1]);else if(A===a.TRIANGLES)for(U=0;U+2<O;U+=3)I=E[U],this.drawingContext.beginPath(),this.drawingContext.moveTo(I[0],I[1]),this.drawingContext.lineTo(E[U+1][0],E[U+1][1]),this.drawingContext.lineTo(E[U+2][0],E[U+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(E[U+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(E[U+2][6]),this.drawingContext.stroke());else if(A===a.TRIANGLE_STRIP)for(U=0;U+1<O;U++)I=E[U],this.drawingContext.beginPath(),this.drawingContext.moveTo(E[U+1][0],E[U+1][1]),this.drawingContext.lineTo(I[0],I[1]),this._doStroke&&this._pInst.stroke(E[U+1][6]),this._doFill&&this._pInst.fill(E[U+1][5]),U+2<O&&(this.drawingContext.lineTo(E[U+2][0],E[U+2][1]),this._doStroke&&this._pInst.stroke(E[U+2][6]),this._doFill&&this._pInst.fill(E[U+2][5])),this._doFillStrokeClose(N);else if(A===a.TRIANGLE_FAN){if(2<O){for(this.drawingContext.beginPath(),U=2;U<O;U++)I=E[U],this.drawingContext.moveTo(E[0][0],E[0][1]),this.drawingContext.lineTo(E[U-1][0],E[U-1][1]),this.drawingContext.lineTo(I[0],I[1]),this.drawingContext.lineTo(E[0][0],E[0][1]),U<O-1&&(this._doFill&&I[5]!==E[U+1][5]||this._doStroke&&I[6]!==E[U+1][6])&&(this._doFill&&(this._pInst.fill(I[5]),this.drawingContext.fill(),this._pInst.fill(E[U+1][5])),this._doStroke&&(this._pInst.stroke(I[6]),this.drawingContext.stroke(),this._pInst.stroke(E[U+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(N)}}else if(A===a.QUADS)for(U=0;U+3<O;U+=4){for(I=E[U],this.drawingContext.beginPath(),this.drawingContext.moveTo(I[0],I[1]),B=1;B<4;B++)this.drawingContext.lineTo(E[U+B][0],E[U+B][1]);this.drawingContext.lineTo(I[0],I[1]),this._doFill&&this._pInst.fill(E[U+3][5]),this._doStroke&&this._pInst.stroke(E[U+3][6]),this._doFillStrokeClose(N)}else if(A===a.QUAD_STRIP){if(3<O)for(U=0;U+1<O;U+=2)I=E[U],this.drawingContext.beginPath(),U+3<O?(this.drawingContext.moveTo(E[U+2][0],E[U+2][1]),this.drawingContext.lineTo(I[0],I[1]),this.drawingContext.lineTo(E[U+1][0],E[U+1][1]),this.drawingContext.lineTo(E[U+3][0],E[U+3][1]),this._doFill&&this._pInst.fill(E[U+3][5]),this._doStroke&&this._pInst.stroke(E[U+3][6])):(this.drawingContext.moveTo(I[0],I[1]),this.drawingContext.lineTo(E[U+1][0],E[U+1][1])),this._doFillStrokeClose(N)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(E[0][0],E[0][1]),U=1;U<O;U++)(I=E[U]).isVert&&(I.moveTo?this.drawingContext.moveTo(I[0],I[1]):this.drawingContext.lineTo(I[0],I[1]));this._doFillStrokeClose(N)}else{for(this.drawingContext.beginPath(),U=0;U<O;U++)E[U].isVert?E[U].moveTo?this.drawingContext.moveTo(E[U][0],E[U][1]):this.drawingContext.lineTo(E[U][0],E[U][1]):this.drawingContext.quadraticCurveTo(E[U][0],E[U][1],E[U][2],E[U][3]);this._doFillStrokeClose(N)}else{for(this.drawingContext.beginPath(),U=0;U<O;U++)E[U].isVert?E[U].moveTo?this.drawingContext.moveTo(E[U][0],E[U][1]):this.drawingContext.lineTo(E[U][0],E[U][1]):this.drawingContext.bezierCurveTo(E[U][0],E[U][1],E[U][2],E[U][3],E[U][4],E[U][5]);this._doFillStrokeClose(N)}else if(3<O){var V=[],q=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(E[1][0],E[1][1]),U=1;U+2<O;U++)I=E[U],V[0]=[I[0],I[1]],V[1]=[I[0]+(q*E[U+1][0]-q*E[U-1][0])/6,I[1]+(q*E[U+1][1]-q*E[U-1][1])/6],V[2]=[E[U+1][0]+(q*E[U][0]-q*E[U+2][0])/6,E[U+1][1]+(q*E[U][1]-q*E[U+2][1])/6],V[3]=[E[U+1][0],E[U+1][1]],this.drawingContext.bezierCurveTo(V[1][0],V[1][1],V[2][0],V[2][1],V[3][0],V[3][1]);N&&this.drawingContext.lineTo(E[U+1][0],E[U+1][1]),this._doFillStrokeClose(N)}D=T=P=R=!1,N&&E.pop()}return this}},{key:"strokeCap",value:function(_){return _!==a.ROUND&&_!==a.SQUARE&&_!==a.PROJECT||(this.drawingContext.lineCap=_),this}},{key:"strokeJoin",value:function(_){return _!==a.ROUND&&_!==a.BEVEL&&_!==a.MITER||(this.drawingContext.lineJoin=_),this}},{key:"strokeWeight",value:function(_){return this.drawingContext.lineWidth=_===void 0||_===0?1e-4:_,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(_){_!==this._cachedFillStyle&&(this.drawingContext.fillStyle=_,this._cachedFillStyle=_)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(_){_!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=_,this._cachedStrokeStyle=_)}},{key:"bezier",value:function(_,E,R,P,T,D,A,I){return this._pInst.beginShape(),this._pInst.vertex(_,E),this._pInst.bezierVertex(R,P,T,D,A,I),this._pInst.endShape(),this}},{key:"curve",value:function(_,E,R,P,T,D,A,I){return this._pInst.beginShape(),this._pInst.curveVertex(_,E),this._pInst.curveVertex(R,P),this._pInst.curveVertex(T,D),this._pInst.curveVertex(A,I),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(_){_&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(_,E,R,P,T,D){this.drawingContext.transform(_,E,R,P,T,D)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(_){this.drawingContext.rotate(_)}},{key:"scale",value:function(_,E){return this.drawingContext.scale(_,E),this}},{key:"translate",value:function(_,E){return _ instanceof o.default.Vector&&(E=_.y,_=_.x),this.drawingContext.translate(_,E),this}},{key:"_renderText",value:function(_,E,R,P,T,D){if(!(P<D||T<=P))return _.push(),this._isOpenType()?this._textFont._renderPath(E,R,P,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(E,R,P),this._doFill&&(this._fillSet||this._setFill(a._DEFAULT_TEXT_FILL),this.drawingContext.fillText(E,R,P))),_.pop(),_}},{key:"textWidth",value:function(_){return this._isOpenType()?this._textFont._textWidth(_,this._textSize):this.drawingContext.measureText(_).width}},{key:"_applyTextProperties",value:function(){var _,E=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),_=this._textFont,this._isOpenType()&&(_=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(_||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===a.CENTER?this.drawingContext.textBaseline=a._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,E}},{key:"push",value:function(){return this.drawingContext.save(),l(u(w.prototype),"push",this).call(this)}},{key:"pop",value:function(_){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,l(u(w.prototype),"pop",this).call(this,_)}}])&&b(v.prototype,p),w}(o.default.Renderer);d.prototype.text=function(p,v,h,w,_){w!==void 0&&this.drawingContext.textBaseline===a.BASELINE&&(E=!0,this.drawingContext.textBaseline=a.TOP);var E;return w=o.default.Renderer.prototype.text.apply(this,arguments),E&&(this.drawingContext.textBaseline=a.BASELINE),w},o.default.Renderer2D=d,t=o.default.Renderer2D,S.default=t},{"./constants":262,"./main":273,"./p5.Renderer":276,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],278:[function(t,C,S){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var y=(t=t("./main"))&&t.__esModule?t:{default:t};function o(){return{}}y.default.prototype._promisePreloads=[];var a=!(y.default.prototype.registerPromisePreload=function(g){y.default.prototype._promisePreloads.push(g)});y.default.prototype._setupPromisePreloads=function(){var g=!0,b=!1,l=void 0;try{for(var c,u=this._promisePreloads[Symbol.iterator]();!(g=(c=u.next()).done);g=!0){var i=c.value,d=this,p=i.method,v=i.addCallbacks,h=i.legacyPreloadSetup,w=i.target||this,_=w[p].bind(w);if(w===y.default.prototype){if(a)continue;d=null,_=w[p]}w[p]=this._wrapPromisePreload(d,_,v),h&&(w[h.method]=this._legacyPreloadGenerator(d,h,w[p]))}}catch(E){b=!0,l=E}finally{try{g||u.return==null||u.return()}finally{if(b)throw l}}a=!0},y.default.prototype._wrapPromisePreload=function(g,b,l){var c=function(){for(var u=this,i=(this._incrementPreload(),null),d=null,p=arguments.length,v=new Array(p),h=0;h<p;h++)v[h]=arguments[h];if(l)for(var w=v.length-1;0<=w&&!d&&typeof v[w]=="function";w--)d=i,i=v.pop();var _=Promise.resolve(b.apply(this,v));return i&&_.then(i),d&&_.catch(d),_.then(function(){return u._decrementPreload()}),_};return g?c.bind(g):c},y.default.prototype._legacyPreloadGenerator=function(g,b,l){var c=b.createBaseObject||o;return b=function(){var u=this;this._incrementPreload();for(var i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];var v=c.apply(this,d);return l.apply(this,d).then(function(h){Object.assign(v,h),u._decrementPreload()}),v},g?b.bind(g):b}},{"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],279:[function(t,C,S){function y(c){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var o=(l=t("./main"))&&l.__esModule?l:{default:l},a=function(c){if(c&&c.__esModule)return c;if(c===null||g(c)!=="object"&&typeof c!="function")return{default:c};var u=function(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,h)}();if(u&&u.has(c))return u.get(c);var i,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in c){var v;Object.prototype.hasOwnProperty.call(c,i)&&((v=p?Object.getOwnPropertyDescriptor(c,i):null)&&(v.get||v.set)?Object.defineProperty(d,i,v):d[i]=c[i])}return d.default=c,u&&u.set(c,d),d}(t("./constants"));function g(c){return(g=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(u){return y(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(c)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var b="defaultCanvas0",l=(o.default.prototype.createCanvas=function(c,u,i,d){var p,v,h;if(o.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(i=a.P2D,d=arguments[2]):p=i||a.P2D,d)(h=document.getElementById(b))&&h.parentNode.removeChild(h),h=d,this._defaultGraphicsCreated=!1;else{if(p===a.WEBGL)(h=document.getElementById(b))&&(h.parentNode.removeChild(h),v=this._renderer,this._elements=this._elements.filter(function(_){return _!==v})),(h=document.createElement("canvas")).id=b,h.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)h=this.canvas;else{h=d||document.createElement("canvas");for(var w=0;document.getElementById("defaultCanvas".concat(w));)w++;b="defaultCanvas".concat(w),h.id=b,h.classList.add("p5Canvas")}this._setupDone||(h.dataset.hidden=!0,h.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(i=document.createElement("main"),document.body.appendChild(i)),document.getElementsByTagName("main")[0])).appendChild(h)}return p===a.WEBGL?(this._setProperty("_renderer",new o.default.RendererGL(h,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new o.default.Renderer2D(h,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(c,u),this._renderer._applyDefaults(),this._renderer},o.default.prototype.resizeCanvas=function(c,u,i){if(o.default._validateParameters("resizeCanvas",arguments),this._renderer){var d,p,v={};for(d in this.drawingContext){var h=this.drawingContext[d];g(h)!=="object"&&typeof h!="function"&&(v[d]=h)}for(p in this.width=c,this.height=u,this._renderer.resize(c,u),v)try{this.drawingContext[p]=v[p]}catch{}i||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},o.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},o.default.prototype.createGraphics=function(c,u,i,d){return arguments[2]instanceof HTMLCanvasElement&&(i=a.P2D,d=arguments[2]),o.default._validateParameters("createGraphics",arguments),new o.default.Graphics(c,u,i,this,d)},o.default.prototype.createFramebuffer=function(c){return new o.default.Framebuffer(this,c)},o.default.prototype.blendMode=function(c){o.default._validateParameters("blendMode",arguments),c===a.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),c=a.BLEND),this._renderer.blendMode(c)},o.default);S.default=l},{"../webgl/p5.RendererGL":328,"./constants":262,"./main":273,"./p5.Graphics":275,"./p5.Renderer2D":277,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],280:[function(t,C,S){function y(u){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}function o(u){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(i){return y(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":y(i)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=l(t("../main")),g=function(u){if(u&&u.__esModule)return u;if(u===null||o(u)!=="object"&&typeof u!="function")return{default:u};var i=function(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,w)}();if(i&&i.has(u))return i.get(u);var d,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in u){var h;Object.prototype.hasOwnProperty.call(u,d)&&((h=v?Object.getOwnPropertyDescriptor(u,d):null)&&(h.get||h.set)?Object.defineProperty(p,d,h):p[d]=u[d])}return p.default=u,i&&i.set(u,p),p}(t("../constants")),b=l(t("../helpers"));function l(u){return u&&u.__esModule?u:{default:u}}function c(u){return function(i){if(Array.isArray(i)){for(var d=0,p=new Array(i.length);d<i.length;d++)p[d]=i[d];return p}}(u)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),a.default.prototype._normalizeArcAngles=function(u,i,d,p,v){var h;return u-=g.TWO_PI*Math.floor(u/g.TWO_PI),i-=g.TWO_PI*Math.floor(i/g.TWO_PI),h=Math.min(Math.abs(u-i),g.TWO_PI-Math.abs(u-i)),v&&(u=u<=g.HALF_PI?Math.atan(d/p*Math.tan(u)):u>g.HALF_PI&&u<=3*g.HALF_PI?Math.atan(d/p*Math.tan(u))+g.PI:Math.atan(d/p*Math.tan(u))+g.TWO_PI,i=i<=g.HALF_PI?Math.atan(d/p*Math.tan(i)):i>g.HALF_PI&&i<=3*g.HALF_PI?Math.atan(d/p*Math.tan(i))+g.PI:Math.atan(d/p*Math.tan(i))+g.TWO_PI),i<u&&(i+=g.TWO_PI),{start:u,stop:i,correspondToSamePoint:h<1e-5}},a.default.prototype.arc=function(u,i,d,p,v,h,w,_){return a.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&v!==h&&(v=this._toRadians(v),h=this._toRadians(h),d=Math.abs(d),p=Math.abs(p),u=b.default.modeAdjust(u,i,d,p,this._renderer._ellipseMode),(i=this._normalizeArcAngles(v,h,u.w,u.h,!0)).correspondToSamePoint?this._renderer.ellipse([u.x,u.y,u.w,u.h,_]):(this._renderer.arc(u.x,u.y,u.w,u.h,i.start,i.stop,w,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[u.x,u.y,u.w,u.h,i.start,i.stop,w]))),this},a.default.prototype.ellipse=function(u,i,d,p,v){return a.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},a.default.prototype.circle=function(){a.default._validateParameters("circle",arguments);var u=Array.prototype.slice.call(arguments,0,2);return u.push(arguments[2]),u.push(arguments[2]),this._renderEllipse.apply(this,c(u))},a.default.prototype._renderEllipse=function(u,i,d,p,v){return(this._renderer._doStroke||this._renderer._doFill)&&(d<0&&(d=Math.abs(d)),p===void 0?p=d:p<0&&(p=Math.abs(p)),u=b.default.modeAdjust(u,i,d,p,this._renderer._ellipseMode),this._renderer.ellipse([u.x,u.y,u.w,u.h,v]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[u.x,u.y,u.w,u.h])),this},a.default.prototype.line=function(){for(var u,i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];return a.default._validateParameters("line",d),this._renderer._doStroke&&(u=this._renderer).line.apply(u,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",d),this},a.default.prototype.point=function(){for(var u,i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];return a.default._validateParameters("point",d),this._renderer._doStroke&&(d.length===1&&d[0]instanceof a.default.Vector?this._renderer.point.call(this._renderer,d[0].x,d[0].y,d[0].z):((u=this._renderer).point.apply(u,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",d))),this},a.default.prototype.quad=function(){for(var u,i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];return a.default._validateParameters("quad",d),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&d.length<12?this._renderer.quad.call(this._renderer,d[0],d[1],0,d[2],d[3],0,d[4],d[5],0,d[6],d[7],0,d[8],d[9]):((u=this._renderer).quad.apply(u,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",d))),this},a.default.prototype.rect=function(){for(var u=arguments.length,i=new Array(u),d=0;d<u;d++)i[d]=arguments[d];return a.default._validateParameters("rect",i),this._renderRect.apply(this,i)},a.default.prototype.square=function(u,i,d,p,v,h,w){return a.default._validateParameters("square",arguments),this._renderRect.call(this,u,i,d,d,p,v,h,w)},a.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var u=b.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),i=[u.x,u.y,u.w,u.h],d=4;d<arguments.length;d++)i[d]=arguments[d];this._renderer.rect(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[u.x,u.y,u.w,u.h])}return this},a.default.prototype.triangle=function(){for(var u=arguments.length,i=new Array(u),d=0;d<u;d++)i[d]=arguments[d];return a.default._validateParameters("triangle",i),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",i),this},t=a.default,S.default=t},{"../constants":262,"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../helpers":269,"../main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],281:[function(t,C,S){function y(l){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function o(l){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(c){return y(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":y(c)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(b=t("../main"))&&b.__esModule?b:{default:b},g=function(l){if(l&&l.__esModule)return l;if(l===null||o(l)!=="object"&&typeof l!="function")return{default:l};var c=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(c&&c.has(l))return c.get(l);var u,i={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var p;Object.prototype.hasOwnProperty.call(l,u)&&((p=d?Object.getOwnPropertyDescriptor(l,u):null)&&(p.get||p.set)?Object.defineProperty(i,u,p):i[u]=l[u])}return i.default=l,c&&c.set(l,i),i}(t("../constants"));a.default.prototype.ellipseMode=function(l){return a.default._validateParameters("ellipseMode",arguments),l!==g.CORNER&&l!==g.CORNERS&&l!==g.RADIUS&&l!==g.CENTER||(this._renderer._ellipseMode=l),this},a.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},a.default.prototype.rectMode=function(l){return a.default._validateParameters("rectMode",arguments),l!==g.CORNER&&l!==g.CORNERS&&l!==g.RADIUS&&l!==g.CENTER||(this._renderer._rectMode=l),this},a.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},a.default.prototype.strokeCap=function(l){return a.default._validateParameters("strokeCap",arguments),l!==g.ROUND&&l!==g.SQUARE&&l!==g.PROJECT||this._renderer.strokeCap(l),this},a.default.prototype.strokeJoin=function(l){return a.default._validateParameters("strokeJoin",arguments),l!==g.ROUND&&l!==g.BEVEL&&l!==g.MITER||this._renderer.strokeJoin(l),this},a.default.prototype.strokeWeight=function(l){return a.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(l),this};var b=a.default;S.default=b},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],282:[function(t,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(o=t("../main"))&&o.__esModule?o:{default:o};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),y.default.prototype.bezier=function(){for(var a,g=arguments.length,b=new Array(g),l=0;l<g;l++)b[l]=arguments[l];return y.default._validateParameters("bezier",b),(this._renderer._doStroke||this._renderer._doFill)&&(a=this._renderer).bezier.apply(a,b),this},y.default.prototype.bezierDetail=function(a){return y.default._validateParameters("bezierDetail",arguments),this._bezierDetail=a,this},y.default.prototype.bezierPoint=function(a,g,b,l,c){y.default._validateParameters("bezierPoint",arguments);var u=1-c;return Math.pow(u,3)*a+3*Math.pow(u,2)*c*g+3*u*Math.pow(c,2)*b+Math.pow(c,3)*l},y.default.prototype.bezierTangent=function(a,g,b,l,c){y.default._validateParameters("bezierTangent",arguments);var u=1-c;return 3*l*Math.pow(c,2)-3*b*Math.pow(c,2)+6*b*u*c-6*g*u*c+3*g*Math.pow(u,2)-3*a*Math.pow(u,2)},y.default.prototype.curve=function(){for(var a,g=arguments.length,b=new Array(g),l=0;l<g;l++)b[l]=arguments[l];return y.default._validateParameters("curve",b),this._renderer._doStroke&&(a=this._renderer).curve.apply(a,b),this},y.default.prototype.curveDetail=function(a){return y.default._validateParameters("curveDetail",arguments),this._curveDetail=a<3?3:a,this},y.default.prototype.curveTightness=function(a){return y.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=a,this},y.default.prototype.curvePoint=function(a,g,b,l,c){y.default._validateParameters("curvePoint",arguments);var u=this._renderer._curveTightness,i=c*c*c,d=c*c;return a*((u-1)/2*i+(1-u)*d+(u-1)/2*c)+g*((u+3)/2*i+(-5-u)/2*d+1)+b*((-3-u)/2*i+(u+2)*d+(1-u)/2*c)+l*((1-u)/2*i+(u-1)/2*d)},y.default.prototype.curveTangent=function(a,g,b,l,c){y.default._validateParameters("curveTangent",arguments);var u=this._renderer._curveTightness,i=c*c*3;return a*((u-1)/2*i+(1-u)*(c=2*c)+(u-1)/2)+g*((u+3)/2*i+(-5-u)/2*c)+b*((-3-u)/2*i+(u+2)*c+(1-u)/2)+l*((1-u)/2*i+(u-1)/2*c)};var o=y.default;S.default=o},{"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../main":273}],283:[function(t,C,S){function y(w){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(w)}function o(w){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(_){return y(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":y(_)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(h=t("../main"))&&h.__esModule?h:{default:h},g=function(w){if(w&&w.__esModule)return w;if(w===null||o(w)!=="object"&&typeof w!="function")return{default:w};var _=function(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,D)}();if(_&&_.has(w))return _.get(w);var E,R={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in w){var T;Object.prototype.hasOwnProperty.call(w,E)&&((T=P?Object.getOwnPropertyDescriptor(w,E):null)&&(T.get||T.set)?Object.defineProperty(R,E,T):R[E]=w[E])}return R.default=w,_&&_.set(w,R),R}(t("../constants")),b=null,l=[],c=[],u=!1,i=!1,d=!1,p=!1,v=!0,h=(a.default.prototype.beginContour=function(){return c=[],p=!0,this},a.default.prototype.beginShape=function(w){var _;return a.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(_=this._renderer).beginShape.apply(_,arguments):(b=w===g.POINTS||w===g.LINES||w===g.TRIANGLES||w===g.TRIANGLE_FAN||w===g.TRIANGLE_STRIP||w===g.QUADS||w===g.QUAD_STRIP?w:null,l=[],c=[]),this},a.default.prototype.bezierVertex=function(){for(var w,_=arguments.length,E=new Array(_),R=0;R<_;R++)E[R]=arguments[R];if(a.default._validateParameters("bezierVertex",E),this._renderer.isP3D)(w=this._renderer).bezierVertex.apply(w,E);else if(l.length===0)a.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{u=!0;for(var P=[],T=0;T<E.length;T++)P[T]=E[T];P.isVert=!1,(p?c:l).push(P)}return this},a.default.prototype.curveVertex=function(){for(var w,_=arguments.length,E=new Array(_),R=0;R<_;R++)E[R]=arguments[R];return a.default._validateParameters("curveVertex",E),this._renderer.isP3D?(w=this._renderer).curveVertex.apply(w,E):(i=!0,this.vertex(E[0],E[1])),this},a.default.prototype.endContour=function(){var w=c[0].slice();w.isVert=c[0].isVert,w.moveTo=!1,c.push(w),v&&(l.push(l[0]),v=!1);for(var _=0;_<c.length;_++)l.push(c[_]);return this},a.default.prototype.endShape=function(w){if(a.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(w,i,u,d,p,b);else{if(l.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var _=w===g.CLOSE;_&&!p&&l.push(l[0]),this._renderer.endShape(w,l,i,u,d,p,b),v=!(p=d=u=i=!1),_&&l.pop()}return this},a.default.prototype.quadraticVertex=function(){for(var w,_=arguments.length,E=new Array(_),R=0;R<_;R++)E[R]=arguments[R];if(a.default._validateParameters("quadraticVertex",E),this._renderer.isP3D)(w=this._renderer).quadraticVertex.apply(w,E);else{if(this._contourInited)return(w={}).x=E[0],w.y=E[1],w.x3=E[2],w.y3=E[3],w.type=g.QUADRATIC,this._contourVertices.push(w),this;if(0<l.length){d=!0;for(var P=[],T=0;T<E.length;T++)P[T]=E[T];P.isVert=!1,(p?c:l).push(P)}else a.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},a.default.prototype.vertex=function(w,_,E,R,P){var T;return this._renderer.isP3D?(T=this._renderer).vertex.apply(T,arguments):((T=[]).isVert=!0,T[0]=w,T[1]=_,T[2]=0,T[3]=0,T[4]=0,T[5]=this._renderer._getFill(),T[6]=this._renderer._getStroke(),E&&(T.moveTo=E),(p?(c.length===0&&(T.moveTo=!0),c):l).push(T)),this},a.default.prototype.normal=function(w,_,E){var R;return this._assert3d("normal"),a.default._validateParameters("normal",arguments),(R=this._renderer).normal.apply(R,arguments),this},a.default);S.default=h},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],284:[function(t,C,S){function y(c){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}function o(c){return function(u){if(Array.isArray(u)){for(var i=0,d=new Array(u.length);i<u.length;i++)d[i]=u[i];return d}}(c)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(c){return(a=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(u){return y(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(c)}var g,b,l;t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c,u){window.setTimeout(c,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(g=Object.keys,t=Object.defineProperty,b=typeof Symbol=="function"&&a(Symbol())==="symbol",l=Object.prototype.propertyIsEnumerable,t(Object,"assign",{value:function(c,u){if(c==null)throw new TypeError("target must be an object");for(var i,d=Object(c),p=1;p<arguments.length;++p){var v=Object(arguments[p]),h=g(v);for(b&&Object.getOwnPropertySymbols&&h.push.apply(h,o(Object.getOwnPropertySymbols(v).filter(function(w){return function(_){return l.call(w,_)}}(v)))),i=0;i<h.length;++i)d[h[i]]=v[h[i]]}return d},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/web.dom-collections.iterator":236}],285:[function(t,C,S){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(t=(t=t("./main"))&&t.__esModule?t:{default:t}).default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var y=this._styles.pop();y?(this._renderer.pop(y.renderer),Object.assign(this,y.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(y){if(!this._inUserDraw&&this._setupDone){var o=parseInt(y),a=((isNaN(o)||o<1)&&(o=1),this._isGlobal?window:this);if(typeof a.draw=="function"){a.setup===void 0&&a.scale(a._pixelDensity,a._pixelDensity);for(var g=function(l){l.call(a)},b=0;b<o;b++){a.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),a._renderer.isP3D&&a._renderer._update(),a._setProperty("frameCount",a.frameCount+1),a._registeredMethods.pre.forEach(g),this._inUserDraw=!0;try{a.draw()}finally{this._inUserDraw=!1}a._registeredMethods.post.forEach(g)}}}},t=t.default,S.default=t},{"./main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.object.assign":174,"core-js/modules/web.dom-collections.for-each":235}],286:[function(t,C,S){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("./main"))&&t.__esModule?t:{default:t};function o(a){return function(g){if(Array.isArray(g)){for(var b=0,l=new Array(g.length);b<g.length;b++)l[b]=g[b];return l}}(a)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}y.default.prototype.applyMatrix=function(){var a=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||a?(a=this._renderer).applyMatrix.apply(a,o(arguments.length<=0?void 0:arguments[0])):(a=this._renderer).applyMatrix.apply(a,arguments),this},y.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},y.default.prototype.rotate=function(a,g){return y.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(a),g),this},y.default.prototype.rotateX=function(a){return this._assert3d("rotateX"),y.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(a)),this},y.default.prototype.rotateY=function(a){return this._assert3d("rotateY"),y.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(a)),this},y.default.prototype.rotateZ=function(a){return this._assert3d("rotateZ"),y.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(a)),this},y.default.prototype.scale=function(a,g,b){var l;return y.default._validateParameters("scale",arguments),a instanceof y.default.Vector?(a=(l=a).x,g=l.y,b=l.z):a instanceof Array&&(a=(l=a)[0],g=l[1],b=l[2]||1),isNaN(g)?g=b=a:isNaN(b)&&(b=1),this._renderer.scale.call(this._renderer,a,g,b),this},y.default.prototype.shearX=function(a){return y.default._validateParameters("shearX",arguments),a=this._toRadians(a),this._renderer.applyMatrix(1,0,Math.tan(a),1,0,0),this},y.default.prototype.shearY=function(a){return y.default._validateParameters("shearY",arguments),a=this._toRadians(a),this._renderer.applyMatrix(1,Math.tan(a),0,1,0,0),this},y.default.prototype.translate=function(a,g,b){return y.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(a,g,b):this._renderer.translate(a,g),this},t=y.default,S.default=t},{"./main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236}],287:[function(t,C,S){function y(b){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(b){return function(l){if(Array.isArray(l)){for(var c=0,u=new Array(l.length);c<l.length;c++)u[c]=l[c];return u}}(b)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(b){return(g=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(l){return y(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(b)}o.default.prototype.storeItem=function(b,l){typeof b!="string"&&console.log("The argument that you passed to storeItem() - ".concat(b," is not a string.")),b.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(b," must not end with 'p5TypeID'.")),l===void 0&&console.log("You cannot store undefined variables using storeItem().");var c=g(l);switch(c){case"number":case"boolean":l=l.toString();break;case"object":l instanceof o.default.Color?c="p5.Color":l instanceof o.default.Vector&&(c="p5.Vector",l=[l.x,l.y,l.z]),l=JSON.stringify(l)}localStorage.setItem(b,l),b="".concat(b,"p5TypeID"),localStorage.setItem(b,c)},o.default.prototype.getItem=function(b){var l=localStorage.getItem(b),c=localStorage.getItem("".concat(b,"p5TypeID"));if(c===void 0)console.log("Unable to determine type of item stored under ".concat(b,"in local storage. Did you save the item with something other than setItem()?"));else if(l!==null)switch(c){case"number":l=parseFloat(l);break;case"boolean":l=l==="true";break;case"object":l=JSON.parse(l);break;case"p5.Color":l=JSON.parse(l),l=this.color.apply(this,a(l.levels));break;case"p5.Vector":l=JSON.parse(l),l=this.createVector.apply(this,a(l))}return l},o.default.prototype.clearStorage=function(){localStorage.clear()},o.default.prototype.removeItem=function(b){typeof b!="string"&&console.log("The argument that you passed to removeItem() - ".concat(b," is not a string.")),localStorage.removeItem(b),localStorage.removeItem("".concat(b,"p5TypeID"))}},{"../core/main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],288:[function(t,C,S){function y(d){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(d){return(a=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(p){return y(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":y(p)})(d)}function g(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),p&&function(v,h){(Object.setPrototypeOf||function(w,_){return w.__proto__=_,w})(v,h)}(d,p)}function b(d){return function(){var p,v=l(d);if(p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=l(this).constructor,Reflect.construct(v,arguments,p)):v.apply(this,arguments),v=this,!p||a(p)!=="object"&&typeof p!="function"){if(v!==void 0)return v;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return p}}function l(d){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(d)}function c(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){for(var v=0;v<p.length;v++){var h=p[v];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}function i(d,p,v){p&&u(d.prototype,p),v&&u(d,v)}o.default.prototype.createStringDict=function(d,p){return o.default._validateParameters("createStringDict",arguments),new o.default.StringDict(d,p)},o.default.prototype.createNumberDict=function(d,p){return o.default._validateParameters("createNumberDict",arguments),new o.default.NumberDict(d,p)},o.default.TypedDict=function(){function d(p,v){return c(this,d),p instanceof Object?this.data=p:(this.data={},this.data[p]=v),this}return i(d,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(p){return this.data.hasOwnProperty(p)}},{key:"get",value:function(p){if(this.data.hasOwnProperty(p))return this.data[p];console.log("".concat(p," does not exist in this Dictionary"))}},{key:"set",value:function(p,v){this._validate(v)?this.data[p]=v:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(p){for(var v in p)this.set(v,p[v])}},{key:"create",value:function(p,v){p instanceof Object&&v===void 0?this._addObj(p):p!==void 0?this.set(p,v):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(p){if(!this.data.hasOwnProperty(p))throw new Error("".concat(p," does not exist in this Dictionary"));delete this.data[p]}},{key:"print",value:function(){for(var p in this.data)console.log("key:".concat(p," value:").concat(this.data[p]))}},{key:"saveTable",value:function(p){var v,h="";for(v in this.data)h+="".concat(v,",").concat(this.data[v],`
`);var w=new Blob([h],{type:"text/csv"});o.default.prototype.downloadFile(w,p||"mycsv","csv")}},{key:"saveJSON",value:function(p,v){o.default.prototype.saveJSON(this.data,p,v)}},{key:"_validate",value:function(p){return!0}}]),d}(),o.default.StringDict=function(){g(p,o.default.TypedDict);var d=b(p);function p(){c(this,p);for(var v=arguments.length,h=new Array(v),w=0;w<v;w++)h[w]=arguments[w];return d.call.apply(d,[this].concat(h))}return i(p,[{key:"_validate",value:function(v){return typeof v=="string"}}]),p}(),o.default.NumberDict=function(){g(p,o.default.TypedDict);var d=b(p);function p(){c(this,p);for(var v=arguments.length,h=new Array(v),w=0;w<v;w++)h[w]=arguments[w];return d.call.apply(d,[this].concat(h))}return i(p,[{key:"_validate",value:function(v){return typeof v=="number"}},{key:"add",value:function(v,h){this.data.hasOwnProperty(v)?this.data[v]+=h:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"sub",value:function(v,h){this.add(v,-h)}},{key:"mult",value:function(v,h){this.data.hasOwnProperty(v)?this.data[v]*=h:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"div",value:function(v,h){this.data.hasOwnProperty(v)?this.data[v]/=h:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"_valueTest",value:function(v){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var h,w=this.data[Object.keys(this.data)[0]];for(h in this.data)this.data[h]*v<w*v&&(w=this.data[h]);return w}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(v){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var h=Object.keys(this.data)[0],w=1;w<Object.keys(this.data).length;w++)Object.keys(this.data)[w]*v<h*v&&(h=Object.keys(this.data)[w]);return h}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),p}(),t=o.default.TypedDict,S.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],289:[function(t,C,S){function y(w){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(w,_){for(var E=0;E<_.length;E++){var R=_[E];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}function g(w,_,E){_&&a(w.prototype,_),E&&a(w,E)}function b(w,_){return(b=Object.setPrototypeOf||function(E,R){return E.__proto__=R,E})(w,_)}function l(w){return function(){var _,E,R=u(w);return _=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=u(this).constructor,Reflect.construct(R,arguments,_)):R.apply(this,arguments),R=this,!(E=_)||d(E)!=="object"&&typeof E!="function"?c(R):E}}function c(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function u(w){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(w)}function i(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function d(w){return(d=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(_){return y(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":y(_)})(w)}function p(w,_,E){return(_._userNode||document.body).appendChild(w),E=new(E?o.default.MediaElement:o.default.Element)(w,_),_._elements.push(E),E}function v(w,_,E,R){var P=document.createElement(_),T=(typeof(E=E||"")=="string"&&(E=[E]),!0),D=(_=!1,void 0);try{for(var A,I=E[Symbol.iterator]();!(T=(A=I.next()).done);T=!0){var U=A.value,B=document.createElement("source");B.setAttribute("src",U),P.appendChild(B)}}catch(O){_=!0,D=O}finally{try{T||I.return==null||I.return()}finally{if(_)throw D}}typeof R=="function"&&P.addEventListener("canplaythrough",function O(){R(),P.removeEventListener("canplaythrough",O)});var N=p(P,w,!0);return N.loadedmetadata=!1,P.addEventListener("loadedmetadata",function(){N.width=P.videoWidth,N.height=P.videoHeight,N.elt.width===0&&(N.elt.width=P.videoWidth),N.elt.height===0&&(N.elt.height=P.videoHeight),N.presetPlaybackRate&&(N.elt.playbackRate=N.presetPlaybackRate,delete N.presetPlaybackRate),N.loadedmetadata=!0}),N}function h(w,_,E,R){i(this,h),this.callback=w,this.time=_,this.id=E,this.val=R}o.default.prototype.select=function(w,_){return o.default._validateParameters("select",arguments),(_=this._getContainer(_).querySelector(w))?this._wrapElement(_):null},o.default.prototype.selectAll=function(w,_){o.default._validateParameters("selectAll",arguments);var E=[],R=this._getContainer(_).querySelectorAll(w);if(R)for(var P=0;P<R.length;P++){var T=this._wrapElement(R[P]);E.push(T)}return E},o.default.prototype._getContainer=function(w){var _=document;return typeof w=="string"?_=document.querySelector(w)||document:w instanceof o.default.Element?_=w.elt:w instanceof HTMLElement&&(_=w),_},o.default.prototype._wrapElement=function(w){var _,E=Array.prototype.slice.call(w.children);return w.tagName==="INPUT"&&w.type==="checkbox"?((_=new o.default.Element(w,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},_):w.tagName==="VIDEO"||w.tagName==="AUDIO"?new o.default.MediaElement(w,this):w.tagName==="SELECT"?this.createSelect(new o.default.Element(w,this)):0<E.length&&E.every(function(R){return R.tagName==="INPUT"||R.tagName==="LABEL"})?this.createRadio(new o.default.Element(w,this)):new o.default.Element(w,this)},o.default.prototype.removeElements=function(w){o.default._validateParameters("removeElements",arguments),this._elements.filter(function(_){return!(_.elt instanceof HTMLCanvasElement)}).map(function(_){return _.remove()})},o.default.Element.prototype.changed=function(w){return o.default.Element._adjustListener("change",w,this),this},o.default.Element.prototype.input=function(w){return o.default.Element._adjustListener("input",w,this),this},o.default.prototype.createDiv=function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("div");return _.innerHTML=w,p(_,this)},o.default.prototype.createP=function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("p");return _.innerHTML=w,p(_,this)},o.default.prototype.createSpan=function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("span");return _.innerHTML=w,p(_,this)},o.default.prototype.createImg=function(){o.default._validateParameters("createImg",arguments);var w,_=document.createElement("img"),E=arguments;return 1<E.length&&typeof E[1]=="string"&&(_.alt=E[1]),2<E.length&&typeof E[2]=="string"&&(_.crossOrigin=E[2]),_.src=E[0],w=p(_,this),_.addEventListener("load",function(){w.width=_.offsetWidth||_.width,w.height=_.offsetHeight||_.height;var R=E[E.length-1];typeof R=="function"&&R(w)}),w},o.default.prototype.createA=function(w,_,E){o.default._validateParameters("createA",arguments);var R=document.createElement("a");return R.href=w,R.innerHTML=_,E&&(R.target=E),p(R,this)},o.default.prototype.createSlider=function(w,_,E,R){o.default._validateParameters("createSlider",arguments);var P=document.createElement("input");return P.type="range",P.min=w,P.max=_,R===0?P.step=1e-18:R&&(P.step=R),typeof E=="number"&&(P.value=E),p(P,this)},o.default.prototype.createButton=function(w,_){o.default._validateParameters("createButton",arguments);var E=document.createElement("button");return E.innerHTML=w,_&&(E.value=_),p(E,this)},o.default.prototype.createCheckbox=function(){for(var w=arguments.length,_=new Array(w),E=0;E<w;E++)_[E]=arguments[E];o.default._validateParameters("createCheckbox",_);var R=document.createElement("div"),P=document.createElement("input"),T=(P.type="checkbox",document.createElement("label")),D=(T.appendChild(P),R.appendChild(T),p(R,this));return D.checked=function(){var A=D.elt.firstElementChild.getElementsByTagName("input")[0];if(A){if(arguments.length===0)return A.checked;A.checked=!(arguments.length<=0||!arguments[0])}return D},this.value=function(A){return D.value=A,this},_[0]&&(D.value(_[0]),(R=document.createElement("span")).innerHTML=_[0],T.appendChild(R)),_[1]&&(P.checked=!0),D},o.default.prototype.createSelect=function(){for(var w,_=arguments.length,E=new Array(_),R=0;R<_;R++)E[R]=arguments[R];o.default._validateParameters("createSelect",E);var P,T=E[0];return T instanceof o.default.Element&&T.elt instanceof HTMLSelectElement?this.elt=(w=T).elt:T instanceof HTMLSelectElement?(w=p(T,this),this.elt=T):(P=document.createElement("select"),T&&typeof T=="boolean"&&P.setAttribute("multiple","true"),w=p(P,this),this.elt=P),w.option=function(D,A){var I;if(D!==void 0){for(var U,B=0;B<this.elt.length;B+=1)if(this.elt[B].textContent===D){I=B;break}I!==void 0?A===!1?this.elt.remove(I):this.elt[I].value=A:((U=document.createElement("option")).textContent=D,U.value=A===void 0?D:A,this.elt.appendChild(U),this._pInst._elements.push(U))}},w.selected=function(D){if(D!==void 0){for(var A=0;A<this.elt.length;A+=1)this.elt[A].value.toString()===D.toString()&&(this.elt.selectedIndex=A);return this}if(this.elt.getAttribute("multiple")){var I=[],U=!0,B=!1,N=void 0;try{for(var O,V=this.elt.selectedOptions[Symbol.iterator]();!(U=(O=V.next()).done);U=!0){var q=O.value;I.push(q.value)}}catch(X){B=!0,N=X}finally{try{U||V.return==null||V.return()}finally{if(B)throw N}}return I}return this.elt.value},w.disable=function(D){if(typeof D=="string")for(var A=0;A<this.elt.length;A++)this.elt[A].value.toString()===D&&(this.elt[A].disabled=!0,this.elt[A].selected=!1);else this.elt.disabled=!0;return this},w.enable=function(D){if(typeof D=="string")for(var A=0;A<this.elt.length;A++)this.elt[A].value.toString()===D&&(this.elt[A].disabled=!1,this.elt[A].selected=!1);else{this.elt.disabled=!1;for(var I=0;I<this.elt.length;I++)this.elt[I].disabled=!1,this.elt[I].selected=!1}return this},w},o.default.prototype.createRadio=function(){function w(D){return D instanceof HTMLInputElement&&D.type==="radio"}function _(D){return D instanceof HTMLLabelElement}var E,R,P,T=arguments.length<=0?void 0:arguments[0];return T instanceof o.default.Element&&(T.elt instanceof HTMLDivElement||T.elt instanceof HTMLSpanElement)?(E=T,this.elt=T.elt):T instanceof HTMLDivElement||T instanceof HTMLSpanElement?(E=p(T,this),R=this.elt=T,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(P=arguments.length<=1?void 0:arguments[1])):(typeof T=="string"&&(P=T),R=document.createElement("div"),E=p(R,this),this.elt=R),E._name=P||"radioOption",E._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(D){return w(D)||_(D)&&w(D.firstElementChild)}).map(function(D){return w(D)?D:D.firstElementChild})},E.option=function(D,A){var I,U,B,N=!0,O=!1,V=void 0;try{for(var q,X=E._getOptionsArray()[Symbol.iterator]();!(N=(q=X.next()).done);N=!0){var Z=q.value;if(Z.value===D){I=Z;break}}}catch(re){O=!0,V=re}finally{try{N||X.return==null||X.return()}finally{if(O)throw V}}return I===void 0&&((I=document.createElement("input")).setAttribute("type","radio"),I.setAttribute("value",D)),I.setAttribute("name",E._name),_(I.parentElement)?U=I.parentElement:(U=document.createElement("label")).insertAdjacentElement("afterbegin",I),U.lastElementChild instanceof HTMLSpanElement?B=U.lastElementChild:(B=document.createElement("span"),I.insertAdjacentElement("afterend",B)),B.innerHTML=A===void 0?D:A,this.elt.appendChild(U),I},E.remove=function(D){var A=!0,I=!1,U=void 0;try{for(var B,N=E._getOptionsArray()[Symbol.iterator]();!(A=(B=N.next()).done);A=!0){var O=B.value;if(O.value===D)return void(_(O.parentElement)?O.parentElement:O).remove()}}catch(V){I=!0,U=V}finally{try{A||N.return==null||N.return()}finally{if(I)throw U}}},E.value=function(){var D="",A=!0,I=!1,U=void 0;try{for(var B,N=E._getOptionsArray()[Symbol.iterator]();!(A=(B=N.next()).done);A=!0){var O=B.value;if(O.checked){D=O.value;break}}}catch(V){I=!0,U=V}finally{try{A||N.return==null||N.return()}finally{if(I)throw U}}return D},E.selected=function(D){var A=null;if(D===void 0){var I=!0,U=!1,B=void 0;try{for(var N,O=E._getOptionsArray()[Symbol.iterator]();!(I=(N=O.next()).done);I=!0){var V=N.value;if(V.checked){A=V;break}}}catch(ee){U=!0,B=ee}finally{try{I||O.return==null||O.return()}finally{if(U)throw B}}}else{E._getOptionsArray().forEach(function(ee){ee.checked=!1,ee.removeAttribute("checked")});var q=!0;U=!1,B=void 0;try{for(var X,Z=E._getOptionsArray()[Symbol.iterator]();!(q=(X=Z.next()).done);q=!0){var re=X.value;re.value===D&&(re.setAttribute("checked",!0),re.checked=!0,A=re)}}catch(ee){U=!0,B=ee}finally{try{q||Z.return==null||Z.return()}finally{if(U)throw B}}}return A},E.disable=function(){var D=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],A=!0,I=!1,U=void 0;try{for(var B,N=E._getOptionsArray()[Symbol.iterator]();!(A=(B=N.next()).done);A=!0)B.value.setAttribute("disabled",D)}catch(O){I=!0,U=O}finally{try{A||N.return==null||N.return()}finally{if(I)throw U}}},E},o.default.prototype.createColorPicker=function(w){o.default._validateParameters("createColorPicker",arguments);var _=document.createElement("input");return _.type="color",w?w instanceof o.default.Color?_.value=w.toString("#rrggbb"):(o.default.prototype._colorMode="rgb",o.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},_.value=o.default.prototype.color(w).toString("#rrggbb")):_.value="#000000",(_=p(_,this)).color=function(){return w&&(w.mode&&(o.default.prototype._colorMode=w.mode),w.maxes&&(o.default.prototype._colorMaxes=w.maxes)),o.default.prototype.color(this.elt.value)},_},o.default.prototype.createInput=function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",E=(o.default._validateParameters("createInput",arguments),document.createElement("input"));return E.setAttribute("value",w),E.setAttribute("type",_),p(E,this)},o.default.prototype.createFileInput=function(w){var _,E=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(o.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(_=document.createElement("input")).setAttribute("type","file"),E&&_.setAttribute("multiple",!0),_.addEventListener("change",function(R){var P=!0,T=!1,D=void 0;try{for(var A,I=R.target.files[Symbol.iterator]();!(P=(A=I.next()).done);P=!0){var U=A.value;o.default.File._load(U,w)}}catch(B){T=!0,D=B}finally{try{P||I.return==null||I.return()}finally{if(T)throw D}}},!1),p(_,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},o.default.prototype.createVideo=function(w,_){return o.default._validateParameters("createVideo",arguments),v(this,"video",w,_)},o.default.prototype.createAudio=function(w,_){return o.default._validateParameters("createAudio",arguments),v(this,"audio",w,_)},o.default.prototype.VIDEO="video",o.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(w){var _=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return _?new Promise(function(E,R){_.call(navigator,w,E,R)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),o.default.prototype.createCapture=function(){for(var w=arguments.length,_=new Array(w),E=0;E<w;E++)_[E]=arguments[E];if(o.default._validateParameters("createCapture",_),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var R,P=!0,T=!0,D=0,A=_;D<A.length;D++){var I=A[D];I===o.default.prototype.VIDEO?T=!1:I===o.default.prototype.AUDIO?P=!1:d(I)==="object"?U=I:typeof I=="function"&&(R=I)}var U=U||{video:P,audio:T},B=document.createElement("video"),N=(B.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(U).then(function(O){try{"srcObject"in B?B.srcObject=O:B.src=window.URL.createObjectURL(O)}catch{B.src=O}},console.log),p(B,this,!0));return N.loadedmetadata=!1,B.addEventListener("loadedmetadata",function(){B.play(),B.width?(N.width=B.width,N.height=B.height):(N.width=N.elt.width=B.videoWidth,N.height=N.elt.height=B.videoHeight),N.loadedmetadata=!0,R&&R(B.srcObject)}),N},o.default.prototype.createElement=function(w,_){return o.default._validateParameters("createElement",arguments),w=document.createElement(w),_!==void 0&&(w.innerHTML=_),p(w,this)},o.default.Element.prototype.addClass=function(w){return this.elt.className?this.hasClass(w)||(this.elt.className=this.elt.className+" "+w):this.elt.className=w,this},o.default.Element.prototype.removeClass=function(w){return this.elt.classList.remove(w),this},o.default.Element.prototype.hasClass=function(w){return this.elt.classList.contains(w)},o.default.Element.prototype.toggleClass=function(w){return this.elt.classList.contains(w)?this.elt.classList.remove(w):this.elt.classList.add(w),this},o.default.Element.prototype.child=function(w){return w===void 0?this.elt.childNodes:(typeof w=="string"?(w[0]==="#"&&(w=w.substring(1)),w=document.getElementById(w)):w instanceof o.default.Element&&(w=w.elt),w instanceof HTMLElement&&this.elt.appendChild(w),this)},o.default.Element.prototype.center=function(w){var _=this.elt.style.display,E=this.elt.style.display==="none",R=this.parent().style.display==="none",P={x:this.elt.offsetLeft,y:this.elt.offsetTop},T=(E&&this.show(),R&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),D=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return w==="both"||w===void 0?this.position(T/2+this.parent().offsetLeft,D/2+this.parent().offsetTop):w==="horizontal"?this.position(T/2+this.parent().offsetLeft,P.y):w==="vertical"&&this.position(P.x,D/2+this.parent().offsetTop),this.style("display",_),E&&this.hide(),R&&this.parent().hide(),this},o.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},o.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},o.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var w="";return this.elt.style.transform&&(w=(w=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=w,this},o.default.Element.prototype._rotate=function(){var w="";return this.elt.style.transform&&(w=(w=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=w,this},o.default.Element.prototype.style=function(w,_){if((_=_ instanceof o.default.Color?"rgba("+_.levels[0]+","+_.levels[1]+","+_.levels[2]+","+_.levels[3]/255+")":_)===void 0){if(w.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(w);for(var E=w.split(";"),R=0;R<E.length;R++){var P=E[R].split(":");P[0]&&P[1]&&(this.elt.style[P[0].trim()]=P[1].trim())}}else this.elt.style[w]=_,w!=="width"&&w!=="height"&&w!=="left"&&w!=="top"||(_=window.getComputedStyle(this.elt).getPropertyValue(w).replace(/[^\d.]/g,""),this[w]=Math.round(parseFloat(_,10)));return this},o.default.Element.prototype.attribute=function(w,_){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return _===void 0?this.elt.getAttribute(w):(this.elt.setAttribute(w,_),this);if(_===void 0)return this.elt.firstChild.getAttribute(w);for(var E=0;E<this.elt.childNodes.length;E++)this.elt.childNodes[E].setAttribute(w,_)},o.default.Element.prototype.removeAttribute=function(w){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var _=0;_<this.elt.childNodes.length;_++)this.elt.childNodes[_].removeAttribute(w);return this.elt.removeAttribute(w),this},o.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},o.default.Element.prototype.show=function(){return this.elt.style.display="block",this},o.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},o.default.Element.prototype.size=function(w,_){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var E=w,R=_,P=o.default.prototype.AUTO;if(E!==P||R!==P){if(E===P?E=_*this.width/this.height:R===P&&(R=w*this.height/this.width),this.elt instanceof HTMLCanvasElement){var T,D={},A=this.elt.getContext("2d");for(T in A)D[T]=A[T];for(T in this.elt.setAttribute("width",E*this._pInst._pixelDensity),this.elt.setAttribute("height",R*this._pInst._pixelDensity),this.elt.style.width=E+"px",this.elt.style.height=R+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),D)this.elt.getContext("2d")[T]=D[T]}else this.elt.style.width=E+"px",this.elt.style.height=R+"px",this.elt.width=E,this.elt.height=R;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},o.default.Element.prototype.remove=function(){this instanceof o.default.MediaElement&&(this.stop(),(_=this.elt.srcObject)!==null&&_.getTracks().forEach(function(E){E.stop()}));var w,_=this._pInst._elements.indexOf(this);for(w in _!==-1&&this._pInst._elements.splice(_,1),this._events)this.elt.removeEventListener(w,this._events[w]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},o.default.Element.prototype.drop=function(w,_){var E;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",E=function(R){R.preventDefault()}),this.elt.addEventListener("dragleave",E)),o.default.Element._attachListener("drop",function(R){R.preventDefault(),typeof _=="function"&&_.call(this,R),R=R.dataTransfer.files;var P=!0,T=!1,D=void 0;try{for(var A,I=R[Symbol.iterator]();!(P=(A=I.next()).done);P=!0){var U=A.value;o.default.File._load(U,w)}}catch(B){T=!0,D=B}finally{try{P||I.return==null||I.return()}finally{if(T)throw D}}},this)):console.log("The File APIs are not fully supported in this browser."),this},t=function(w){var _=R;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),w&&b(_,w);var E=l(R);function R(P,T){i(this,R);var D=c(T=E.call(this,P,T));return T.elt.crossOrigin="anonymous",T._prevTime=0,T._cueIDCounter=0,T._cues=[],T.pixels=[],T._pixelsState=c(T),T._pixelDensity=1,T._modified=!1,T._frameOnCanvas=-1,Object.defineProperty(D,"src",{get:function(){var A=D.elt.children[0].src,I=D.elt.src===window.location.href?"":D.elt.src;return A===window.location.href?I:A},set:function(A){for(var I=0;I<D.elt.children.length;I++)D.elt.removeChild(D.elt.children[I]);var U=document.createElement("source");U.src=A,P.appendChild(U),D.elt.src=A,D.modified=!0}}),D._onended=function(){},D.elt.onended=function(){D._onended(D)},T}return g(R,[{key:"play",value:function(){var P;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(P=this.elt.play())&&P.catch&&P.catch(function(T){T.name==="NotAllowedError"?console.error(T):console.error("Media play method encountered an unexpected error",T)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var P=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(P)},{passive:!0,once:!0})}},{key:"autoplay",value:function(P){var T=this,D=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",P),P&&!D&&(P=function(){return T._setupAutoplayFailDetection()},this.elt.readyState===4?P():this.elt.addEventListener("canplay",P,{passive:!0,once:!0})),this}},{key:"volume",value:function(P){if(P===void 0)return this.elt.volume;this.elt.volume=P}},{key:"speed",value:function(P){if(P===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=P:this.presetPlaybackRate=P}},{key:"time",value:function(P){return P===void 0?this.elt.currentTime:(this.elt.currentTime=P,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var P=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&P&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var P=arguments.length,T=new Array(P),D=0;D<P;D++)T[D]=arguments[D];return o.default.Renderer2D.prototype.loadPixels.apply(this,T)}},{key:"updatePixels",value:function(P,T,D,A){return this.loadedmetadata&&(this._ensureCanvas(),o.default.Renderer2D.prototype.updatePixels.call(this,P,T,D,A)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var P=arguments.length,T=new Array(P),D=0;D<P;D++)T[D]=arguments[D];return o.default.Renderer2D.prototype.get.apply(this,T)}},{key:"_getPixel",value:function(){this.loadPixels();for(var P=arguments.length,T=new Array(P),D=0;D<P;D++)T[D]=arguments[D];return o.default.Renderer2D.prototype._getPixel.apply(this,T)}},{key:"set",value:function(P,T,D){this.loadedmetadata&&(this._ensureCanvas(),o.default.Renderer2D.prototype.set.call(this,P,T,D),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var P=arguments.length,T=new Array(P),D=0;D<P;D++)T[D]=arguments[D];o.default.prototype.copy.apply(this,T)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var P=arguments.length,T=new Array(P),D=0;D<P;D++)T[D]=arguments[D];o.default.Image.prototype.mask.apply(this,T)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(P){this._modified=P}},{key:"onended",value:function(P){return this._onended=P,this}},{key:"connect",value:function(P){var T,D;if(typeof o.default.prototype.getAudioContext=="function")T=o.default.prototype.getAudioContext(),D=o.default.soundOut.input;else try{D=(T=P.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=T.createMediaElementSource(this.elt),this.audioSourceNode.connect(D)),P?P.input?this.audioSourceNode.connect(P.input):this.audioSourceNode.connect(P):this.audioSourceNode.connect(D)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(P,T,D){var A=this._cueIDCounter++;return T=new h(T,P,A,D),this._cues.push(T),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),A}},{key:"removeCue",value:function(P){for(var T=0;T<this._cues.length;T++)this._cues[T].id===P&&(console.log(P),this._cues.splice(T,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var P=this.time(),T=0;T<this._cues.length;T++){var D=this._cues[T].time,A=this._cues[T].val;this._prevTime<D&&D<=P&&this._cues[T].callback(A)}this._prevTime=P}}]),R}(o.default.Element),o.default.MediaElement=t,t=function(){function w(_,E){i(this,w),this.file=_,this._pInst=E,E=_.type.split("/"),this.type=E[0],this.subtype=E[1],this.name=_.name,this.size=_.size,this.data=void 0}return g(w,null,[{key:"_createLoader",value:function(_,E){var R=new FileReader;return R.onload=function(P){var T,D=new o.default.File(_);D.file.type==="application/json"?D.data=JSON.parse(P.target.result):D.file.type==="text/xml"?(T=new DOMParser().parseFromString(P.target.result,"text/xml"),D.data=new o.default.XML(T.documentElement)):D.data=P.target.result,E(D)},R}},{key:"_load",value:function(_,E){var R;/^text\//.test(_.type)||_.type==="application/json"?o.default.File._createLoader(_,E).readAsText(_):/^(video|audio)\//.test(_.type)?((R=new o.default.File(_)).data=URL.createObjectURL(_),E(R)):o.default.File._createLoader(_,E).readAsDataURL(_)}}]),w}(),o.default.File=t,t=o.default,S.default=t},{"../core/main":273,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238}],290:[function(t,C,S){function y(w){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(w)}function o(w){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(_){return y(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":y(_)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(h=t("../core/main"))&&h.__esModule?h:{default:h},g=function(w){if(w&&w.__esModule)return w;if(w===null||o(w)!=="object"&&typeof w!="function")return{default:w};var _=function(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,D)}();if(_&&_.has(w))return _.get(w);var E,R={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in w){var T;Object.prototype.hasOwnProperty.call(w,E)&&((T=P?Object.getOwnPropertyDescriptor(w,E):null)&&(T.get||T.set)?Object.defineProperty(R,E,T):R[E]=w[E])}return R.default=w,_&&_.set(w,R),R}(t("../core/constants"));a.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",a.default.prototype.accelerationX=0,a.default.prototype.accelerationY=0,a.default.prototype.accelerationZ=0,a.default.prototype.pAccelerationX=0,a.default.prototype.pAccelerationY=0,a.default.prototype.pAccelerationZ=0,a.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},a.default.prototype.rotationX=0,a.default.prototype.rotationY=0,a.default.prototype.rotationZ=0,a.default.prototype.pRotationX=0,a.default.prototype.pRotationY=0;var b=a.default.prototype.pRotationZ=0,l=0,c=0,u="clockwise",i="clockwise",d="clockwise",p=(a.default.prototype.pRotateDirectionX=void 0,a.default.prototype.pRotateDirectionY=void 0,a.default.prototype.pRotateDirectionZ=void 0,a.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},a.default.prototype.turnAxis=void 0,.5),v=30,h=(a.default.prototype.setMoveThreshold=function(w){a.default._validateParameters("setMoveThreshold",arguments),p=w},a.default.prototype.setShakeThreshold=function(w){a.default._validateParameters("setShakeThreshold",arguments),v=w},a.default.prototype._ondeviceorientation=function(w){this._updatePRotations(),this._angleMode===g.radians&&(w.beta=w.beta*(_PI/180),w.gamma=w.gamma*(_PI/180),w.alpha=w.alpha*(_PI/180)),this._setProperty("rotationX",w.beta),this._setProperty("rotationY",w.gamma),this._setProperty("rotationZ",w.alpha),this._handleMotion()},a.default.prototype._ondevicemotion=function(w){this._updatePAccelerations(),this._setProperty("accelerationX",2*w.acceleration.x),this._setProperty("accelerationY",2*w.acceleration.y),this._setProperty("accelerationZ",2*w.acceleration.z),this._handleMotion()},a.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var w,_,E,R,P,T=this._isGlobal?window:this;typeof T.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>p||Math.abs(this.accelerationY-this.pAccelerationY)>p||Math.abs(this.accelerationZ-this.pAccelerationZ)>p)&&T.deviceMoved(),typeof T.deviceTurned=="function"&&(_=this.rotationX+180,w=this.pRotationX+180,E=b+180,0<_-w&&_-w<270||_-w<-270?u="clockwise":(_-w<0||270<_-w)&&(u="counter-clockwise"),u!==this.pRotateDirectionX&&(E=_),90<Math.abs(_-E)&&Math.abs(_-E)<270&&(E=_,this._setProperty("turnAxis","X"),T.deviceTurned()),this.pRotateDirectionX=u,b=E-180,w=this.rotationY+180,_=this.pRotationY+180,E=l+180,0<w-_&&w-_<270||w-_<-270?i="clockwise":(w-_<0||270<w-this.pRotationY)&&(i="counter-clockwise"),i!==this.pRotateDirectionY&&(E=w),90<Math.abs(w-E)&&Math.abs(w-E)<270&&(E=w,this._setProperty("turnAxis","Y"),T.deviceTurned()),this.pRotateDirectionY=i,l=E-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?d="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(d="counter-clockwise"),d!==this.pRotateDirectionZ&&(c=this.rotationZ),90<Math.abs(this.rotationZ-c)&&Math.abs(this.rotationZ-c)<270&&(c=this.rotationZ,this._setProperty("turnAxis","Z"),T.deviceTurned()),this.pRotateDirectionZ=d,this._setProperty("turnAxis",void 0)),typeof T.deviceShaken=="function"&&(this.pAccelerationX!==null&&(R=Math.abs(this.accelerationX-this.pAccelerationX),P=Math.abs(this.accelerationY-this.pAccelerationY)),v<R+P&&T.deviceShaken())},a.default);S.default=h},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],291:[function(t,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};y.default.prototype.isKeyPressed=!1,y.default.prototype.keyIsPressed=!1,y.default.prototype.key="",y.default.prototype.keyCode=0,y.default.prototype._onkeydown=function(o){var a;this._downKeys[o.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",o.which),this._downKeys[o.which]=!0,this._setProperty("key",o.key||String.fromCharCode(o.which)||o.which),typeof(a=this._isGlobal?window:this).keyPressed!="function"||o.charCode||a.keyPressed(o)===!1&&o.preventDefault())},y.default.prototype._onkeyup=function(o){this._downKeys[o.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",o.key||String.fromCharCode(o.which)||o.which),this._setProperty("keyCode",o.which);var a=this._isGlobal?window:this;typeof a.keyReleased=="function"&&a.keyReleased(o)===!1&&o.preventDefault()},y.default.prototype._onkeypress=function(o){var a;o.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",o.which),this._setProperty("key",o.key||String.fromCharCode(o.which)||o.which),typeof(a=this._isGlobal?window:this).keyTyped=="function"&&a.keyTyped(o)===!1&&o.preventDefault())},y.default.prototype._onblur=function(o){this._downKeys={}},y.default.prototype.keyIsDown=function(o){return y.default._validateParameters("keyIsDown",arguments),this._downKeys[o]||!1},y.default.prototype._areDownKeys=function(){for(var o in this._downKeys)if(this._downKeys.hasOwnProperty(o)&&this._downKeys[o]===!0)return!0;return!1},t=y.default,S.default=t},{"../core/main":273}],292:[function(t,C,S){function y(b){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(b)}function o(b){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(l){return y(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(a=t("../core/main"))&&a.__esModule?a:{default:a},g=function(b){if(b&&b.__esModule)return b;if(b===null||o(b)!=="object"&&typeof b!="function")return{default:b};var l=function(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,p)}();if(l&&l.has(b))return l.get(b);var c,u={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in b){var d;Object.prototype.hasOwnProperty.call(b,c)&&((d=i?Object.getOwnPropertyDescriptor(b,c):null)&&(d.get||d.set)?Object.defineProperty(u,c,d):u[c]=b[c])}return u.default=b,l&&l.set(b,u),u}(t("../core/constants"));a.default.prototype.movedX=0,a.default.prototype.movedY=0,a.default.prototype._hasMouseInteracted=!1,a.default.prototype.mouseX=0,a.default.prototype.mouseY=0,a.default.prototype.pmouseX=0,a.default.prototype.pmouseY=0,a.default.prototype.winMouseX=0,a.default.prototype.winMouseY=0,a.default.prototype.pwinMouseX=0,a.default.prototype.pwinMouseY=0,a.default.prototype.mouseButton=0,a.default.prototype.mouseIsPressed=!1,a.default.prototype._updateNextMouseCoords=function(b){var l,c,u,i,d;this._curElement!==null&&(!b.touches||0<b.touches.length)&&(l=this._curElement.elt,c=this.width,u=this.height,(i=b)&&!i.clientX&&(i.touches?i=i.touches[0]:i.changedTouches&&(i=i.changedTouches[0])),d=l.getBoundingClientRect(),c=l.scrollWidth/c||1,l=l.scrollHeight/u||1,u={x:(i.clientX-d.left)/c,y:(i.clientY-d.top)/l,winX:i.clientX,winY:i.clientY,id:i.identifier},this._setProperty("movedX",b.movementX),this._setProperty("movedY",b.movementY),this._setProperty("mouseX",u.x),this._setProperty("mouseY",u.y),this._setProperty("winMouseX",u.winX),this._setProperty("winMouseY",u.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},a.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},a.default.prototype._setMouseButton=function(b){b.button===1?this._setProperty("mouseButton",g.CENTER):b.button===2?this._setProperty("mouseButton",g.RIGHT):this._setProperty("mouseButton",g.LEFT)},a.default.prototype._onmousemove=function(b){var l=this._isGlobal?window:this;this._updateNextMouseCoords(b),this.mouseIsPressed?typeof l.mouseDragged=="function"?l.mouseDragged(b)===!1&&b.preventDefault():typeof l.touchMoved=="function"&&l.touchMoved(b)===!1&&b.preventDefault():typeof l.mouseMoved=="function"&&l.mouseMoved(b)===!1&&b.preventDefault()},a.default.prototype._onmousedown=function(b){var l=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(b),this._updateNextMouseCoords(b),typeof l.mousePressed=="function"?l.mousePressed(b)===!1&&b.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof l.touchStarted=="function"&&l.touchStarted(b)===!1&&b.preventDefault()},a.default.prototype._onmouseup=function(b){var l=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof l.mouseReleased=="function"?l.mouseReleased(b)===!1&&b.preventDefault():typeof l.touchEnded=="function"&&l.touchEnded(b)===!1&&b.preventDefault()},a.default.prototype._ondragend=a.default.prototype._onmouseup,a.default.prototype._ondragover=a.default.prototype._onmousemove,a.default.prototype._onclick=function(b){var l=this._isGlobal?window:this;typeof l.mouseClicked=="function"&&l.mouseClicked(b)===!1&&b.preventDefault()},a.default.prototype._ondblclick=function(b){var l=this._isGlobal?window:this;typeof l.doubleClicked=="function"&&l.doubleClicked(b)===!1&&b.preventDefault()},a.default.prototype._mouseWheelDeltaY=0,a.default.prototype._pmouseWheelDeltaY=0,a.default.prototype._onwheel=function(b){var l=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",b.deltaY),typeof l.mouseWheel=="function"&&(b.delta=b.deltaY,l.mouseWheel(b)===!1&&b.preventDefault())},a.default.prototype.requestPointerLock=function(){var b=this._curElement.elt;return b.requestPointerLock=b.requestPointerLock||b.mozRequestPointerLock,b.requestPointerLock?(b.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},a.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=a.default,S.default=t},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],293:[function(t,C,S){t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(y){if(this._curElement!==null){for(var o=[],a=0;a<y.touches.length;a++)o[a]=function(g,b,l,c){var u=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,i=g.getBoundingClientRect();return b=g.scrollWidth/b||1,g=g.scrollHeight/l||1,{x:((l=c.touches[u]||c.changedTouches[u]).clientX-i.left)/b,y:(l.clientY-i.top)/g,winX:l.clientX,winY:l.clientY,id:l.identifier}}(this._curElement.elt,this.width,this.height,y,a);this._setProperty("touches",o)}},t.default.prototype._ontouchstart=function(y){var o=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(y),this._updateNextMouseCoords(y),this._updateMouseCoords(),typeof o.touchStarted=="function"?o.touchStarted(y)===!1&&y.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof o.mousePressed=="function"&&o.mousePressed(y)===!1&&y.preventDefault()},t.default.prototype._ontouchmove=function(y){var o=this._isGlobal?window:this;this._updateTouchCoords(y),this._updateNextMouseCoords(y),typeof o.touchMoved=="function"?o.touchMoved(y)===!1&&y.preventDefault():typeof o.mouseDragged=="function"&&o.mouseDragged(y)===!1&&y.preventDefault()},t.default.prototype._ontouchend=function(y){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(y),this._updateNextMouseCoords(y);var o=this._isGlobal?window:this;typeof o.touchEnded=="function"?o.touchEnded(y)===!1&&y.preventDefault():typeof o.mouseReleased=="function"&&o.mouseReleased(y)===!1&&y.preventDefault()},t=t.default,S.default=t},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.string.includes":189}],294:[function(t,C,S){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y,o,a,g,b={_toPixels:function(l){var c,u;return l instanceof ImageData?l.data:l.getContext("2d")?l.getContext("2d").getImageData(0,0,l.width,l.height).data:l.getContext("webgl")?(u=(c=l.getContext("webgl")).drawingBufferWidth*c.drawingBufferHeight*4,u=new Uint8Array(u),c.readPixels(0,0,l.width,l.height,c.RGBA,c.UNSIGNED_BYTE,u),u):void 0},_getARGB:function(l,c){return l[3+(c*=4)]<<24&4278190080|l[c]<<16&16711680|l[1+c]<<8&65280|255&l[2+c]},_setPixels:function(l,c){for(var u,i=0,d=l.length;i<d;i++)l[0+(u=4*i)]=(16711680&c[i])>>>16,l[1+u]=(65280&c[i])>>>8,l[2+u]=255&c[i],l[3+u]=(4278190080&c[i])>>>24},_toImageData:function(l){return l instanceof ImageData?l:l.getContext("2d").getImageData(0,0,l.width,l.height)},_createImageData:function(l,c){return b._tmpCanvas=document.createElement("canvas"),b._tmpCtx=b._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(l,c)},apply:function(l,c,u){var i=l.getContext("2d"),d=i.getImageData(0,0,l.width,l.height);(c=c(d,u))instanceof ImageData?i.putImageData(c,0,0,0,0,l.width,l.height):i.putImageData(d,0,0,0,0,l.width,l.height)},threshold:function(l,c){for(var u=b._toPixels(l),i=(c===void 0&&(c=.5),Math.floor(255*c)),d=0;d<u.length;d+=4){var p=i<=.2126*u[d]+.7152*u[d+1]+.0722*u[d+2]?255:0;u[d]=u[d+1]=u[d+2]=p}},gray:function(l){for(var c=b._toPixels(l),u=0;u<c.length;u+=4){var i=c[u],d=c[u+1],p=c[u+2];c[u]=c[u+1]=c[u+2]=.2126*i+.7152*d+.0722*p}},opaque:function(l){for(var c=b._toPixels(l),u=0;u<c.length;u+=4)c[u+3]=255;return c},invert:function(l){for(var c=b._toPixels(l),u=0;u<c.length;u+=4)c[u]=255-c[u],c[u+1]=255-c[u+1],c[u+2]=255-c[u+2]},posterize:function(l,c){var u=b._toPixels(l);if(c<2||255<c)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var i=c-1,d=0;d<u.length;d+=4){var p=u[d],v=u[d+1],h=u[d+2];u[d]=255*(p*c>>8)/i,u[d+1]=255*(v*c>>8)/i,u[d+2]=255*(h*c>>8)/i}},dilate:function(l){for(var c,u,i,d,p,v,h,w,_,E=b._toPixels(l),R=0,P=E.length?E.length/4:0,T=new Int32Array(P);R<P;)for(u=(c=R)+l.width;R<u;)d=i=b._getARGB(E,R),(_=R-1)<c&&(_=R),u<=(w=R+1)&&(w=R),(p=R-l.width)<0&&(p=0),P<=(v=R+l.width)&&(v=R),p=b._getARGB(E,p),_=b._getARGB(E,_),v=b._getARGB(E,v),(d=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<(h=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))&&(i=_,d=h),d<(h=77*((_=b._getARGB(E,w))>>16&255)+151*(_>>8&255)+28*(255&_))&&(i=_,d=h),d<(w=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(i=p,d=w),d<(_=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(i=v,d=_),T[R++]=i;b._setPixels(E,T)},erode:function(l){for(var c,u,i,d,p,v,h,w,_,E=b._toPixels(l),R=0,P=E.length?E.length/4:0,T=new Int32Array(P);R<P;)for(u=(c=R)+l.width;R<u;)d=i=b._getARGB(E,R),(_=R-1)<c&&(_=R),u<=(w=R+1)&&(w=R),(p=R-l.width)<0&&(p=0),P<=(v=R+l.width)&&(v=R),p=b._getARGB(E,p),_=b._getARGB(E,_),v=b._getARGB(E,v),(h=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))<(d=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(i=_,d=h),(h=77*((_=b._getARGB(E,w))>>16&255)+151*(_>>8&255)+28*(255&_))<d&&(i=_,d=h),(w=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<d&&(i=p,d=w),(_=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<d&&(i=v,d=_),T[R++]=i;b._setPixels(E,T)},blur:function(l,c){for(var u,i,d,p,v,h,w,_,E,R,P=b._toPixels(l),T=l.width,D=l.height,A=T*D,I=new Int32Array(A),U=0;U<A;U++)I[U]=b._getARGB(P,U);var B,N,O,V,q,X,Z,re,ee=new Int32Array(A),ae=new Int32Array(A),z=new Int32Array(A),H=new Int32Array(A),$=0,ne=3.5*c|0;if(y!==(ne=ne<1?1:ne<248?ne:248)){o=1+(y=ne)<<1,a=new Int32Array(o),g=new Array(o);for(var oe=0;oe<o;oe++)g[oe]=new Int32Array(256);for(var le=1,Q=ne-1;le<ne;le++){a[ne+le]=a[Q]=X=Q*Q,Z=g[ne+le],re=g[Q--];for(var se=0;se<256;se++)Z[se]=re[se]=X*se}q=a[ne]=ne*ne,Z=g[ne];for(var ye=0;ye<256;ye++)Z[ye]=q*ye}for(N=0;N<D;N++){for(B=0;B<T;B++){if(p=d=i=v=u=0,(h=B-y)<0)R=-h,h=0;else{if(T<=h)break;R=0}for(O=R;O<o&&!(T<=h);O++){var me=I[h+$];v+=(V=g[O])[(-16777216&me)>>>24],i+=V[(16711680&me)>>16],d+=V[(65280&me)>>8],p+=V[255&me],u+=a[O],h++}ee[w=$+B]=v/u,ae[w]=i/u,z[w]=d/u,H[w]=p/u}$+=T}for(E=(_=-y)*T,N=$=0;N<D;N++){for(B=0;B<T;B++){if(p=d=i=v=u=0,_<0)R=w=-_,h=B;else{if(D<=_)break;R=0,w=_,h=B+E}for(O=R;O<o&&!(D<=w);O++)v+=(V=g[O])[ee[h]],i+=V[ae[h]],d+=V[z[h]],p+=V[H[h]],u+=a[O],w++,h+=T;I[B+$]=v/u<<24|i/u<<16|d/u<<8|p/u}$+=T,E+=T,_++}b._setPixels(P,I)}};S.default=b},{"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int32-array":215,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232}],295:[function(t,C,S){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=a(t("../core/main")),o=a(t("omggif"));function a(b){return b&&b.__esModule?b:{default:b}}function g(b){return function(l){if(Array.isArray(l)){for(var c=0,u=new Array(l.length);c<l.length;c++)u[c]=l[c];return u}}(b)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}y.default.prototype.createImage=function(b,l){return y.default._validateParameters("createImage",arguments),new y.default.Image(b,l)},y.default.prototype.saveCanvas=function(){y.default._validateParameters("saveCanvas",arguments);var b,l,c,u,i=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(b=arguments[0],i.shift()):arguments[0]instanceof y.default.Element?(b=arguments[0].elt,i.shift()):b=this._curElement&&this._curElement.elt,1<=i.length&&(l=i[0]),c=(c=2<=i.length?i[1]:c)||y.default.prototype._checkFileExtension(l,c)[1]||"png"){default:u="image/png";break;case"jpeg":case"jpg":u="image/jpeg"}b.toBlob(function(d){y.default.prototype.downloadFile(d,l,c)},u)},y.default.prototype.encodeAndDownloadGif=function(b,l){for(var c=b.gifProperties,u=((Z=c.loopLimit)===1?Z=null:Z===null&&(Z=0),new Uint8Array(b.width*b.height*c.numFrames)),i=[],d={},p=0;p<c.numFrames;p++){for(var v=new Set,h=c.frames[p].image.data,w=h.length,_=new Uint32Array(b.width*b.height),E=0,R=0;E<w;E+=4,R++){var P=h[E+0]<<16|h[E+1]<<8|h[E+2]<<0;v.add(P),_[R]=P}var T=g(v).sort().toString();d[T]===void 0?d[T]={freq:1,frames:[p]}:(d[T].freq+=1,d[T].frames.push(p)),i.push(_)}for(var D=[],A=Object.keys(d).sort(function(z,H){return d[H].freq-d[z].freq}),I=A[0].split(",").map(function(z){return parseInt(z)}),U=(D=D.concat(d[I].frames),new Set(I)),B=1;B<A.length;B++){var N=A[B].split(",").map(function(z){return parseInt(z)}).filter(function(z){return!U.has(z)});if(I.length+N.length<=256){for(var O=0;O<N.length;O++)I.push(N[O]),U.add(N[O]);D=D.concat(d[A[B]].frames)}}D=new Set(D);for(var V={},q=0;q<I.length;q++)V[I[q]]||(V[I[q]]=q);for(var X=1;X<I.length;)X<<=1;I.length=X;for(var Z={loop:Z,palette:new Uint32Array(I)},re=new o.default.GifWriter(u,b.width,b.height,Z),ee={},ae=0;ae<c.numFrames;ae++)(function(z){var H=!D.has(z),$=H?[]:I,ne=new Uint8Array(b.width*b.height),oe={},le=new Set,Q=(i[z].forEach(function(be,Ue){H?(oe[be]===void 0&&(oe[be]=$.length,$.push(be)),ne[Ue]=oe[be]):ne[Ue]=V[be],0<z&&i[z-1][Ue]!==be&&le.add(be)}),{});if(0<(se=$.filter(function(be){return!le.has(be)})).length){var se=se[0],ye=(H?oe:V)[se];if(0<z){for(var me=0;me<i[z].length;me++)i[z-1][me]===i[z][me]&&(ne[me]=ye);Q.transparent=ye,ee.frameOpts.disposal=1}}if(Q.delay=c.frames[z].delay/10,H){for(var he=1;he<$.length;)he<<=1;$.length=he,Q.palette=new Uint32Array($)}0<z&&re.addFrame(0,0,b.width,b.height,ee.pixelPaletteIndex,ee.frameOpts),ee={pixelPaletteIndex:ne,frameOpts:Q}})(ae);ee.frameOpts.disposal=1,re.addFrame(0,0,b.width,b.height,ee.pixelPaletteIndex,ee.frameOpts),Z=new Blob([u.slice(0,re.end())],{type:"image/gif"}),y.default.prototype.downloadFile(Z,l,"gif")},y.default.prototype.saveFrames=function(b,l,c,u,i){y.default._validateParameters("saveFrames",arguments),c=y.default.prototype.constrain(c=c||3,0,15),c*=1e3,u=y.default.prototype.constrain(u||15,0,22);var d=0,p=y.default.prototype._makeFrame,v=this._curElement.elt,h=[],w=setInterval(function(){h.push(p(b+d,l,v)),d++},1e3/u);setTimeout(function(){if(clearInterval(w),i)i(h);else{var _=!0,E=!1,R=void 0;try{for(var P,T=h[Symbol.iterator]();!(_=(P=T.next()).done);_=!0){var D=P.value;y.default.prototype.downloadFile(D.imageData,D.filename,D.ext)}}catch(A){E=!0,R=A}finally{try{_||T.return==null||T.return()}finally{if(E)throw R}}}h=[]},.01+c)},y.default.prototype._makeFrame=function(b,l,c){var u;if(c=this?this._curElement.elt:c,l)switch(l.toLowerCase()){case"png":u="image/png";break;case"jpeg":case"jpg":u="image/jpeg";break;default:u="image/png"}else l="png",u="image/png";c=(c=c.toDataURL(u)).replace(u,"image/octet-stream");var i={};return i.imageData=c,i.filename=b,i.ext=l,i},t=y.default,S.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,omggif:246}],296:[function(t,C,S){function y(v){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(v)}function o(v){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(h){return y(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":y(h)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,t("regenerator-runtime/runtime");var a=u(t("../core/main")),g=u(t("../core/helpers")),b=function(v){if(v&&v.__esModule)return v;if(v===null||o(v)!=="object"&&typeof v!="function")return{default:v};var h=function(){var P;return typeof WeakMap!="function"?null:(P=new WeakMap,P)}();if(h&&h.has(v))return h.get(v);var w,_={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in v){var R;Object.prototype.hasOwnProperty.call(v,w)&&((R=E?Object.getOwnPropertyDescriptor(v,w):null)&&(R.get||R.set)?Object.defineProperty(_,w,R):_[w]=v[w])}return _.default=v,h&&h.set(v,_),_}(t("../core/constants")),l=u(t("omggif")),c=t("gifenc");function u(v){return v&&v.__esModule?v:{default:v}}function i(v,h,w,_,E,R,P){try{var T=v[R](P),D=T.value}catch(A){return void w(A)}T.done?h(D):Promise.resolve(D).then(_,E)}function d(v,h,w,_,E,R,P,T,D,A,I){var U,B,N,O,V,q,X,Z,re;return v===b.COVER&&(U=h,N=w,X=R,Z=P,q=T,re=D,B=A,O=I,X/=V=Math.max(X/B,Z/O),Z/=V,V=q,q=re,U===b.CENTER?V+=(B-X)/2:U===b.RIGHT&&(V+=B-X),N===b.CENTER?q+=(O-Z)/2:N===b.BOTTOM&&(q+=O-Z),T=(re={x:V,y:q,w:X,h:Z}).x,D=re.y,A=re.w,I=re.h),v===b.CONTAIN&&(U=h,B=w,N=_,O=E,V=R,q=P,X=A,Z=I,X/=re=Math.max(X/V,Z/q),Z/=re,re=N,N=O,U===b.CENTER?re+=(V-X)/2:U===b.RIGHT&&(re+=V-X),B===b.CENTER?N+=(q-Z)/2:B===b.BOTTOM&&(N+=q-Z),_=(v={x:re,y:N,w:X,h:Z}).x,E=v.y,R=v.w,P=v.h),{sx:T,sy:D,sw:A,sh:I,dx:_,dy:E,dw:R,dh:P}}function p(v,h){return 0<v&&v<h?v:h}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.loadImage=function(v,h,w){a.default._validateParameters("loadImage",arguments);var _=new a.default.Image(1,1,this),E=this,R=new Request(v,{method:"GET",mode:"cors"});return fetch(v,R).then(function(P){var T,D=P.headers.get("content-type");D===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),D&&D.includes("image/gif")?P.arrayBuffer().then(function(A){if(A){A=new Uint8Array(A);for(var I=_,U=h,B=w,N=(function(z){E._decrementPreload()}).bind(E),O=new l.default.GifReader(A),V=(I.width=I.canvas.width=O.width,I.height=I.canvas.height=O.height,[]),q=O.numFrames(),X=new Uint8ClampedArray(I.width*I.height*4),Z=0;Z<q;Z++){var re=O.frameInfo(Z),ee=I.drawingContext.getImageData(0,0,I.width,I.height),ae=(X=ee.data.slice(),function(z,H){try{H.decodeAndBlitFrameRGBA(z,X)}catch($){a.default._friendlyFileLoadError(8,I.src),typeof B=="function"?B($):console.error($)}}(Z,O),new ImageData(X,I.width,I.height));(ae=(I.drawingContext.putImageData(ae,0,0),re.delay))===0&&(ae=10),V.push({image:I.drawingContext.getImageData(0,0,I.width,I.height),delay:10*ae}),re.disposal===2?I.drawingContext.clearRect(re.x,re.y,re.width,re.height):re.disposal===3&&I.drawingContext.putImageData(ee,0,0,re.x,re.y,re.width,re.height)}(A=O.loopCount())===null?A=1:A===0&&(A=null),I.drawingContext.putImageData(V[0].image,0,0),1<V.length&&(I.gifProperties={displayIndex:0,loopLimit:A,loopCount:0,frames:V,numFrames:q,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof U=="function"&&U(I),N()}},function(A){typeof w=="function"?(w(A),E._decrementPreload()):console.error(A)}):((T=new Image).onload=function(){_.width=_.canvas.width=T.width,_.height=_.canvas.height=T.height,_.drawingContext.drawImage(T,0,0),_.modified=!0,typeof h=="function"&&h(_),E._decrementPreload()},T.onerror=function(A){a.default._friendlyFileLoadError(0,T.src),typeof w=="function"?(w(A),E._decrementPreload()):console.error(A)},v.indexOf("data:image/")!==0&&(T.crossOrigin="Anonymous"),T.src=v),_.modified=!0}).catch(function(P){a.default._friendlyFileLoadError(0,v),typeof w=="function"?(w(P),E._decrementPreload()):console.error(P)}),_},a.default.prototype.saveGif=function(){v=regeneratorRuntime.mark(function w(_,E){var R,P,T,D,A,I,U,B,N,O,V,q,X,Z,re,ee,ae,z,H,$,ne,oe,le,Q,se,ye,me=arguments;return regeneratorRuntime.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(R=2<me.length&&me[2]!==void 0?me[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof _!="string")throw TypeError("fileName parameter must be a string");he.next=3;break;case 3:if(typeof E!="number")throw TypeError("Duration parameter must be a number");he.next=5;break;case 5:if(P=R&&R.delay||0,T=R&&R.units||"seconds",D=R&&R.silent||!1,A=R&&R.notificationDuration||0,I=R&&R.notificationID||"progressBar",typeof P!="number")throw TypeError("Delay parameter must be a number");he.next=12;break;case 12:if(T!=="seconds"&&T!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');he.next=14;break;case 14:if(typeof D!="boolean")throw TypeError("Silent parameter must be a boolean");he.next=16;break;case 16:if(typeof A!="number")throw TypeError("Notification duration parameter must be a number");he.next=18;break;case 18:if(typeof I!="string")throw TypeError("Notification ID parameter must be a string");he.next=20;break;case 20:return this._recording=!0,O=this._targetFrameRate,U=(U=1/(O=O!==1/0&&O!==void 0&&O!==0?O:60)*1e3)<20?20:U,N=(B=T==="seconds"?E*O:E)+(O=T==="seconds"?P*O:P),O=O,this.frameCount=O,V=this._pixelDensity,this.pixelDensity(1),q=[],document.getElementById(I)!==null&&document.getElementById(I).remove(),D||((X=this.createP("")).id(I),X.style("font-size","16px"),X.style("font-family","Montserrat"),X.style("background-color","#ffffffa0"),X.style("padding","8px"),X.style("border-radius","10px"),X.position(0,0)),this._renderer instanceof a.default.RendererGL&&(re=this.drawingContext,Z=new Uint8Array(re.drawingBufferWidth*re.drawingBufferHeight*4)),this.noLoop(),he.next=39,Promise.resolve();case 39:if(O<N)return this.redraw(),Q=void 0,Q=this._renderer instanceof a.default.RendererGL?(Z=new Uint8Array(re.drawingBufferWidth*re.drawingBufferHeight*4),re.readPixels(0,0,re.drawingBufferWidth,re.drawingBufferHeight,re.RGBA,re.UNSIGNED_BYTE,Z),function(be){for(var Ue=parseInt(height/2),Ne=4*width,Ee=new Uint8Array(4*width),Te=0;Te<Ue;++Te){var qe=Te*Ne,$e=(height-Te-1)*Ne;Ee.set(be.subarray(qe,qe+Ne)),be.copyWithin(qe,$e,$e+Ne),be.set(Ee,$e)}return be}(Z)):this.drawingContext.getImageData(0,0,this.width,this.height).data,q.push(Q),O++,D||X.html("Saved frame <b>"+q.length.toString()+"</b> out of "+B.toString()),he.next=48,new Promise(function(be){return setTimeout(be,0)});he.next=50;break;case 48:he.next=39;break;case 50:D||X.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(V),ee=(0,c.GIFEncoder)(),ae=function(be){for(var Ue=new Uint8Array(be.length*be[0].length),Ne=0;Ne<be.length;Ne++)Ue.set(be[Ne],Ne*be[0].length);var Ee=(0,c.quantize)(Ue,256,{format:"rgba4444",oneBitAlpha:!0});return Ee.length===256?Ee[Ee.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Ee.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Ee}(q),z={},H=function(be){for(var Ue=be.length/4,Ne=new Uint8Array(Ue),Ee=0;Ee<Ue;Ee++){var Te=be[4*Ee]<<24|be[4*Ee+1]<<16|be[4*Ee+2]<<8|be[4*Ee+3];z[Te]===void 0&&(z[Te]=(0,c.nearestColorIndex)(ae,be.slice(4*Ee,4*(Ee+1)))),Ne[Ee]=z[Te]}return Ne},$=ae.length-1,ne=[],oe=0;case 60:if(!(oe<q.length)){he.next=71;break}if(le=H(q[oe]),Q=le.slice(),oe===0)ee.writeFrame(le,this.width,this.height,{palette:ae,delay:U,dispose:1});else{for(se=0;se<le.length;se++)le[se]===ne[se]&&(le[se]=$);ee.writeFrame(le,this.width,this.height,{delay:U,transparent:!0,transparentIndex:$,dispose:1})}return ne=Q,D||X.html("Rendered frame <b>"+oe.toString()+"</b> out of "+B.toString()),he.next=68,new Promise(function(be){return setTimeout(be,0)});case 68:oe++,he.next=60;break;case 71:ee.finish(),ye=ee.bytesView(),ye=new Blob([ye],{type:"image/gif"}),q=[],this._recording=!1,this.loop(),D||(X.html("Done. Downloading your gif!"),0<A&&setTimeout(function(){return X.remove()},1e3*A)),a.default.prototype.downloadFile(ye,_,"gif");case 80:case"end":return he.stop()}},w,this)});var v,h=function(){var w=this,_=arguments;return new Promise(function(E,R){var P=v.apply(w,_);function T(A){i(P,E,R,T,D,"next",A)}function D(A){i(P,E,R,T,D,"throw",A)}T(void 0)})};return function(w,_){return h.apply(this,arguments)}}(),a.default.prototype.image=function(v,h,w,_,E,R,P,T,D,A,I,U){a.default._validateParameters("image",arguments);var B=v.width,N=v.height,O=(U=U||b.CENTER,I=I||b.CENTER,v.elt&&v.elt.videoWidth&&!v.canvas&&(B=v.elt.videoWidth,N=v.elt.videoHeight),_||B);E=E||N,R=R||0,P=P||0,T=p(T||B,B),B=p(D||N,N),D=1,v.elt&&!v.canvas&&v.elt.style.width&&(D=v.elt.videoWidth&&!_?v.elt.videoWidth:v.elt.width,D/=parseInt(v.elt.style.width,10)),R*=D,P*=D,B*=D,T*=D,N=d(A,I,U,(N=g.default.modeAdjust(h,w,O,E,this._renderer._imageMode)).x,N.y,N.w,N.h,R,P,T,B),this._renderer.image(v,N.sx,N.sy,N.sw,N.sh,N.dx,N.dy,N.dw,N.dh)},a.default.prototype.tint=function(){for(var v=arguments.length,h=new Array(v),w=0;w<v;w++)h[w]=arguments[w];a.default._validateParameters("tint",h);var _=this.color.apply(this,h);this._renderer._tint=_.levels},a.default.prototype.noTint=function(){this._renderer._tint=null},a.default.prototype._getTintedImageCanvas=a.default.Renderer2D.prototype._getTintedImageCanvas,a.default.prototype.imageMode=function(v){a.default._validateParameters("imageMode",arguments),v!==b.CORNER&&v!==b.CORNERS&&v!==b.CENTER||(this._renderer._imageMode=v)},t=a.default,S.default=t},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/helpers":269,"../core/main":273,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,gifenc:243,omggif:246,"regenerator-runtime/runtime":250}],297:[function(t,C,S){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=a(t("../core/main")),o=a(t("./filters"));function a(b){return b&&b.__esModule?b:{default:b}}function g(b,l){for(var c=0;c<l.length;c++){var u=l[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(b,u.key,u)}}y.default.Image=function(){function b(u,i){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.width=u,this.height=i,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var l,c;return l=b,(c=[{key:"_animateGif",value:function(u){var i,d=this.gifProperties;u=u._lastRealFrameTime,d.lastChangeTime===0&&(d.lastChangeTime=u),d.playing&&(d.timeDisplayed=u-d.lastChangeTime,i=d.frames[d.displayIndex].delay,d.timeDisplayed>=i&&(i=Math.floor(d.timeDisplayed/i),d.timeDisplayed=0,d.lastChangeTime=u,d.displayIndex+=i,d.loopCount=Math.floor(d.displayIndex/d.numFrames),d.loopLimit!==null&&d.loopCount>=d.loopLimit?d.playing=!1:(u=d.displayIndex%d.numFrames,this.drawingContext.putImageData(d.frames[u].image,0,0),d.displayIndex=u,this.setModified(!0))))}},{key:"_setProperty",value:function(u,i){this[u]=i,this.setModified(!0)}},{key:"loadPixels",value:function(){y.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(u,i,d,p){y.default.Renderer2D.prototype.updatePixels.call(this,u,i,d,p),this.setModified(!0)}},{key:"get",value:function(u,i,d,p){return y.default._validateParameters("p5.Image.get",arguments),y.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var u=arguments.length,i=new Array(u),d=0;d<u;d++)i[d]=arguments[d];return y.default.Renderer2D.prototype._getPixel.apply(this,i)}},{key:"set",value:function(u,i,d){y.default.Renderer2D.prototype.set.call(this,u,i,d),this.setModified(!0)}},{key:"resize",value:function(u,i){u===0&&i===0?(u=this.canvas.width,i=this.canvas.height):u===0?u=this.canvas.width*i/this.canvas.height:i===0&&(i=this.canvas.height*u/this.canvas.width),u=Math.floor(u),i=Math.floor(i);var d=document.createElement("canvas");if(d.width=u,d.height=i,this.gifProperties)for(var p=this.gifProperties,v=0;v<p.numFrames;v++){for(var h=this.drawingContext.createImageData(u,i),w=(T=T=P=R=E=void 0,p.frames[v].image),_=h,E=0,R=0;R<_.height;R++)for(var P=0;P<_.width;P++){var T=Math.floor(P*w.width/_.width);T=4*(Math.floor(R*w.height/_.height)*w.width+T),_.data[E++]=w.data[T++],_.data[E++]=w.data[T++],_.data[E++]=w.data[T++],_.data[E++]=w.data[+T]}p.frames[v].image=h}d.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,d.width,d.height),this.canvas.width=this.width=u,this.canvas.height=this.height=i,this.drawingContext.drawImage(d,0,0,u,i,0,0,u,i),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var u=arguments.length,i=new Array(u),d=0;d<u;d++)i[d]=arguments[d];y.default.prototype.copy.apply(this,i)}},{key:"mask",value:function(u){var i=this.drawingContext.globalCompositeOperation,d=1,p=[u=u===void 0?this:u,0,0,(d=u instanceof y.default.Renderer?u._pInst._pixelDensity:d)*u.width,d*u.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var v=0;v<this.gifProperties.frames.length;v++)this.drawingContext.putImageData(this.gifProperties.frames[v].image,0,0),this.copy.apply(this,p),this.gifProperties.frames[v].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,p);this.drawingContext.globalCompositeOperation=i,this.setModified(!0)}},{key:"filter",value:function(u,i){o.default.apply(this.canvas,o.default[u],i),this.setModified(!0)}},{key:"blend",value:function(){for(var u=arguments.length,i=new Array(u),d=0;d<u;d++)i[d]=arguments[d];y.default._validateParameters("p5.Image.blend",arguments),y.default.prototype.blend.apply(this,i),this.setModified(!0)}},{key:"setModified",value:function(u){this._modified=u}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(u,i){this.gifProperties?y.default.prototype.encodeAndDownloadGif(this,u):y.default.prototype.saveCanvas(this.canvas,u,i)}},{key:"reset",value:function(){var u;this.gifProperties&&((u=this.gifProperties).playing=!0,u.timeSinceStart=0,u.timeDisplayed=0,u.lastChangeTime=0,u.loopCount=0,u.displayIndex=0,this.drawingContext.putImageData(u.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var u;if(this.gifProperties)return(u=this.gifProperties).displayIndex%u.numFrames}},{key:"setFrame",value:function(u){var i;this.gifProperties&&(u<(i=this.gifProperties).numFrames&&0<=u?(i.timeDisplayed=0,i.lastChangeTime=0,i.displayIndex=u,this.drawingContext.putImageData(i.frames[u].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(u,i){if(this.gifProperties){var d=this.gifProperties;if(i<d.numFrames&&0<=i)d.frames[i].delay=u;else{var p=!0,v=(i=!1,void 0);try{for(var h,w=d.frames[Symbol.iterator]();!(p=(h=w.next()).done);p=!0)h.value.delay=u}catch(_){i=!0,v=_}finally{try{p||w.return==null||w.return()}finally{if(i)throw v}}}}}}])&&g(l.prototype,c),b}(),t=y.default.Image,S.default=t},{"../core/main":273,"./filters":294,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],298:[function(t,C,S){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=a(t("../core/main")),o=a(t("./filters"));function a(g){return g&&g.__esModule?g:{default:g}}t("../color/p5.Color"),y.default.prototype.pixels=[],y.default.prototype.blend=function(){for(var g,b=arguments.length,l=new Array(b),c=0;c<b;c++)l[c]=arguments[c];y.default._validateParameters("blend",l),this._renderer?(g=this._renderer).blend.apply(g,l):y.default.Renderer2D.prototype.blend.apply(this,l)},y.default.prototype.copy=function(){for(var g,b,l,c,u,i,d,p,v,h=arguments.length,w=new Array(h),_=0;_<h;_++)w[_]=arguments[_];if(y.default._validateParameters("copy",w),w.length===9)g=w[0],b=w[1],l=w[2],c=w[3],u=w[4],i=w[5],d=w[6],p=w[7],v=w[8];else{if(w.length!==8)throw new Error("Signature not supported");g=this,b=w[0],l=w[1],c=w[2],u=w[3],i=w[4],d=w[5],p=w[6],v=w[7]}y.default.prototype._copyHelper(this,g,b,l,c,u,i,d,p,v)},y.default.prototype._copyHelper=function(g,b,l,c,u,i,d,p,v,h){b.loadPixels();var w=b.canvas.width/b.width,_=0,E=0;b._renderer&&b._renderer.isP3D&&(_=b.width/2,E=b.height/2),g._renderer&&g._renderer.isP3D?y.default.RendererGL.prototype.image.call(g._renderer,b,l+_,c+E,u,i,d,p,v,h):g.drawingContext.drawImage(b.canvas,w*(l+_),w*(c+E),w*u,w*i,d,p,v,h)},y.default.prototype.filter=function(g,b){y.default._validateParameters("filter",arguments),this.canvas!==void 0?o.default.apply(this.canvas,o.default[g],b):o.default.apply(this.elt,o.default[g],b)},y.default.prototype.get=function(g,b,l,c){var u;return y.default._validateParameters("get",arguments),(u=this._renderer).get.apply(u,arguments)},y.default.prototype.loadPixels=function(){for(var g=arguments.length,b=new Array(g),l=0;l<g;l++)b[l]=arguments[l];y.default._validateParameters("loadPixels",b),this._renderer.loadPixels()},y.default.prototype.set=function(g,b,l){this._renderer.set(g,b,l)},y.default.prototype.updatePixels=function(g,b,l,c){y.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(g,b,l,c)},t=y.default,S.default=t},{"../color/p5.Color":260,"../core/main":273,"./filters":294,"core-js/modules/es.array.filter":155}],299:[function(t,C,S){function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var o=b(t("../core/main")),a=(t("whatwg-fetch"),t("es6-promise/auto"),b(t("fetch-jsonp"))),g=b(t("file-saver"));function b(i){return i&&i.__esModule?i:{default:i}}function l(i){return(l=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(d){return y(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":y(d)})(i)}function c(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function u(i,d){d&&d!==!0&&d!=="true"||(d="");var p="";return(i=i||"untitled")&&i.includes(".")&&(p=i.split(".").pop()),d&&p!==d&&(p=d,i="".concat(i,".").concat(p)),[i,p]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),o.default.prototype.loadJSON=function(){for(var i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];o.default._validateParameters("loadJSON",d);for(var v,h,w,_=d[0],E={},R="json",P=1;P<d.length;P++){var T=d[P];typeof T=="string"?T!=="jsonp"&&T!=="json"||(R=T):typeof T=="function"?v?h=T:v=T:l(T)==="object"&&(T.hasOwnProperty("jsonpCallback")||T.hasOwnProperty("jsonpCallbackFunction"))&&(R="jsonp",w=T)}var D=this;return this.httpDo(_,"GET",w,R,function(A){for(var I in A)E[I]=A[I];v!==void 0&&v(A),D._decrementPreload()},function(A){if(o.default._friendlyFileLoadError(5,_),!h)throw A;h(A)}),E},o.default.prototype.loadStrings=function(){for(var i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];o.default._validateParameters("loadStrings",d);for(var v,h,w=[],_=1;_<d.length;_++){var E=d[_];typeof E=="function"&&(v===void 0?v=E:h===void 0&&(h=E))}var R=this;return o.default.prototype.httpDo.call(this,d[0],"GET","text",function(P){for(var T=P.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),D=0,A=T.length;D<A;D+=32768)Array.prototype.push.apply(w,T.slice(D,Math.min(D+32768,A)));v!==void 0&&v(w),R._decrementPreload()},function(P){if(o.default._friendlyFileLoadError(3,P),!h)throw P;h(P)}),w},o.default.prototype.loadTable=function(i){var d,p,v,h=!1,w=i.substring(i.lastIndexOf(".")+1,i.length);w==="csv"?v=",":w==="ssv"?v=";":w==="tsv"&&(v="	");for(var _=1;_<arguments.length;_++)typeof arguments[_]=="function"?d===void 0?d=arguments[_]:p===void 0&&(p=arguments[_]):typeof arguments[_]=="string"&&(arguments[_]==="header"&&(h=!0),arguments[_]==="csv"?v=",":arguments[_]==="ssv"?v=";":arguments[_]==="tsv"&&(v="	"));var E=new o.default.Table,R=this;return this.httpDo(i,"GET","table",function(P){for(var T,D,A={},I=[],U=0,B=null,N=function(){A.currentState=0,A.token=""},O=function(){B.push(A.token),N()},V=function(){A.currentState=4,I.push(B),B=null};;){if((T=P[U++])==null){if(A.escaped)throw new Error("Unclosed quote in file.");if(B){O(),V();break}}if(B===null&&(A.escaped=!1,B=[],N()),A.currentState===0){if(T==='"'){A.escaped=!0,A.currentState=1;continue}A.currentState=1}if(A.currentState===1&&A.escaped)if(T==='"')P[U]==='"'?(A.token+='"',U++):(A.escaped=!1,A.currentState=2);else{if(T==="\r")continue;A.token+=T}else T==="\r"?(P[U]===`
`&&U++,O(),V()):T===`
`?(O(),V()):T===v?O():A.currentState===1&&(A.token+=T)}if(h)E.columns=I.shift();else for(var q=0;q<I[0].length;q++)E.columns[q]="null";for(var X=0;X<I.length;X++)(I[X].length!==1||I[X][0]!=="undefined"&&I[X][0]!=="")&&((D=new o.default.TableRow).arr=I[X],D.obj=function(Z,re){if((re=re||[])===void 0)for(var ee=0;ee<Z.length;ee++)re[ee.toString()]=ee;return Object.fromEntries(re.map(function(ae,z){return[ae,Z[z]]}))}(I[X],E.columns),E.addRow(D));typeof d=="function"&&d(E),R._decrementPreload()},function(P){o.default._friendlyFileLoadError(2,i),p?p(P):console.error(P)}),E},o.default.prototype.loadXML=function(){for(var i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];for(var v,h,w=new o.default.XML,_=1;_<d.length;_++){var E=d[_];typeof E=="function"&&(v===void 0?v=E:h===void 0&&(h=E))}var R=this;return this.httpDo(d[0],"GET","xml",function(P){for(var T in P)w[T]=P[T];v!==void 0&&v(w),R._decrementPreload()},function(P){if(o.default._friendlyFileLoadError(1,P),!h)throw P;h(P)}),w},o.default.prototype.loadBytes=function(i,d,p){var v={},h=this;return this.httpDo(i,"GET","arrayBuffer",function(w){v.bytes=new Uint8Array(w),typeof d=="function"&&d(v),h._decrementPreload()},function(w){if(o.default._friendlyFileLoadError(6,i),!p)throw w;p(w)}),v},o.default.prototype.httpGet=function(){o.default._validateParameters("httpGet",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"GET"),o.default.prototype.httpDo.apply(this,i)},o.default.prototype.httpPost=function(){o.default._validateParameters("httpPost",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"POST"),o.default.prototype.httpDo.apply(this,i)},o.default.prototype.httpDo=function(){for(var i,d,p,v={},h=0,w="text/plain",_=arguments.length-1;0<_&&typeof(_<0||arguments.length<=_?void 0:arguments[_])=="function";_--)h++;var E=arguments.length<=0?void 0:arguments[0];if((I=arguments.length-h)==2&&typeof E=="string"&&l(arguments.length<=1?void 0:arguments[1])==="object")U=new Request(E,arguments.length<=1?void 0:arguments[1]),d=arguments.length<=2?void 0:arguments[2],p=arguments.length<=3?void 0:arguments[3];else{for(var R,P="GET",T=1;T<arguments.length;T++){var D=T<0||arguments.length<=T?void 0:arguments[T];if(typeof D=="string")D==="GET"||D==="POST"||D==="PUT"||D==="DELETE"?P=D:D==="json"||D==="jsonp"||D==="binary"||D==="arrayBuffer"||D==="xml"||D==="text"||D==="table"?i=D:R=D;else if(typeof D=="number")R=D.toString();else if(l(D)==="object")if(D.hasOwnProperty("jsonpCallback")||D.hasOwnProperty("jsonpCallbackFunction"))for(var A in D)v[A]=D[A];else w=D instanceof o.default.XML?(R=D.serialize(),"application/xml"):(R=JSON.stringify(D),"application/json");else typeof D=="function"&&(d?p=D:d=D)}var I=P==="GET"?new Headers:new Headers({"Content-Type":w}),U=new Request(E,{method:P,mode:"cors",body:R,headers:I})}return(I=(I=(i=i||(E.includes("json")?"json":E.includes("xml")?"xml":"text"))==="jsonp"?(0,a.default)(E,v):fetch(U)).then(function(B){if(!B.ok)throw(N=new Error(B.body)).status=B.status,N.ok=!1,N;var N=0;switch((N=i!=="jsonp"?B.headers.get("content-length"):N)&&64e6<N&&o.default._friendlyFileLoadError(7,E),i){case"json":case"jsonp":return B.json();case"binary":return B.blob();case"arrayBuffer":return B.arrayBuffer();case"xml":return B.text().then(function(O){return O=new DOMParser().parseFromString(O,"text/xml"),new o.default.XML(O.documentElement)});default:return B.text()}})).then(d||function(){}),I.catch(p||console.error),I},window.URL=window.URL||window.webkitURL,o.default.prototype._pWriters=[],o.default.prototype.createWriter=function(i,d){var p,v;for(v in o.default.prototype._pWriters)if(o.default.prototype._pWriters[v].name===i)return p=new o.default.PrintWriter(i+this.millis(),d),o.default.prototype._pWriters.push(p),p;return p=new o.default.PrintWriter(i,d),o.default.prototype._pWriters.push(p),p},o.default.PrintWriter=function(i,d){var p=this;this.name=i,this.content="",this.write=function(v){this.content+=v},this.print=function(v){this.content+="".concat(v,`
`)},this.clear=function(){this.content=""},this.close=function(){var v,h=[];for(v in h.push(this.content),o.default.prototype.writeFile(h,i,d),o.default.prototype._pWriters)o.default.prototype._pWriters[v].name===this.name&&o.default.prototype._pWriters.splice(v,1);p.clear(),p={}}},o.default.prototype.save=function(i,d,p){var v=arguments,h=(this._curElement||this).elt;if(v.length===0)o.default.prototype.saveCanvas(h);else if(v[0]instanceof o.default.Renderer||v[0]instanceof o.default.Graphics)o.default.prototype.saveCanvas(v[0].elt,v[1],v[2]);else if(v.length===1&&typeof v[0]=="string")o.default.prototype.saveCanvas(h,v[0]);else switch(u(v[1],v[2])[1]){case"json":return void o.default.prototype.saveJSON(v[0],v[1],v[2]);case"txt":return void o.default.prototype.saveStrings(v[0],v[1],v[2]);default:v[0]instanceof Array?o.default.prototype.saveStrings(v[0],v[1],v[2]):v[0]instanceof o.default.Table?o.default.prototype.saveTable(v[0],v[1],v[2]):v[0]instanceof o.default.Image?o.default.prototype.saveCanvas(v[0].canvas,v[1]):v[0]instanceof o.default.SoundFile&&o.default.prototype.saveSound(v[0],v[1],v[2],v[3])}},o.default.prototype.saveJSON=function(i,d,p){o.default._validateParameters("saveJSON",arguments),p=p?JSON.stringify(i):JSON.stringify(i,void 0,2),this.saveStrings(p.split(`
`),d,"json")},o.default.prototype.saveJSONObject=o.default.prototype.saveJSON,o.default.prototype.saveJSONArray=o.default.prototype.saveJSON,o.default.prototype.saveStrings=function(i,d,p,v){o.default._validateParameters("saveStrings",arguments);for(var h=this.createWriter(d,p||"txt"),w=0;w<i.length;w++)v?h.write(i[w]+`\r
`):h.write(i[w]+`
`);h.close(),h.clear()},o.default.prototype.saveTable=function(i,d,p){o.default._validateParameters("saveTable",arguments),v=p===void 0?d.substring(d.lastIndexOf(".")+1,d.length):p;var v,h=this.createWriter(d,v),w=i.columns,_=v==="tsv"?"	":",";if(v!=="html"){if(w[0]!=="0"){for(var E=0;E<w.length;E++)E<w.length-1?h.write(w[E]+_):h.write(w[E]);h.write(`
`)}for(var R=0;R<i.rows.length;R++){var P=void 0;for(P=0;P<i.rows[R].arr.length;P++)P<i.rows[R].arr.length-1?v==="csv"&&String(i.rows[R].arr[P]).includes(",")?h.write('"'+i.rows[R].arr[P]+'"'+_):h.write(i.rows[R].arr[P]+_):v==="csv"&&String(i.rows[R].arr[P]).includes(",")?h.write('"'+i.rows[R].arr[P]+'"'):h.write(i.rows[R].arr[P]);h.write(`
`)}}else{if(h.print("<html>"),h.print("<head>"),h.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),h.print("</head>"),h.print("<body>"),h.print("  <table>"),w[0]!=="0"){h.print("    <tr>");for(var T=0;T<w.length;T++){var D=c(w[T]);h.print("      <td>".concat(D)),h.print("      </td>")}h.print("    </tr>")}for(var A=0;A<i.rows.length;A++){h.print("    <tr>");for(var I=0;I<i.columns.length;I++){var U=c(i.rows[A].getString(I));h.print("      <td>".concat(U)),h.print("      </td>")}h.print("    </tr>")}h.print("  </table>"),h.print("</body>"),h.print("</html>")}h.close(),h.clear()},o.default.prototype.writeFile=function(i,d,p){var v="application/octet-stream";o.default.prototype._isSafari()&&(v="text/plain"),i=new Blob(i,{type:v}),o.default.prototype.downloadFile(i,d,p)},o.default.prototype.downloadFile=function(i,d,p){var v;p=(d=u(d,p))[0],i instanceof Blob?g.default.saveAs(i,p):((v=document.createElement("a")).href=i,v.download=p,v.onclick=function(h){document.body.removeChild(h.target),h.stopPropagation()},v.style.display="none",document.body.appendChild(v),o.default.prototype._isSafari()&&(i=(i=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(d[1],'"'),alert(i)),v.click())},o.default.prototype._checkFileExtension=u,o.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},t=o.default,S.default=t},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238,"es6-promise/auto":239,"fetch-jsonp":241,"file-saver":242,"whatwg-fetch":251}],300:[function(t,C,S){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(a,g){for(var b=0;b<g.length;b++){var l=g[b];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}y.default.Table=function(){function a(l){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var g,b;return g=a,(b=[{key:"addRow",value:function(l){if((l=l||new y.default.TableRow).arr===void 0||l.obj===void 0)throw new Error("invalid TableRow: ".concat(l));return(l.table=this).rows.push(l),l}},{key:"removeRow",value:function(l){this.rows[l].table=null,l=this.rows.splice(l+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(l)}},{key:"getRow",value:function(l){return this.rows[l]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(l,c){if(typeof c=="string"){for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[c]===l)return this.rows[u]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[c]===l)return this.rows[i];return null}},{key:"findRows",value:function(l,c){var u=[];if(typeof c=="string")for(var i=0;i<this.rows.length;i++)this.rows[i].obj[c]===l&&u.push(this.rows[i]);else for(var d=0;d<this.rows.length;d++)this.rows[d].arr[c]===l&&u.push(this.rows[d]);return u}},{key:"matchRow",value:function(l,c){if(typeof c=="number"){for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[c].match(l))return this.rows[u]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[c].match(l))return this.rows[i];return null}},{key:"matchRows",value:function(l,c){var u=[];if(typeof c=="number")for(var i=0;i<this.rows.length;i++)this.rows[i].arr[c].match(l)&&u.push(this.rows[i]);else for(var d=0;d<this.rows.length;d++)this.rows[d].obj[c].match(l)&&u.push(this.rows[d]);return u}},{key:"getColumn",value:function(l){var c=[];if(typeof l=="string")for(var u=0;u<this.rows.length;u++)c.push(this.rows[u].obj[l]);else for(var i=0;i<this.rows.length;i++)c.push(this.rows[i].arr[l]);return c}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(l){this.columns.push(l||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(l,c){for(var u=[],i=0;i<l.length;i++)u.push(l.charAt(i).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var d=new RegExp(u.join("|"),"g");if(c===void 0)for(var p=0;p<this.columns.length;p++)for(var v=0;v<this.rows.length;v++){var h=(h=this.rows[v].arr[p]).replace(d,"");this.rows[v].arr[p]=h,this.rows[v].obj[this.columns[p]]=h}else if(typeof c=="string")for(var w=0;w<this.rows.length;w++){var _=(_=this.rows[w].obj[c]).replace(d,""),E=(this.rows[w].obj[c]=_,this.columns.indexOf(c));this.rows[w].arr[E]=_}else for(var R=0;R<this.rows.length;R++){var P=(P=this.rows[R].arr[c]).replace(d,"");this.rows[R].arr[c]=P,this.rows[R].obj[this.columns[c]]=P}}},{key:"trim",value:function(l){var c=new RegExp(" ","g");if(l===void 0)for(var u=0;u<this.columns.length;u++)for(var i=0;i<this.rows.length;i++){var d=(d=this.rows[i].arr[u]).replace(c,"");this.rows[i].arr[u]=d,this.rows[i].obj[this.columns[u]]=d}else if(typeof l=="string")for(var p=0;p<this.rows.length;p++){var v=(v=this.rows[p].obj[l]).replace(c,""),h=(this.rows[p].obj[l]=v,this.columns.indexOf(l));this.rows[p].arr[h]=v}else for(var w=0;w<this.rows.length;w++){var _=(_=this.rows[w].arr[l]).replace(c,"");this.rows[w].arr[l]=_,this.rows[w].obj[this.columns[l]]=_}}},{key:"removeColumn",value:function(l){typeof l=="string"?u=this.columns.indexOf(c=l):c=this.columns[u=l];var c,u;l=this.columns.splice(u+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(l);for(var i=0;i<this.rows.length;i++){var d=this.rows[i].arr,p=d.splice(u+1,d.length);d.pop(),this.rows[i].arr=d.concat(p),delete this.rows[i].obj[c]}}},{key:"set",value:function(l,c,u){this.rows[l].set(c,u)}},{key:"setNum",value:function(l,c,u){this.rows[l].setNum(c,u)}},{key:"setString",value:function(l,c,u){this.rows[l].setString(c,u)}},{key:"get",value:function(l,c){return this.rows[l].get(c)}},{key:"getNum",value:function(l,c){return this.rows[l].getNum(c)}},{key:"getString",value:function(l,c){return this.rows[l].getString(c)}},{key:"getObject",value:function(l){for(var c,u={},i=0;i<this.rows.length;i++)if(c=this.rows[i].obj,typeof l=="string"){if(!(0<=this.columns.indexOf(l)))throw new Error('This table has no column named "'.concat(l,'"'));u[c[l]]=c}else u[i]=this.rows[i].obj;return u}},{key:"getArray",value:function(){for(var l=[],c=0;c<this.rows.length;c++)l.push(this.rows[c].arr);return l}}])&&o(g.prototype,b),a}(),t=y.default,S.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.splice":166,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194}],301:[function(t,C,S){function y(o,a){for(var g=0;g<a.length;g++){var b=a[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.TableRow=function(){function o(b,l){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");var c=[];b&&(c=b.split(l=l||",")),this.arr=c,this.obj=Object.fromEntries(c.entries()),this.table=null}var a,g;return a=o,(g=[{key:"set",value:function(b,l){if(typeof b=="string"){var c=this.table.columns.indexOf(b);if(!(0<=c))throw new Error('This table has no column named "'.concat(b,'"'));this.obj[b]=l,this.arr[c]=l}else{if(!(b<this.table.columns.length))throw new Error("Column #".concat(b," is out of the range of this table"));this.arr[b]=l,c=this.table.columns[b],this.obj[c]=l}}},{key:"setNum",value:function(b,l){l=parseFloat(l),this.set(b,l)}},{key:"setString",value:function(b,l){l=l.toString(),this.set(b,l)}},{key:"get",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b]}},{key:"getNum",value:function(b){var l=parseFloat(typeof b=="string"?this.obj[b]:this.arr[b]);if(l.toString()==="NaN")throw"Error: ".concat(this.obj[b]," is NaN (Not a Number)");return l}},{key:"getString",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b].toString()}}])&&y(a.prototype,g),o}(),t=t.default,S.default=t},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236}],302:[function(t,C,S){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(a,g){for(var b=0;b<g.length;b++){var l=g[b];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}y.default.XML=function(){function a(l){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");l?this.DOM=l:(l=document.implementation.createDocument(null,"doc"),this.DOM=l.createElement("root"))}var g,b;return g=a,(b=[{key:"getParent",value:function(){return new y.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(l){var c=this.DOM.innerHTML,u=this.DOM.attributes,i=document.implementation.createDocument(null,"default").createElement(l);i.innerHTML=c;for(var d=0;d<u.length;d++)i.setAttribute(u[d].nodeName,u.nodeValue);this.DOM=i}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var l=[],c=0;c<this.DOM.childNodes.length;c++)l.push(this.DOM.childNodes[c].nodeName);return l}},{key:"getChildren",value:function(l){return function(c){for(var u=[],i=0;i<c.length;i++)u.push(new y.default.XML(c[i]));return u}(l?this.DOM.getElementsByTagName(l):this.DOM.children)}},{key:"getChild",value:function(l){if(typeof l!="string")return new y.default.XML(this.DOM.children[l]);var c=!0,u=!1,i=void 0;try{for(var d,p=this.DOM.children[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var v=d.value;if(v.tagName===l)return new y.default.XML(v)}}catch(h){u=!0,i=h}finally{try{c||p.return==null||p.return()}finally{if(u)throw i}}}},{key:"addChild",value:function(l){l instanceof y.default.XML&&this.DOM.appendChild(l.DOM)}},{key:"removeChild",value:function(l){var c=-1;if(typeof l=="string"){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===l){c=u;break}}else c=l;c!==-1&&this.DOM.removeChild(this.DOM.children[c])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var l=[],c=!0,u=!1,i=void 0;try{for(var d,p=this.DOM.attributes[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var v=d.value;l.push(v.nodeName)}}catch(h){u=!0,i=h}finally{try{c||p.return==null||p.return()}finally{if(u)throw i}}return l}},{key:"hasAttribute",value:function(l){var c={},u=!0,i=!1,d=void 0;try{for(var p,v=this.DOM.attributes[Symbol.iterator]();!(u=(p=v.next()).done);u=!0){var h=p.value;c[h.nodeName]=h.nodeValue}}catch(w){i=!0,d=w}finally{try{u||v.return==null||v.return()}finally{if(i)throw d}}return!!c[l]}},{key:"getNum",value:function(l,c){var u={},i=!0,d=!1,p=void 0;try{for(var v,h=this.DOM.attributes[Symbol.iterator]();!(i=(v=h.next()).done);i=!0){var w=v.value;u[w.nodeName]=w.nodeValue}}catch(_){d=!0,p=_}finally{try{i||h.return==null||h.return()}finally{if(d)throw p}}return Number(u[l])||c||0}},{key:"getString",value:function(l,c){var u={},i=!0,d=!1,p=void 0;try{for(var v,h=this.DOM.attributes[Symbol.iterator]();!(i=(v=h.next()).done);i=!0){var w=v.value;u[w.nodeName]=w.nodeValue}}catch(_){d=!0,p=_}finally{try{i||h.return==null||h.return()}finally{if(d)throw p}}return u[l]?String(u[l]):c||null}},{key:"setAttribute",value:function(l,c){this.DOM.setAttribute(l,c)}},{key:"getContent",value:function(l){var c=this.DOM.textContent;return(c=c.replace(/\s\s+/g,","))||l||null}},{key:"setContent",value:function(l){this.DOM.children.length||(this.DOM.textContent=l)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&o(g.prototype,b),a}(),t=y.default,S.default=t},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],303:[function(t,C,S){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var a=arguments.length,g=[],b=0,l=0;l<a;l++){var c=arguments[l];if((c=+c)==1/0||c===-1/0)return 1/0;b<(c=Math.abs(c))&&(b=c),g[l]=c}b===0&&(b=1);for(var u=0,i=0,d=0;d<a;d++){var p,v=u+(p=(p=g[d]/b)*p-i);i=v-u-p,u=v}return Math.sqrt(u)*b}y.default.prototype.abs=Math.abs,y.default.prototype.ceil=Math.ceil,y.default.prototype.constrain=function(a,g,b){return y.default._validateParameters("constrain",arguments),Math.max(Math.min(a,b),g)},y.default.prototype.dist=function(){for(var a=arguments.length,g=new Array(a),b=0;b<a;b++)g[b]=arguments[b];return y.default._validateParameters("dist",g),g.length===4?o(g[2]-g[0],g[3]-g[1]):g.length===6?o(g[3]-g[0],g[4]-g[1],g[5]-g[2]):void 0},y.default.prototype.exp=Math.exp,y.default.prototype.floor=Math.floor,y.default.prototype.lerp=function(a,g,b){return y.default._validateParameters("lerp",arguments),b*(g-a)+a},y.default.prototype.log=Math.log,y.default.prototype.mag=function(a,g){return y.default._validateParameters("mag",arguments),o(a,g)},y.default.prototype.map=function(a,g,b,l,c,u){return y.default._validateParameters("map",arguments),a=(a-g)/(b-g)*(c-l)+l,u?l<c?this.constrain(a,l,c):this.constrain(a,c,l):a},y.default.prototype.max=function(){for(var a=function(c){var u=-1/0,i=!0,d=!1,p=void 0;try{for(var v,h=c[Symbol.iterator]();!(i=(v=h.next()).done);i=!0){var w=v.value;u=u<w?w:u}}catch(_){d=!0,p=_}finally{try{i||h.return==null||h.return()}finally{if(d)throw p}}return u},g=arguments.length,b=new Array(g),l=0;l<g;l++)b[l]=arguments[l];return b[0]instanceof Array?a(b[0]):a(b)},y.default.prototype.min=function(){for(var a=function(c){var u=1/0,i=!0,d=!1,p=void 0;try{for(var v,h=c[Symbol.iterator]();!(i=(v=h.next()).done);i=!0){var w=v.value;u=w<u?w:u}}catch(_){d=!0,p=_}finally{try{i||h.return==null||h.return()}finally{if(d)throw p}}return u},g=arguments.length,b=new Array(g),l=0;l<g;l++)b[l]=arguments[l];return b[0]instanceof Array?a(b[0]):a(b)},y.default.prototype.norm=function(a,g,b){return y.default._validateParameters("norm",arguments),this.map(a,g,b,0,1)},y.default.prototype.pow=Math.pow,y.default.prototype.round=function(a,g){return g?(g=Math.pow(10,g),Math.round(a*g)/g):Math.round(a)},y.default.prototype.sq=function(a){return a*a},y.default.prototype.sqrt=Math.sqrt,y.default.prototype.fract=function(a){y.default._validateParameters("fract",arguments);var g,b=0;return a=Number(a),isNaN(a)||Math.abs(a)===1/0?a:(a<0&&(a=-a,b=1),String(a).includes(".")&&!String(a).includes("e")?(g=String(a),g=+("0"+g.slice(g.indexOf("."))),Math.abs(b-g)):a<1?Math.abs(b-a):0)},t=y.default,S.default=t},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],304:[function(t,C,S){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(g,b,l){return(o=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(c,u,i){var d=[null];return d.push.apply(d,u),u=new(Function.bind.apply(c,d)),i&&a(u,i.prototype),u}).apply(null,arguments)}function a(g,b){return(a=Object.setPrototypeOf||function(l,c){return l.__proto__=c,l})(g,b)}y.default.prototype.createVector=function(g,b,l){return this instanceof y.default?o(y.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new y.default.Vector(g,b,l)},t=y.default,S.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186}],305:[function(t,C,S){function y(l){return .5*(1-Math.cos(l*Math.PI))}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};var o,a=4095,g=4,b=.5;t.default.prototype.noise=function(l){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(o==null){o=new Array(4096);for(var i=0;i<4096;i++)o[i]=Math.random()}l<0&&(l=-l),c<0&&(c=-c),u<0&&(u=-u);for(var d,p,v=Math.floor(l),h=Math.floor(c),w=Math.floor(u),_=l-v,E=c-h,R=u-w,P=0,T=.5,D=0;D<g;D++){var A=v+(h<<4)+(w<<8),I=y(_),U=y(E),B=o[A&a];B+=I*(o[A+1&a]-B),d=o[A+16&a],B+=U*((d+=I*(o[A+16+1&a]-d))-B),d=o[(A+=256)&a],d+=I*(o[A+1&a]-d),p=o[A+16&a],d+=U*((p+=I*(o[A+16+1&a]-p))-d),P+=(B+=y(R)*(d-B))*T,T*=b,v<<=1,h<<=1,w<<=1,1<=(_*=2)&&(v++,_--),1<=(E*=2)&&(h++,E--),1<=(R*=2)&&(w++,R--)}return P},t.default.prototype.noiseDetail=function(l,c){0<l&&(g=l),0<c&&(b=c)},t.default.prototype.noiseSeed=function(l){u=4294967296;var c,u,i=function(){return(c=(1664525*c+1013904223)%u)/u};(function(p){c=(p??Math.random()*u)>>>0})(l),o=new Array(4096);for(var d=0;d<4096;d++)o[d]=i()},t=t.default,S.default=t},{"../core/main":273}],306:[function(t,C,S){function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(i)}function o(i){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(d){return y(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":y(d)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(u=t("../core/main"))&&u.__esModule?u:{default:u},g=function(i){if(i&&i.__esModule)return i;if(i===null||o(i)!=="object"&&typeof i!="function")return{default:i};var d=function(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,_)}();if(d&&d.has(i))return d.get(i);var p,v={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in i){var w;Object.prototype.hasOwnProperty.call(i,p)&&((w=h?Object.getOwnPropertyDescriptor(i,p):null)&&(w.get||w.set)?Object.defineProperty(v,p,w):v[p]=i[p])}return v.default=i,d&&d.set(i,v),v}(t("../core/constants"));function b(i,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}function l(i,d){return i!==0&&(this.x=this.x%i),d!==0&&(this.y=this.y%d),this}function c(i,d,p){return i!==0&&(this.x=this.x%i),d!==0&&(this.y=this.y%d),p!==0&&(this.z=this.z%p),this}a.default.Vector=function(){function i(){var h=i;if(!((E=this)instanceof h))throw new TypeError("Cannot call a class as a function");var w,_,E=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],w=(arguments.length<=2?void 0:arguments[2])||0,_=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(w=(arguments.length<=0?void 0:arguments[0])||0,_=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=w,this.y=_,this.z=E}var d,p,v;return d=i,v=[{key:"fromAngle",value:function(h,w){return new a.default.Vector((w=w===void 0?1:w)*Math.cos(h),w*Math.sin(h),0)}},{key:"fromAngles",value:function(h,w,_){_===void 0&&(_=1);var E=Math.cos(w),R=(w=Math.sin(w),Math.cos(h));return h=Math.sin(h),new a.default.Vector(_*h*w,-_*R,_*h*E)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*g.TWO_PI)}},{key:"random3D",value:function(){var h=Math.random()*g.TWO_PI,w=2*Math.random()-1,_=(E=Math.sqrt(1-w*w))*Math.cos(h),E=E*Math.sin(h);return new a.default.Vector(_,E,w)}},{key:"copy",value:function(h){return h.copy(h)}},{key:"add",value:function(h,w,_){return _?_.set(h):(_=h.copy(),arguments.length===3&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),_.add(w),_}},{key:"rem",value:function(h,w){if(h instanceof a.default.Vector&&w instanceof a.default.Vector)return(h=h.copy()).rem(w),h}},{key:"sub",value:function(h,w,_){return _?_.set(h):(_=h.copy(),arguments.length===3&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),_.sub(w),_}},{key:"mult",value:function(h,w,_){return _?_.set(h):(_=h.copy(),arguments.length===3&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),_.mult(w),_}},{key:"rotate",value:function(h,w,_){return arguments.length===2?_=h.copy():(_ instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),_.set(h)),_.rotate(w),_}},{key:"div",value:function(h,w,_){return _?_.set(h):(_=h.copy(),arguments.length===3&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),_.div(w),_}},{key:"dot",value:function(h,w){return h.dot(w)}},{key:"cross",value:function(h,w){return h.cross(w)}},{key:"dist",value:function(h,w){return h.dist(w)}},{key:"lerp",value:function(h,w,_,E){return E?E.set(h):(E=h.copy(),arguments.length===4&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),E.lerp(w,_),E}},{key:"slerp",value:function(h,w,_,E){return E?E.set(h):(E=h.copy(),arguments.length===4&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),E.slerp(w,_),E}},{key:"mag",value:function(h){return h.mag()}},{key:"magSq",value:function(h){return h.magSq()}},{key:"normalize",value:function(h,w){return arguments.length<2?w=h.copy():(w instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),w.set(h)),w.normalize()}},{key:"limit",value:function(h,w,_){return arguments.length<3?_=h.copy():(_ instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),_.set(h)),_.limit(w)}},{key:"setMag",value:function(h,w,_){return arguments.length<3?_=h.copy():(_ instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),_.set(h)),_.setMag(w)}},{key:"heading",value:function(h){return h.heading()}},{key:"angleBetween",value:function(h,w){return h.angleBetween(w)}},{key:"reflect",value:function(h,w,_){return arguments.length<3?_=h.copy():(_ instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),_.set(h)),_.reflect(w)}},{key:"array",value:function(h){return h.array()}},{key:"equals",value:function(h,w){var _;return h instanceof a.default.Vector?_=h:h instanceof Array?_=new a.default.Vector().set(h):a.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),_.equals(w)}}],(p=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(h,w,_){return h instanceof a.default.Vector?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):Array.isArray(h)?(this.x=h[0]||0,this.y=h[1]||0,this.z=h[2]||0):(this.x=h||0,this.y=w||0,this.z=_||0),this}},{key:"copy",value:function(){return this.isPInst?new a.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new a.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(h,w,_){return h instanceof a.default.Vector?(this.x+=h.x||0,this.y+=h.y||0,this.z+=h.z||0):Array.isArray(h)?(this.x+=h[0]||0,this.y+=h[1]||0,this.z+=h[2]||0):(this.x+=h||0,this.y+=w||0,this.z+=_||0),this}},{key:"rem",value:function(h,w,_){var E;if(h instanceof a.default.Vector){if([h.x,h.y,h.z].every(Number.isFinite))return R=parseFloat(h.x),P=parseFloat(h.y),E=parseFloat(h.z),c.call(this,R,P,E)}else if(Array.isArray(h)){if(h.every(function(T){return Number.isFinite(T)}))return h.length===2?l.call(this,h[0],h[1]):h.length===3?c.call(this,h[0],h[1],h[2]):void 0}else if(arguments.length===1){if(Number.isFinite(h)&&h!==0)return this.x=this.x%h,this.y=this.y%h,this.z=this.z%h,this}else if(arguments.length===2){var R=Array.prototype.slice.call(arguments);if(R.every(function(T){return Number.isFinite(T)})&&R.length===2)return l.call(this,R[0],R[1])}else if(arguments.length===3){var P=Array.prototype.slice.call(arguments);if(P.every(function(T){return Number.isFinite(T)})&&P.length===3)return c.call(this,P[0],P[1],P[2])}}},{key:"sub",value:function(h,w,_){return h instanceof a.default.Vector?(this.x-=h.x||0,this.y-=h.y||0,this.z-=h.z||0):Array.isArray(h)?(this.x-=h[0]||0,this.y-=h[1]||0,this.z-=h[2]||0):(this.x-=h||0,this.y-=w||0,this.z-=_||0),this}},{key:"mult",value:function(h,w,_){var E;return h instanceof a.default.Vector?Number.isFinite(h.x)&&Number.isFinite(h.y)&&Number.isFinite(h.z)&&typeof h.x=="number"&&typeof h.y=="number"&&typeof h.z=="number"?(this.x*=h.x,this.y*=h.y,this.z*=h.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(h)?h.every(function(R){return Number.isFinite(R)})&&h.every(function(R){return typeof R=="number"})?h.length===1?(this.x*=h[0],this.y*=h[0],this.z*=h[0]):h.length===2?(this.x*=h[0],this.y*=h[1]):h.length===3&&(this.x*=h[0],this.y*=h[1],this.z*=h[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(E=Array.prototype.slice.call(arguments)).every(function(R){return Number.isFinite(R)})&&E.every(function(R){return typeof R=="number"})?(arguments.length===1&&(this.x*=h,this.y*=h,this.z*=h),arguments.length===2&&(this.x*=h,this.y*=w),arguments.length===3&&(this.x*=h,this.y*=w,this.z*=_)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(h,w,_){if(h instanceof a.default.Vector)if(Number.isFinite(h.x)&&Number.isFinite(h.y)&&Number.isFinite(h.z)&&typeof h.x=="number"&&typeof h.y=="number"&&typeof h.z=="number"){var E=h.z===0&&this.z===0;if(h.x===0||h.y===0||!E&&h.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=h.x,this.y/=h.y,E||(this.z/=h.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(h))if(h.every(function(R){return Number.isFinite(R)})&&h.every(function(R){return typeof R=="number"})){if(h.some(function(R){return R===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;h.length===1?(this.x/=h[0],this.y/=h[0],this.z/=h[0]):h.length===2?(this.x/=h[0],this.y/=h[1]):h.length===3&&(this.x/=h[0],this.y/=h[1],this.z/=h[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if((E=Array.prototype.slice.call(arguments)).every(function(R){return Number.isFinite(R)})&&E.every(function(R){return typeof R=="number"})){if(E.some(function(R){return R===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=h,this.y/=h,this.z/=h),arguments.length===2&&(this.x/=h,this.y/=w),arguments.length===3&&(this.x/=h,this.y/=w,this.z/=_)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var h=this.x,w=this.y,_=this.z;return h*h+w*w+_*_}},{key:"dot",value:function(h,w,_){return h instanceof a.default.Vector?this.dot(h.x,h.y,h.z):this.x*(h||0)+this.y*(w||0)+this.z*(_||0)}},{key:"cross",value:function(h){var w=this.y*h.z-this.z*h.y,_=this.z*h.x-this.x*h.z;return h=this.x*h.y-this.y*h.x,this.isPInst?new a.default.Vector(this._fromRadians,this._toRadians,w,_,h):new a.default.Vector(w,_,h)}},{key:"dist",value:function(h){return h.copy().sub(this).mag()}},{key:"normalize",value:function(){var h=this.mag();return h!==0&&this.mult(1/h),this}},{key:"limit",value:function(h){var w=this.magSq();return h*h<w&&this.div(Math.sqrt(w)).mult(h),this}},{key:"setMag",value:function(h){return this.normalize().mult(h)}},{key:"heading",value:function(){var h=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(h):h}},{key:"setHeading",value:function(h){this.isPInst&&(h=this._toRadians(h));var w=this.mag();return this.x=w*Math.cos(h),this.y=w*Math.sin(h),this}},{key:"rotate",value:function(h){h=this.heading()+h;var w=(this.isPInst&&(h=this._toRadians(h)),this.mag());return this.x=Math.cos(h)*w,this.y=Math.sin(h)*w,this}},{key:"angleBetween",value:function(h){var w;return this.magSq()*h.magSq()==0?NaN:(w=this.cross(h),h=Math.atan2(w.mag(),this.dot(h))*Math.sign(w.z||1),this.isPInst?this._fromRadians(h):h)}},{key:"lerp",value:function(h,w,_,E){return h instanceof a.default.Vector?this.lerp(h.x,h.y,h.z,w):(this.x+=(h-this.x)*E||0,this.y+=(w-this.y)*E||0,this.z+=(_-this.z)*E||0,this)}},{key:"slerp",value:function(h,w){if(w!==0){if(w===1)return this.set(h);var _=this.mag(),E=h.mag();if(_*E==0)this.mult(1-w).add(h.x*w,h.y*w,h.z*w);else{var R=this.cross(h),P=R.mag(),T=Math.atan2(P,this.dot(h));if(0<P)R.x/=P,R.y/=P,R.z/=P;else{if(T<.5*Math.PI)return this.mult(1-w).add(h.x*w,h.y*w,h.z*w),this;this.z===0&&h.z===0?R.set(0,0,1):this.x!==0?R.set(this.y,-this.x,0).normalize():R.set(1,0,0)}P=R.cross(this),R=(h=1-w+w*E/_)*Math.cos(w*T),E=h*Math.sin(w*T),this.x=this.x*R+P.x*E,this.y=this.y*R+P.y*E,this.z=this.z*R+P.z*E}}return this}},{key:"reflect",value:function(h){return h.normalize(),this.sub(h.mult(2*this.dot(h)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(h,w,_){var E,R;return h=h instanceof a.default.Vector?(E=h.x||0,R=h.y||0,h.z||0):Array.isArray(h)?(E=h[0]||0,R=h[1]||0,h[2]||0):(E=h||0,R=w||0,_||0),this.x===E&&this.y===R&&this.z===h}}])&&b(d.prototype,p),v&&b(d,v),i}();var u=a.default.Vector;S.default=u},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.constructor":171,"core-js/modules/es.number.is-finite":172,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],307:[function(t,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t},o="_lcg_random_state",a=4294967296,g=0;y.default.prototype._lcg=function(b){return this[b]=(1664525*this[b]+1013904223)%a,this[b]/a},y.default.prototype._lcgSetSeed=function(b,l){this[b]=(l??Math.random()*a)>>>0},y.default.prototype.randomSeed=function(b){this._lcgSetSeed(o,b),this._gaussian_previous=!1},y.default.prototype.random=function(b,l){var c,u;return y.default._validateParameters("random",arguments),c=this[o]!=null?this._lcg(o):Math.random(),b===void 0?c:l===void 0?b instanceof Array?b[Math.floor(c*b.length)]:c*b:(l<b&&(u=b,b=l,l=u),c*(l-b)+b)},y.default.prototype.randomGaussian=function(b){var l,c,u,i,d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)l=g,this._gaussian_previous=!1;else{for(;1<=(i=(c=this.random(2)-1)*c+(u=this.random(2)-1)*u););l=c*(i=Math.sqrt(-2*Math.log(i)/i)),g=u*i,this._gaussian_previous=!0}return l*d+(b||0)},t=y.default,S.default=t},{"../core/main":273}],308:[function(t,C,S){function y(l){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function o(l){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(c){return y(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":y(c)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(b=t("../core/main"))&&b.__esModule?b:{default:b},g=function(l){if(l&&l.__esModule)return l;if(l===null||o(l)!=="object"&&typeof l!="function")return{default:l};var c=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(c&&c.has(l))return c.get(l);var u,i={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var p;Object.prototype.hasOwnProperty.call(l,u)&&((p=d?Object.getOwnPropertyDescriptor(l,u):null)&&(p.get||p.set)?Object.defineProperty(i,u,p):i[u]=l[u])}return i.default=l,c&&c.set(l,i),i}(t("../core/constants"));a.default.prototype._angleMode=g.RADIANS,a.default.prototype.acos=function(l){return this._fromRadians(Math.acos(l))},a.default.prototype.asin=function(l){return this._fromRadians(Math.asin(l))},a.default.prototype.atan=function(l){return this._fromRadians(Math.atan(l))},a.default.prototype.atan2=function(l,c){return this._fromRadians(Math.atan2(l,c))},a.default.prototype.cos=function(l){return Math.cos(this._toRadians(l))},a.default.prototype.sin=function(l){return Math.sin(this._toRadians(l))},a.default.prototype.tan=function(l){return Math.tan(this._toRadians(l))},a.default.prototype.degrees=function(l){return l*g.RAD_TO_DEG},a.default.prototype.radians=function(l){return l*g.DEG_TO_RAD},a.default.prototype.angleMode=function(l){if(a.default._validateParameters("angleMode",arguments),l===void 0)return this._angleMode;l!==g.DEGREES&&l!==g.RADIANS||(this._angleMode=l)},a.default.prototype._toRadians=function(l){return this._angleMode===g.DEGREES?l*g.DEG_TO_RAD:l},a.default.prototype._toDegrees=function(l){return this._angleMode===g.RADIANS?l*g.RAD_TO_DEG:l},a.default.prototype._fromRadians=function(l){return this._angleMode===g.DEGREES?l*g.RAD_TO_DEG:l};var b=a.default;S.default=b},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],309:[function(t,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};y.default.prototype.textAlign=function(o,a){var g;return y.default._validateParameters("textAlign",arguments),(g=this._renderer).textAlign.apply(g,arguments)},y.default.prototype.textLeading=function(o){var a;return y.default._validateParameters("textLeading",arguments),(a=this._renderer).textLeading.apply(a,arguments)},y.default.prototype.textSize=function(o){var a;return y.default._validateParameters("textSize",arguments),(a=this._renderer).textSize.apply(a,arguments)},y.default.prototype.textStyle=function(o){var a;return y.default._validateParameters("textStyle",arguments),(a=this._renderer).textStyle.apply(a,arguments)},y.default.prototype.textWidth=function(){for(var o,a=arguments.length,g=new Array(a),b=0;b<a;b++)g[b]=arguments[b];return g[0]+="",y.default._validateParameters("textWidth",g),g[0].length===0?0:(o=this._renderer).textWidth.apply(o,g)},y.default.prototype.textAscent=function(){for(var o=arguments.length,a=new Array(o),g=0;g<o;g++)a[g]=arguments[g];return y.default._validateParameters("textAscent",a),this._renderer.textAscent()},y.default.prototype.textDescent=function(){for(var o=arguments.length,a=new Array(o),g=0;g<o;g++)a[g]=arguments[g];return y.default._validateParameters("textDescent",a),this._renderer.textDescent()},y.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},y.default.prototype.textWrap=function(o){if(o!=="WORD"&&o!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(o)},t=y.default,S.default=t},{"../core/main":273}],310:[function(t,C,S){function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(i)}function o(i){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(d){return y(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":y(d)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(u=t("../core/main"))&&u.__esModule?u:{default:u},g=c(t("../core/constants")),b=c(t("opentype.js"));function l(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,l=function(){return i},i)}function c(i){if(i&&i.__esModule)return i;if(i===null||o(i)!=="object"&&typeof i!="function")return{default:i};var d=l();if(d&&d.has(i))return d.get(i);var p,v,h={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in i)Object.prototype.hasOwnProperty.call(i,p)&&((v=w?Object.getOwnPropertyDescriptor(i,p):null)&&(v.get||v.set)?Object.defineProperty(h,p,v):h[p]=i[p]);return h.default=i,d&&d.set(i,h),h}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.loadFont=function(i,d,p){a.default._validateParameters("loadFont",arguments);var v=new a.default.Font(this),h=this;return b.load(i,function(w,_){if(w)return a.default._friendlyFileLoadError(4,i),p!==void 0?p(w):void console.error(w,i);v.font=_,d!==void 0&&d(v),h._decrementPreload();var E=(_=(w=i.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:w.slice(_+1);["ttf","otf","woff","woff2"].includes(E)&&(E=w.slice(0,_!==-1?_:0),(w=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(E,`;
src: url(`).concat(i,`);
}
`))),document.head.appendChild(w))}),v},a.default.prototype.text=function(i,d,p,v,h){var w;return a.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(w=this._renderer).text.apply(w,arguments):this},a.default.prototype.textFont=function(i,d){if(a.default._validateParameters("textFont",arguments),arguments.length){if(i)return this._renderer._setProperty("_textFont",i),d&&(this._renderer._setProperty("_textSize",d),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",d*g._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var u=a.default;S.default=u},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,"opentype.js":247}],311:[function(t,C,S){function y(P){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(P)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var o=(o=t("../core/main"))&&o.__esModule?o:{default:o},a=function(P){if(P&&P.__esModule)return P;if(P===null||g(P)!=="object"&&typeof P!="function")return{default:P};var T=function(){var B;return typeof WeakMap!="function"?null:(B=new WeakMap,B)}();if(T&&T.has(P))return T.get(P);var D,A={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in P){var U;Object.prototype.hasOwnProperty.call(P,D)&&((U=I?Object.getOwnPropertyDescriptor(P,D):null)&&(U.get||U.set)?Object.defineProperty(A,D,U):A[D]=P[D])}return A.default=P,T&&T.set(P,A),A}(t("../core/constants"));function g(P){return(g=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(T){return y(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":y(T)})(P)}function b(P,T){for(var D=0;D<T.length;D++){var A=T[D];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(P,A.key,A)}}function l(P,T){var D=P.length;return P[T<0?T%D+D:T%D]}function c(P,T,D,A){var I,U,B;return A?(c.tmpPoint1===void 0&&(c.tmpPoint1=[],c.tmpPoint2=[]),U=c.tmpPoint1,B=c.tmpPoint2,U.x=T.x-P.x,U.y=T.y-P.y,B.x=D.x-T.x,B.y=D.y-T.y,I=U.x*B.x+U.y*B.y,U=Math.sqrt(U.x*U.x+U.y*U.y),B=Math.sqrt(B.x*B.x+B.y*B.y),Math.acos(I/(U*B))<A):(T[0]-P[0])*(D[1]-P[1])-(D[0]-P[0])*(T[1]-P[1])==0}function u(P,T,D,A,I,U,B,N,O){var V=1-O,q=(X=Math.pow(V,3))*P+3*(Z=Math.pow(V,2))*O*D+3*V*O*O*I+(re=(ae=O*O)*O)*B,X=X*T+3*Z*O*A+3*V*O*O*U+re*N,Z=P+2*O*(D-P)+ae*(I-2*D+P),re=T+2*O*(A-T)+ae*(U-2*A+T),ee=D+2*O*(I-D)+ae*(B-2*I+D),ae=A+2*O*(U-A)+ae*(N-2*U+A);return P=V*P+O*D,D=V*T+O*A,T=V*I+O*B,A=V*U+O*N,I=90-180*Math.atan2(Z-ee,re-ae)/Math.PI,(ee<Z||re<ae)&&(I+=180),{x:q,y:X,m:{x:Z,y:re},n:{x:ee,y:ae},start:{x:P,y:D},end:{x:T,y:A},alpha:I}}function i(P,T,D,A,I,U,B,N,O){return O==null?E(P,T,D,A,I,U,B,N):u(P,T,D,A,I,U,B,N,function(V,q,X,Z,re,ee,ae,z,H){if(!(H<0||E(V,q,X,Z,re,ee,ae,z)<H)){var $,ne=.5,oe=1-ne;for($=E(V,q,X,Z,re,ee,ae,z,oe);.01<Math.abs($-H);)$=E(V,q,X,Z,re,ee,ae,z,oe+=($<H?1:-1)*(ne/=2));return oe}}(P,T,D,A,I,U,B,N,O))}function d(P,T,D){for(var A,I,U,B,N,O=0,V=0,q=(P=function(X,Z){function re(Ee,Te,qe){var $e,pt;if(!Ee)return["C",Te.x,Te.y,Te.x,Te.y,Te.x,Te.y];switch(Ee[0]in{T:1,Q:1}||(Te.qx=Te.qy=null),Ee[0]){case"M":Te.X=Ee[1],Te.Y=Ee[2];break;case"A":Ee=["C"].concat(v.apply(0,[Te.x,Te.y].concat(Ee.slice(1))));break;case"S":pt=qe==="C"||qe==="S"?($e=2*Te.x-Te.bx,2*Te.y-Te.by):($e=Te.x,Te.y),Ee=["C",$e,pt].concat(Ee.slice(1));break;case"T":qe==="Q"||qe==="T"?(Te.qx=2*Te.x-Te.qx,Te.qy=2*Te.y-Te.qy):(Te.qx=Te.x,Te.qy=Te.y),Ee=["C"].concat(_(Te.x,Te.y,Te.qx,Te.qy,Ee[1],Ee[2]));break;case"Q":Te.qx=Ee[1],Te.qy=Ee[2],Ee=["C"].concat(_(Te.x,Te.y,Ee[1],Ee[2],Ee[3],Ee[4]));break;case"L":Ee=["C"].concat(w(Te.x,Te.y,Ee[1],Ee[2]));break;case"H":Ee=["C"].concat(w(Te.x,Te.y,Ee[1],Te.y));break;case"V":Ee=["C"].concat(w(Te.x,Te.y,Te.x,Ee[1]));break;case"Z":Ee=["C"].concat(w(Te.x,Te.y,Te.X,Te.Y))}return Ee}function ee(Ee,Te){if(7<Ee[Te].length){Ee[Te].shift();for(var qe=Ee[Te];qe.length;)le[Te]="A",$&&(Q[Te]="A"),Ee.splice(Te++,0,["C"].concat(qe.splice(0,6)));Ee.splice(Te,1),z=Math.max(H.length,$&&$.length||0)}}function ae(Ee,Te,qe,$e,pt){Ee&&Te&&Ee[pt][0]==="M"&&Te[pt][0]!=="M"&&(Te.splice(pt,0,["M",$e.x,$e.y]),qe.bx=0,qe.by=0,qe.x=Ee[pt][1],qe.y=Ee[pt][2],z=Math.max(H.length,$&&$.length||0))}var z,H=p(X),$=Z,ne={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},oe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},le=[],Q=[],se="",ye="";z=Math.max(H.length,$&&$.length||0);for(var me=0;me<z;me++){(se=H[me]?H[me][0]:se)!=="C"&&(le[me]=se,me&&(ye=le[me-1])),H[me]=re(H[me],ne,ye),le[me]!=="A"&&se==="C"&&(le[me]="C"),ee(H,me),$&&((se=$[me]?$[me][0]:se)!=="C"&&(Q[me]=se,me&&(ye=Q[me-1])),$[me]=re($[me],oe,ye),Q[me]!=="A"&&se==="C"&&(Q[me]="C"),ee($,me)),ae(H,$,ne,oe,me),ae($,H,oe,ne,me);var he=H[me],be=$&&$[me],Ue=he.length,Ne=$&&be.length;ne.x=he[Ue-2],ne.y=he[Ue-1],ne.bx=parseFloat(he[Ue-4])||ne.x,ne.by=parseFloat(he[Ue-3])||ne.y,oe.bx=$&&(parseFloat(be[Ne-4])||oe.x),oe.by=$&&(parseFloat(be[Ne-3])||oe.y),oe.x=$&&be[Ne-2],oe.y=$&&be[Ne-1]}return $?[H,$]:H}(P)).length;V<q;V++){if((U=P[V])[0]==="M")A=+U[1],I=+U[2];else{if(T<O+(B=i(A,I,U[1],U[2],U[3],U[4],U[5],U[6]))&&!D)return{x:(N=i(A,I,U[1],U[2],U[3],U[4],U[5],U[6],T-O)).x,y:N.y,alpha:N.alpha};O+=B,A=+U[5],I=+U[6]}U.shift()}return(N=D?O:u(A,I,U[0],U[1],U[2],U[3],U[4],U[5],1)).alpha?{x:N.x,y:N.y,alpha:N.alpha}:N}function p(P){var T=[],D=0,A=0,I=0,U=0,B=0;if(P){P[0][0]==="M"&&(I=D=+P[0][1],U=A=+P[0][2],B++,T[0]=["M",D,A]);for(var N,O,V=P.length===3&&P[0][0]==="M"&&P[1][0].toUpperCase()==="R"&&P[2][0].toUpperCase()==="Z",q=B,X=P.length;q<X;q++){if(T.push(N=[]),(O=P[q])[0]!==String.prototype.toUpperCase.call(O[0]))switch(N[0]=String.prototype.toUpperCase.call(O[0]),N[0]){case"A":N[1]=O[1],N[2]=O[2],N[3]=O[3],N[4]=O[4],N[5]=O[5],N[6]=+(O[6]+D),N[7]=+(O[7]+A);break;case"V":N[1]=+O[1]+A;break;case"H":N[1]=+O[1]+D;break;case"R":for(var Z,re=2,ee=(Z=[D,A].concat(O.slice(1))).length;re<ee;re++)Z[re]=+Z[re]+D,Z[++re]=+Z[re]+A;T.pop(),T=T.concat(h(Z,V));break;case"M":I=+O[1]+D,U=+O[2]+A;break;default:for(var ae=1,z=O.length;ae<z;ae++)N[ae]=+O[ae]+(ae%2?D:A)}else if(O[0]==="R")Z=[D,A].concat(O.slice(1)),T.pop(),T=T.concat(h(Z,V)),N=["R"].concat(O.slice(-2));else for(var H=0,$=O.length;H<$;H++)N[H]=O[H];switch(N[0]){case"Z":D=I,A=U;break;case"H":D=N[1];break;case"V":A=N[1];break;case"M":I=N[N.length-2],U=N[N.length-1];break;default:D=N[N.length-2],A=N[N.length-1]}}}return T}function v(P,T,D,A,I,U,B,N,O,V){function q(he,be,Ue){return{x:he*Math.cos(Ue)-be*Math.sin(Ue),y:he*Math.sin(Ue)+be*Math.cos(Ue)}}var X,Z=120*(H=Math.PI)/180,re=H/180*(+I||0),ee=[],ae=(V?(Q=V[0],X=V[1],oe=V[2],le=V[3]):(P=($=q(P,T,-re)).x,T=$.y,1<(ae=(z=(P-(N=($=q(N,O,-re)).x))/2)*z/(D*D)+($=(T-(O=$.y))/2)*$/(A*A))&&(D*=ae=Math.sqrt(ae),A*=ae),ae=D*D,ne=A*A,oe=(U=(U===B?-1:1)*Math.sqrt(Math.abs((ae*ne-ae*$*$-ne*z*z)/(ae*$*$+ne*z*z))))*D*$/A+(P+N)/2,le=U*-A*z/D+(T+O)/2,Q=Math.asin(((T-le)/A).toFixed(9)),X=Math.asin(((O-le)/A).toFixed(9)),(Q=P<oe?H-Q:Q)<0&&(Q=2*H+Q),(X=N<oe?H-X:X)<0&&(X=2*H+X),B&&X<Q&&(Q-=2*H),!B&&Q<X&&(X-=2*H)),X-Q),z=(Math.abs(ae)>Z&&(ne=X,$=N,U=O,X=Q+Z*(B&&Q<X?1:-1),ee=v(N=oe+D*Math.cos(X),O=le+A*Math.sin(X),D,A,I,0,B,$,U,[X,ne,oe,le])),ae=X-Q,Math.cos(Q)),H=Math.sin(Q),$=(Z=Math.cos(X),I=Math.sin(X),4/3*D*(B=Math.tan(ae/4))),ne=[P,T],oe=[P+$*H,T-(U=4/3*A*B)*z],le=[N+$*I,O-U*Z],Q=[N,O];if(oe[0]=2*ne[0]-oe[0],oe[1]=2*ne[1]-oe[1],V)return[oe,le,Q].concat(ee);for(var se=[],ye=0,me=(ee=[oe,le,Q].concat(ee).join().split(",")).length;ye<me;ye++)se[ye]=ye%2?q(ee[ye-1],ee[ye],re).y:q(ee[ye],ee[ye+1],re).x;return se}function h(P,T){for(var D=[],A=0,I=P.length;A<I-2*!T;A+=2){var U=[{x:+P[A-2],y:+P[A-1]},{x:+P[A],y:+P[A+1]},{x:+P[A+2],y:+P[A+3]},{x:+P[A+4],y:+P[A+5]}];T?A?I-4===A?U[3]={x:+P[0],y:+P[1]}:I-2===A&&(U[2]={x:+P[0],y:+P[1]},U[3]={x:+P[2],y:+P[3]}):U[0]={x:+P[I-2],y:+P[I-1]}:I-4===A?U[3]=U[2]:A||(U[0]={x:+P[A],y:+P[A+1]}),D.push(["C",(-U[0].x+6*U[1].x+U[2].x)/6,(-U[0].y+6*U[1].y+U[2].y)/6,(U[1].x+6*U[2].x-U[3].x)/6,(U[1].y+6*U[2].y-U[3].y)/6,U[2].x,U[2].y])}return D}function w(P,T,D,A){return[P,T,D,A,D,A]}function _(P,T,D,A,I,U){return[1/3*P+2/3*D,1/3*T+2/3*A,1/3*I+2/3*D,1/3*U+2/3*A,I,U]}function E(P,T,D,A,I,U,B,N,O){for(var V=(O=1<(O=O??1)?1:O<0?0:O)/2,q=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],X=0,Z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],re=0;re<12;re++){var ee=R(ae=V*q[re]+V,P,D,I,B),ae=R(ae,T,A,U,N);X+=Z[re]*Math.sqrt(ee*ee+ae*ae)}return V*X}function R(P,T,D,A,I){return P*(P*(-3*T+9*D-9*A+3*I)+6*T-12*D+6*A)-3*T+3*D}o.default.Font=function(){function P(A){if(!(this instanceof P))throw new TypeError("Cannot call a class as a function");this.parent=A,this.cache={},this.font=void 0}var T,D;return T=P,(D=[{key:"textBounds",value:function(A){var I=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,U=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,B=3<arguments.length?arguments[3]:void 0,N=4<arguments.length?arguments[4]:void 0,O=N&&N.renderer&&N.renderer._pInst||this.parent;if((ne=O._renderer.drawingContext).textAlign||a.LEFT,ne.textBaseline||a.BASELINE,B=B||O._renderer._textSize,!oe){for(var V=[],q=[],X=[],Z=(X[0]=[],[]),re=this._scale(B),ee=O._renderer.textLeading(),ae=0,z=(this.font.forEachGlyph(A,I,U,B,N,function(le,Q,se,ye){var me=le.getMetrics();le.index===0||le.index===10?X[ae+=1]=[]:(X[ae].push(Q+me.xMin*re),X[ae].push(Q+me.xMax*re),Z.push(se+ae*ee+-me.yMin*re),Z.push(se+ae*ee+-me.yMax*re))}),0<X[ae].length&&(V[ae]=Math.min.apply(null,X[ae]),q[ae]=Math.max.apply(null,X[ae])),0),H=0;H<=ae;H++){V[H]=Math.min.apply(null,X[H]),q[H]=Math.max.apply(null,X[H]);var $=q[H]-V[H];z<$&&(z=$)}var ne,oe={x:ne=Math.min.apply(null,V),y:U=Math.min.apply(null,Z),h:Math.max.apply(null,Z)-U,w:z,advance:ne-I};B=this._handleAlignment(O._renderer,A,oe.x,oe.y,oe.w+oe.advance),oe.x=B.x,oe.y=B.y}return oe}},{key:"textToPoints",value:function(A,I,U,B,N){var O=0,V=[],q=this._getGlyphs(A);B=B||this.parent._renderer._textSize;for(var X,Z=0;Z<q.length;Z++){if(!(q[X=Z].name&&q[X].name==="space"||A.length===q.length&&A[X]===" "))for(var re=function(H){for(var $,ne=[],oe=0;oe<H.length;oe++)H[oe].type==="M"&&($&&ne.push($),$=[]),$.push(function(le){var Q=[le.type];return le.type==="M"||le.type==="L"?Q.push(le.x,le.y):le.type==="C"?Q.push(le.x1,le.y1,le.x2,le.y2,le.x,le.y):le.type==="Q"&&Q.push(le.x1,le.y1,le.x,le.y),Q}(H[oe]));return ne.push($),ne}(q[Z].getPath(I,U,B).commands),ee=0;ee<re.length;ee++)for(var ae=function(H,$){$=function(se,ye){if(g(se)!=="object")se=ye;else for(var me in ye)se[me]===void 0&&(se[me]=ye[me]);return se}($,{sampleFactor:.1,simplifyThreshold:0});for(var ne=d(H,0,1),oe=ne/(ne*$.sampleFactor),le=[],Q=0;Q<ne;Q+=oe)le.push(d(H,Q));return $.simplifyThreshold&&function(se){for(var ye=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,me=se.length-1;3<se.length&&0<=me;--me)c(l(se,me-1),l(se,me),l(se,me+1),ye)&&se.splice(me%se.length,1)}(le,$.simplifyThreshold),le}(re[ee],N),z=0;z<ae.length;z++)ae[z].x+=O,V.push(ae[z]);O+=q[Z].advanceWidth*this._scale(B)}return V}},{key:"_getGlyphs",value:function(A){return this.font.stringToGlyphs(A)}},{key:"_getPath",value:function(A,I,U,B){var N=(B&&B.renderer&&B.renderer._pInst||this.parent)._renderer;return I=this._handleAlignment(N,A,I,U),this.font.getPath(A,I.x,I.y,N._textSize,B)}},{key:"_getPathData",value:function(A,I,U,B){var N=3;return typeof A=="string"&&2<arguments.length?A=this._getPath(A,I,U,B):g(I)==="object"&&(B=I),B&&typeof B.decimals=="number"&&(N=B.decimals),A.toPathData(N)}},{key:"_getSVG",value:function(A,I,U,B){var N=3;return typeof A=="string"&&2<arguments.length?A=this._getPath(A,I,U,B):g(I)==="object"&&(B=I),B&&(typeof B.decimals=="number"&&(N=B.decimals),typeof B.strokeWidth=="number"&&(A.strokeWidth=B.strokeWidth),B.fill!==void 0&&(A.fill=B.fill),B.stroke!==void 0&&(A.stroke=B.stroke)),A.toSVG(N)}},{key:"_renderPath",value:function(A,I,U,B){var N=B&&B.renderer||this.parent._renderer,O=N.drawingContext,V=(A=(g(A)==="object"&&A.commands?A:this._getPath(A,I,U,B)).commands,O.beginPath(),!0);I=!1,U=void 0;try{for(var q,X=A[Symbol.iterator]();!(V=(q=X.next()).done);V=!0){var Z=q.value;Z.type==="M"?O.moveTo(Z.x,Z.y):Z.type==="L"?O.lineTo(Z.x,Z.y):Z.type==="C"?O.bezierCurveTo(Z.x1,Z.y1,Z.x2,Z.y2,Z.x,Z.y):Z.type==="Q"?O.quadraticCurveTo(Z.x1,Z.y1,Z.x,Z.y):Z.type==="Z"&&O.closePath()}}catch(re){I=!0,U=re}finally{try{V||X.return==null||X.return()}finally{if(I)throw U}}return N._doStroke&&N._strokeSet&&O.stroke(),N._doFill&&(N._fillSet||N._setFill(a._DEFAULT_TEXT_FILL),O.fill()),this}},{key:"_textWidth",value:function(A,I){return this.font.getAdvanceWidth(A,I)}},{key:"_textAscent",value:function(A){return this.font.ascender*this._scale(A)}},{key:"_textDescent",value:function(A){return-this.font.descender*this._scale(A)}},{key:"_scale",value:function(A){return 1/this.font.unitsPerEm*(A||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(A,I,U,B,N){var O=A._textSize;switch(N===void 0&&(N=this._textWidth(I,O)),A._textAlign){case a.CENTER:U-=N/2;break;case a.RIGHT:U-=N}switch(A._textBaseline){case a.TOP:B+=this._textAscent(O);break;case a.CENTER:B+=this._textAscent(O)/2;break;case a.BOTTOM:B-=this._textDescent(O)}return{x:U,y:B}}}])&&b(T.prototype,D),P}(),t=o.default,S.default=t},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],312:[function(t,C,S){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype.append=function(y,o){return y.push(o),y},t.default.prototype.arrayCopy=function(y,o,a,g,b){var l,c;y=b!==void 0?(c=Math.min(b,y.length),l=g,y.slice(o,c+o)):(c=a!==void 0?(c=a,Math.min(c,y.length)):y.length,a=o,y.slice(l=0,c)),Array.prototype.splice.apply(a,[l,c].concat(y))},t.default.prototype.concat=function(y,o){return y.concat(o)},t.default.prototype.reverse=function(y){return y.reverse()},t.default.prototype.shorten=function(y){return y.pop(),y},t.default.prototype.shuffle=function(y,o){for(var a,g,b=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(y),l=(y=o||b?y:y.slice()).length;1<l;)a=this.random(0,1)*l|0,g=y[--l],y[l]=y[a],y[a]=g;return y},t.default.prototype.sort=function(y,o){var a=o?y.slice(0,Math.min(o,y.length)):y;return o=o?y.slice(Math.min(o,y.length)):[],(a=typeof a[0]=="string"?a.sort():a.sort(function(g,b){return g-b})).concat(o)},t.default.prototype.splice=function(y,o,a){return Array.prototype.splice.apply(y,[a,0].concat(o)),y},t.default.prototype.subset=function(y,o,a){return a!==void 0?y.slice(o,o+a):y.slice(o,y.length)},t=t.default,S.default=t},{"../core/main":273,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180}],313:[function(t,C,S){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};y.default.prototype.float=function(o){return o instanceof Array?o.map(parseFloat):parseFloat(o)},y.default.prototype.int=function(o){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return o===1/0||o==="Infinity"?1/0:o===-1/0||o==="-Infinity"?-1/0:typeof o=="string"?parseInt(o,a):typeof o=="number"?0|o:typeof o=="boolean"?o?1:0:o instanceof Array?o.map(function(g){return y.default.prototype.int(g,a)}):void 0},y.default.prototype.str=function(o){return o instanceof Array?o.map(y.default.prototype.str):String(o)},y.default.prototype.boolean=function(o){return typeof o=="number"?o!==0:typeof o=="string"?o.toLowerCase()==="true":typeof o=="boolean"?o:o instanceof Array?o.map(y.default.prototype.boolean):void 0},y.default.prototype.byte=function(o){return typeof(o=y.default.prototype.int(o,10))=="number"?(o+128)%256-128:o instanceof Array?o.map(y.default.prototype.byte):void 0},y.default.prototype.char=function(o){return typeof o!="number"||isNaN(o)?o instanceof Array?o.map(y.default.prototype.char):typeof o=="string"?y.default.prototype.char(parseInt(o,10)):void 0:String.fromCharCode(o)},y.default.prototype.unchar=function(o){return typeof o=="string"&&o.length===1?o.charCodeAt(0):o instanceof Array?o.map(y.default.prototype.unchar):void 0},y.default.prototype.hex=function(o,a){if(a=a??8,o instanceof Array)return o.map(function(b){return y.default.prototype.hex(b,a)});if(o===1/0||o===-1/0)return(o===1/0?"F":"0").repeat(a);if(typeof o=="number"){o<0&&(o=4294967295+o+1);for(var g=Number(o).toString(16).toUpperCase();g.length<a;)g="0".concat(g);return g.length>=a?g.substring(g.length-a,g.length):g}},y.default.prototype.unhex=function(o){return o instanceof Array?o.map(y.default.prototype.unhex):parseInt("0x".concat(o),16)},t=y.default,S.default=t},{"../core/main":273,"core-js/modules/es.array.map":163,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.repeat":193}],314:[function(t,C,S){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(c=t("../core/main"))&&c.__esModule?c:{default:c};function o(u,i){return function(d){if(Array.isArray(d))return d}(u)||function(d,p){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]"){var v=[],h=!0,w=!1,_=void 0;try{for(var E,R=d[Symbol.iterator]();!(h=(E=R.next()).done)&&(v.push(E.value),!p||v.length!==p);h=!0);}catch(P){w=!0,_=P}finally{try{h||R.return==null||R.return()}finally{if(w)throw _}}return v}}(u,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(u,i,d){var p=(v=o(u.toString().split("."),2))[0],v=v[1];return d===void 0?(p=p.padStart(i,"0"),v?p+"."+v:p):(p=(u=o(u.toFixed(d).toString().split("."),2))[0],v=u[1],(p=p.padStart(i,"0"))+"."+v)}function g(u,i){var d=(u=u.toString()).indexOf("."),p=d!==-1?u.substring(d):"";if(u=(u=d!==-1?u.substring(0,d):u).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),i===0)p="";else if(i!==void 0)if(i>p.length)for(var v=i-(p+=d===-1?".":"").length+1,h=0;h<v;h++)p+="0";else p=p.substring(0,i+1);return u+p}function b(u){return 0<parseFloat(u)?"+".concat(u.toString()):u.toString()}function l(u){return 0<=parseFloat(u)?" ".concat(u.toString()):u.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),y.default.prototype.join=function(u,i){return y.default._validateParameters("join",arguments),u.join(i)},y.default.prototype.match=function(u,i){return y.default._validateParameters("match",arguments),u.match(i)},y.default.prototype.matchAll=function(u,i){y.default._validateParameters("matchAll",arguments);for(var d=new RegExp(i,"g"),p=d.exec(u),v=[];p!==null;)v.push(p),p=d.exec(u);return v},y.default.prototype.nf=function(u,i,d){return y.default._validateParameters("nf",arguments),u instanceof Array?u.map(function(p){return a(p,i,d)}):Object.prototype.toString.call(u)==="[object Arguments]"?u.length===3?this.nf(u[0],u[1],u[2]):u.length===2?this.nf(u[0],u[1]):this.nf(u[0]):a(u,i,d)},y.default.prototype.nfc=function(u,i){return y.default._validateParameters("nfc",arguments),u instanceof Array?u.map(function(d){return g(d,i)}):g(u,i)},y.default.prototype.nfp=function(){for(var u=arguments.length,i=new Array(u),d=0;d<u;d++)i[d]=arguments[d];y.default._validateParameters("nfp",i);var p=y.default.prototype.nf.apply(this,i);return p instanceof Array?p.map(b):b(p)},y.default.prototype.nfs=function(){for(var u=arguments.length,i=new Array(u),d=0;d<u;d++)i[d]=arguments[d];y.default._validateParameters("nfs",i);var p=y.default.prototype.nf.apply(this,i);return p instanceof Array?p.map(l):l(p)},y.default.prototype.split=function(u,i){return y.default._validateParameters("split",arguments),u.split(i)},y.default.prototype.splitTokens=function(u,i){var d,p;return y.default._validateParameters("splitTokens",arguments),p=i!==void 0?(p=/\]/g.exec(i=i),(d=/\[/g.exec(i))&&p?(i=i.slice(0,p.index)+i.slice(p.index+1),d=/\[/g.exec(i),i=i.slice(0,d.index)+i.slice(d.index+1),new RegExp("[\\[".concat(i,"\\]]"),"g")):p?(i=i.slice(0,p.index)+i.slice(p.index+1),new RegExp("[".concat(i,"\\]]"),"g")):d?(i=i.slice(0,d.index)+i.slice(d.index+1),new RegExp("[".concat(i,"\\[]"),"g")):new RegExp("[".concat(i,"]"),"g")):/\s/g,u.split(p).filter(function(v){return v})},y.default.prototype.trim=function(u){return y.default._validateParameters("trim",arguments),u instanceof Array?u.map(this.trim):u.trim()};var c=y.default;S.default=c},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.pad-start":192,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],315:[function(t,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,S.default=t},{"../core/main":273}],316:[function(t,C,S){function y(c){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}function o(c){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(u){return y(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(l=t("../core/main"))&&l.__esModule?l:{default:l},g=(t("./p5.Geometry"),function(c){if(c&&c.__esModule)return c;if(c===null||o(c)!=="object"&&typeof c!="function")return{default:c};var u=function(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,h)}();if(u&&u.has(c))return u.get(c);var i,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in c){var v;Object.prototype.hasOwnProperty.call(c,i)&&((v=p?Object.getOwnPropertyDescriptor(c,i):null)&&(v.get||v.set)?Object.defineProperty(d,i,v):d[i]=c[i])}return d.default=c,u&&u.set(c,d),d}(t("../core/constants")));function b(c,u,i,d,p,v,h){c=c<=0?1:c,u=u<0?0:u,i=i<=0?c:i,d=d<3?3:d;for(var w,_,E=(v=v===void 0||v)?-2:0,R=(p=p<1?1:p)+((h=h===void 0?u!==0:h)?2:0),P=Math.atan2(c-u,i),T=Math.sin(P),D=Math.cos(P),A=E;A<=R;++A){var I=A/p,U=i*I,B=void 0;for(B=A<0?(I=U=0,c):p<A?(U=i,I=1,u):c+(u-c)*I,A!==-2&&A!==p+2||(B=0),U-=i/2,w=0;w<d;++w){var N=w/(d-1),O=2*Math.PI*N,V=Math.sin(O),q=(O=Math.cos(O),this.vertices.push(new a.default.Vector(V*B,U,O*B)));q=A<0?new a.default.Vector(0,-1,0):p<A&&u?new a.default.Vector(0,1,0):new a.default.Vector(V*D,T,O*D),this.vertexNormals.push(q),this.uvs.push(N,I)}}var X=0;if(v){for(_=0;_<d;++_)this.faces.push([X+_,X+d+(_+1)%d,X+d+_]);X+=2*d}for(A=0;A<p;++A){for(w=0;w<d;++w){var Z=(w+1)%d;this.faces.push([X+w,X+Z,X+d+Z]),this.faces.push([X+w,X+d+Z,X+d+w])}X+=d}if(h)for(X+=d,w=0;w<d;++w)this.faces.push([X+w,X+(w+1)%d,X+d])}a.default.prototype.plane=function(c,u,i,d){this._assert3d("plane"),a.default._validateParameters("plane",arguments),c===void 0&&(c=50),u===void 0&&(u=c),d===void 0&&(d=1);var p,v="plane|".concat(i=i===void 0?1:i,"|").concat(d);return this._renderer.geometryInHash(v)||((p=new a.default.Geometry(i,d,function(){for(var h,w,_=0;_<=this.detailY;_++)for(var E=_/this.detailY,R=0;R<=this.detailX;R++)h=R/this.detailX,w=new a.default.Vector(h-.5,E-.5,0),this.vertices.push(w),this.uvs.push(h,E)})).computeFaces().computeNormals(),i<=1&&d<=1?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(v,p)),this._renderer.drawBuffersScaled(v,c,u,1),this},a.default.prototype.box=function(c,u,i,d,p){this._assert3d("box"),a.default._validateParameters("box",arguments),c===void 0&&(c=50),u===void 0&&(u=c),i===void 0&&(i=u);var v,h=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return p===void 0&&(p=h?1:4),h="box|".concat(d=d===void 0?h?1:4:d,"|").concat(p),this._renderer.geometryInHash(h)||((v=new a.default.Geometry(d,p,function(){var w=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(_,E){E*=4;for(var R=0;R<4;R++){var P=_[R];P=new a.default.Vector((2*(1&P)-1)/2,((2&P)-1)/2,((4&P)/2-1)/2),w.vertices.push(P),w.uvs.push(1&R,(2&R)/2)}w.faces.push([E,1+E,2+E]),w.faces.push([2+E,1+E,3+E])})})).computeNormals(),d<=4&&p<=4?v._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(h,v)),this._renderer.drawBuffersScaled(h,c,u,i),this},a.default.prototype.sphere=function(c,u,i){return this._assert3d("sphere"),a.default._validateParameters("sphere",arguments),this.ellipsoid(c=c===void 0?50:c,c,c,u=u===void 0?24:u,i=i===void 0?16:i),this},a.default.prototype.cylinder=function(c,u,i,d,p,v){this._assert3d("cylinder"),a.default._validateParameters("cylinder",arguments),c===void 0&&(c=50),u===void 0&&(u=c),d===void 0&&(d=1),v===void 0&&(v=!0),p===void 0&&(p=!0);var h,w="cylinder|".concat(i=i===void 0?24:i,"|").concat(d,"|").concat(p,"|").concat(v);return this._renderer.geometryInHash(w)||(h=new a.default.Geometry(i,d),b.call(h,1,1,1,i,d,p,v),i<=24&&d<=16?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,h)),this._renderer.drawBuffersScaled(w,c,u,c),this},a.default.prototype.cone=function(c,u,i,d,p){this._assert3d("cone"),a.default._validateParameters("cone",arguments),c===void 0&&(c=50),u===void 0&&(u=c),d===void 0&&(d=1),p===void 0&&(p=!0);var v,h="cone|".concat(i=i===void 0?24:i,"|").concat(d,"|").concat(p);return this._renderer.geometryInHash(h)||(v=new a.default.Geometry(i,d),b.call(v,1,0,1,i,d,p,!1),i<=24&&d<=16?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(h,v)),this._renderer.drawBuffersScaled(h,c,u,c),this},a.default.prototype.ellipsoid=function(c,u,i,d,p){this._assert3d("ellipsoid"),a.default._validateParameters("ellipsoid",arguments),c===void 0&&(c=50),u===void 0&&(u=c),i===void 0&&(i=c),p===void 0&&(p=16);var v,h="ellipsoid|".concat(d=d===void 0?24:d,"|").concat(p);return this._renderer.geometryInHash(h)||((v=new a.default.Geometry(d,p,function(){for(var w=0;w<=this.detailY;w++)for(var _=w/this.detailY,E=Math.PI*_-Math.PI/2,R=Math.cos(E),P=Math.sin(E),T=0;T<=this.detailX;T++){var D=T/this.detailX,A=2*Math.PI*D,I=Math.cos(A);A=Math.sin(A),A=new a.default.Vector(R*A,P,R*I),this.vertices.push(A),this.vertexNormals.push(A),this.uvs.push(D,_)}})).computeFaces(),d<=24&&p<=24?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(h,v)),this._renderer.drawBuffersScaled(h,c,u,i),this},a.default.prototype.torus=function(c,u,i,d){if(this._assert3d("torus"),a.default._validateParameters("torus",arguments),c===void 0)c=50;else if(!c)return;if(u===void 0)u=10;else if(!u)return;i===void 0&&(i=24),d===void 0&&(d=16);var p,v=(u/c).toPrecision(4);return u="torus|".concat(v,"|").concat(i,"|").concat(d),this._renderer.geometryInHash(u)||((p=new a.default.Geometry(i,d,function(){for(var h=0;h<=this.detailY;h++)for(var w=h/this.detailY,_=2*Math.PI*w,E=Math.cos(_),R=Math.sin(_),P=1+v*E,T=0;T<=this.detailX;T++){var D=T/this.detailX,A=2*Math.PI*D,I=Math.cos(A),U=(A=Math.sin(A),new a.default.Vector(P*I,P*A,v*R));I=new a.default.Vector(E*I,E*A,R),this.vertices.push(U),this.vertexNormals.push(I),this.uvs.push(D,w)}})).computeFaces(),i<=24&&d<=16?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(u,p)),this._renderer.drawBuffersScaled(u,c,c,c),this},a.default.RendererGL.prototype.point=function(c,u,i){var d=[];return d.push(new a.default.Vector(c,u,i=i===void 0?0:i)),this._drawPoints(d,this.immediateMode.buffers.point),this},a.default.RendererGL.prototype.triangle=function(c){var u=c[0],i=c[1],d=c[2],p=c[3],v=c[4],h=(c=c[5],this.geometryInHash("tri")||((h=new a.default.Geometry(1,1,function(){var E=[];E.push(new a.default.Vector(0,0,0)),E.push(new a.default.Vector(1,0,0)),E.push(new a.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=E,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),h.computeNormals(),this.createBuffers("tri",h)),this.uMVMatrix.copy());try{var w=Math.sign(u*p-d*i+d*c-v*p+v*i-u*c),_=new a.default.Matrix([d-u,p-i,0,0,v-u,c-i,0,0,0,0,w,0,u,i,0,1]).mult(this.uMVMatrix);this.uMVMatrix=_,this.drawBuffers("tri")}finally{this.uMVMatrix=h}return this},a.default.RendererGL.prototype.ellipse=function(c){this.arc(c[0],c[1],c[2],c[3],0,g.TWO_PI,g.OPEN,c[4])},a.default.RendererGL.prototype.arc=function(c){var u,i=arguments[1],d=arguments[2],p=arguments[3],v=arguments[4],h=arguments[5],w=arguments[6],_=arguments[7]||25,E=(Math.abs(h-v)>=g.TWO_PI?"".concat(R="ellipse","|"):"".concat(R="arc","|").concat(v,"|").concat(h,"|").concat(w,"|")).concat(_,"|"),R=(this.geometryInHash(E)||((u=new a.default.Geometry(_,1,function(){if(v.toFixed(10)!==h.toFixed(10)){w!==g.PIE&&w!==void 0||(this.vertices.push(new a.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var P=0;P<=_;P++){var T=P/_*(h-v)+v,D=.5+Math.cos(T)/2;T=.5+Math.sin(T)/2,this.vertices.push(new a.default.Vector(D,T,0)),this.uvs.push([D,T]),P<_-1&&(this.faces.push([0,P+1,P+2]),this.edges.push([P+1,P+2]))}switch(w){case g.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case g.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case g.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),_<=50?u._edgesToVertices(u):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(R," with more than 50 detail")),this.createBuffers(E,u)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([c,i,0]),this.uMVMatrix.scale(d,p,1),this.drawBuffers(E)}finally{this.uMVMatrix=R}return this},a.default.RendererGL.prototype.rect=function(c){var u=c[0],i=c[1],d=c[2],p=c[3];if(c[4]===void 0){var v=this._pInst._glAttributes.perPixelLighting,h=c[4]||(v?1:24),w=c[5]||(v?1:16),_=(v="rect|".concat(h,"|").concat(w),this.geometryInHash(v)||((_=new a.default.Geometry(h,w,function(){for(var q=0;q<=this.detailY;q++)for(var X=q/this.detailY,Z=0;Z<=this.detailX;Z++){var re=Z/this.detailX,ee=new a.default.Vector(re,X,0);this.vertices.push(ee),this.uvs.push(re,X)}0<h&&0<w&&(this.edges=[[0,h],[h,(h+1)*(w+1)-1],[(h+1)*(w+1)-1,(h+1)*w],[(h+1)*w,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(v,_)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([u,i,0]),this.uMVMatrix.scale(d,p,1),this.drawBuffers(v)}finally{this.uMVMatrix=_}}else{v=c[4],_=c[5]===void 0?v:c[5];var E=c[6]===void 0?_:c[6],R=(c=c[7]===void 0?E:c[7],d),P=p,T=((A=((R+=u)<u&&(A=u,u=R,R=A),(P+=i)<i&&(A=i,i=P,P=A),Math.min((R-u)/2,(P-i)/2)))<v&&(v=A),A<_&&(_=A),A<E&&(E=A),A<c&&(c=A),u),D=i,A=R,I=(u=P,this.beginShape(),_!==0?(this.vertex(A-_,D),this.quadraticVertex(A,D,A,D+_)):this.vertex(A,D),E!==0?(this.vertex(A,u-E),this.quadraticVertex(A,u,A-E,u)):this.vertex(A,u),c!==0?(this.vertex(T+c,u),this.quadraticVertex(T,u,T,u-c)):this.vertex(T,u),v!==0?(this.vertex(T,D+v),this.quadraticVertex(T,D,T+v,D)):this.vertex(T,D),!(this.immediateMode.geometry.uvs.length=0));i=!1,R=void 0;try{for(var U,B=this.immediateMode.geometry.vertices[Symbol.iterator]();!(I=(U=B.next()).done);I=!0){var N=U.value,O=(N.x-T)/d,V=(N.y-D)/p;this.immediateMode.geometry.uvs.push(O,V)}}catch(q){i=!0,R=q}finally{try{I||B.return==null||B.return()}finally{if(i)throw R}}this.endShape(g.CLOSE)}return this},a.default.RendererGL.prototype.quad=function(c,u,i,d,p,v,h,w,_,E,R,P,T,D){T===void 0&&(T=2),D===void 0&&(D=2);var A="quad|".concat(c,"|").concat(u,"|").concat(i,"|").concat(d,"|").concat(p,"|").concat(v,"|").concat(h,"|").concat(w,"|").concat(_,"|").concat(E,"|").concat(R,"|").concat(P,"|").concat(T,"|").concat(D);if(!this.geometryInHash(A)){var I=new a.default.Geometry(T,D,function(){for(var q=1/(this.detailX-1),X=1/(this.detailY-1),Z=0;Z<this.detailY;Z++)for(var re=0;re<this.detailX;re++){var ee=re*q,ae=Z*X;this.vertices.push(new a.default.Vector((1-ee)*((1-ae)*c+ae*E)+ee*((1-ae)*d+ae*h),(1-ee)*((1-ae)*u+ae*R)+ee*((1-ae)*p+ae*w),(1-ee)*((1-ae)*i+ae*P)+ee*((1-ae)*v+ae*_))),this.uvs.push([ee,ae])}});I.faces=[];for(var U=0;U<D-1;U++)for(var B=0;B<T-1;B++){var N=B+U*T,O=B+1+(U+1)*T,V=B+(U+1)*T;I.faces.push([N,B+1+U*T,O]),I.faces.push([N,O,V])}I.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(A,I)}return this.drawBuffers(A),this},a.default.RendererGL.prototype.bezier=function(c,u,i,d,p,v,h,w,_,E,R,P){arguments.length===8&&(R=w,E=h,w=v,h=p,p=d,d=i,i=v=_=P=0);var T=this._pInst._bezierDetail||20;this.beginShape();for(var D=0;D<=T;D++){var A=Math.pow(1-D/T,3),I=D/T*3*Math.pow(1-D/T,2),U=3*Math.pow(D/T,2)*(1-D/T),B=Math.pow(D/T,3);this.vertex(c*A+d*I+h*U+E*B,u*A+p*I+w*U+R*B,i*A+v*I+_*U+P*B)}return this.endShape(),this},a.default.RendererGL.prototype.curve=function(c,u,i,d,p,v,h,w,_,E,R,P){arguments.length===8&&(E=h,R=w,h=p,w=d,p=d=i,i=v=_=P=0);var T=this._pInst._curveDetail;this.beginShape();for(var D=0;D<=T;D++){var A=.5*Math.pow(D/T,3),I=.5*Math.pow(D/T,2),U=D/T*.5;this.vertex(A*(3*d-c-3*h+E)+I*(2*c-5*d+4*h-E)+U*(-c+h)+2*d*.5,A*(3*p-u-3*w+R)+I*(2*u-5*p+4*w-R)+U*(-u+w)+2*p*.5,A*(3*v-i-3*_+P)+I*(2*i-5*v+4*_-P)+U*(-i+_)+2*v*.5)}return this.endShape(),this},a.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(g.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(g.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},a.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var c,u,i,d,p,v,h=[],w=[],_=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var E=1/this._lutBezierDetail,R=0,P=1,T=0;R<1;){if(v=parseFloat(R.toFixed(6)),this._lookUpTableBezier[T]=this._bezierCoefficients(v),P.toFixed(6)===E.toFixed(6)){v=parseFloat(P.toFixed(6))+parseFloat(R.toFixed(6)),++T,this._lookUpTableBezier[T]=this._bezierCoefficients(v);break}R+=E,P-=E,++T}}for(var D=this._lookUpTableBezier.length,A=[],I=0;I<4;I++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[3]=this.curFillColor.slice();var U=[];for(I=0;I<4;I++)U.push([]);if(U[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),U[3]=this.curStrokeColor.slice(),_===6){this.isBezier=!0,h=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],w=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var B=Math.hypot(h[0]-h[1],w[0]-w[1]),N=Math.hypot(h[1]-h[2],w[1]-w[2]),O=Math.hypot(h[2]-h[3],w[2]-w[3]);for(B/=N=B+N+O,O/=N,p=0;p<4;p++)A[1].push(A[0][p]*(1-B)+A[3][p]*B),A[2].push(A[0][p]*O+A[3][p]*(1-O)),U[1].push(U[0][p]*(1-B)+U[3][p]*B),U[2].push(U[0][p]*O+U[3][p]*(1-O));for(d=0;d<D;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=c=u=0;I<4;I++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableBezier[d][I]*A[I][p],this.curStrokeColor[p]+=this._lookUpTableBezier[d][I]*U[I][p];c+=h[I]*this._lookUpTableBezier[d][I],u+=w[I]*this._lookUpTableBezier[d][I]}this.vertex(c,u)}this.curFillColor=A[3],this.curStrokeColor=U[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(_===9){this.isBezier=!0,h=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],w=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var V=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],q=Math.hypot(h[0]-h[1],w[0]-w[1],V[0]-V[1]),X=(N=Math.hypot(h[1]-h[2],w[1]-w[2],V[1]-V[2]),Math.hypot(h[2]-h[3],w[2]-w[3],V[2]-V[3]));for(q/=_=q+N+X,X/=_,p=0;p<4;p++)A[1].push(A[0][p]*(1-q)+A[3][p]*q),A[2].push(A[0][p]*X+A[3][p]*(1-X)),U[1].push(U[0][p]*(1-q)+U[3][p]*q),U[2].push(U[0][p]*X+U[3][p]*(1-X));for(d=0;d<D;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=c=u=i=0;I<4;I++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableBezier[d][I]*A[I][p],this.curStrokeColor[p]+=this._lookUpTableBezier[d][I]*U[I][p];c+=h[I]*this._lookUpTableBezier[d][I],u+=w[I]*this._lookUpTableBezier[d][I],i+=V[I]*this._lookUpTableBezier[d][I]}this.vertex(c,u,i)}this.curFillColor=A[3],this.curStrokeColor=U[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},a.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var c,u,i,d,p,v,h=[],w=[],_=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var E=1/this._lutQuadraticDetail,R=0,P=1,T=0;R<1;){if(v=parseFloat(R.toFixed(6)),this._lookUpTableQuadratic[T]=this._quadraticCoefficients(v),P.toFixed(6)===E.toFixed(6)){v=parseFloat(P.toFixed(6))+parseFloat(R.toFixed(6)),++T,this._lookUpTableQuadratic[T]=this._quadraticCoefficients(v);break}R+=E,P-=E,++T}}for(var D=this._lookUpTableQuadratic.length,A=[],I=0;I<3;I++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[2]=this.curFillColor.slice();var U=[];for(I=0;I<3;I++)U.push([]);if(U[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),U[2]=this.curStrokeColor.slice(),_===4){this.isQuadratic=!0,h=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],w=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var B=Math.hypot(h[0]-h[1],w[0]-w[1]);for(B/=B+Math.hypot(h[1]-h[2],w[1]-w[2]),p=0;p<4;p++)A[1].push(A[0][p]*(1-B)+A[2][p]*B),U[1].push(U[0][p]*(1-B)+U[2][p]*B);for(d=0;d<D;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=c=u=0;I<3;I++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableQuadratic[d][I]*A[I][p],this.curStrokeColor[p]+=this._lookUpTableQuadratic[d][I]*U[I][p];c+=h[I]*this._lookUpTableQuadratic[d][I],u+=w[I]*this._lookUpTableQuadratic[d][I]}this.vertex(c,u)}this.curFillColor=A[2],this.curStrokeColor=U[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(_===6){this.isQuadratic=!0,h=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],w=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var N=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],O=Math.hypot(h[0]-h[1],w[0]-w[1],N[0]-N[1]);for(O/=O+Math.hypot(h[1]-h[2],w[1]-w[2],N[1]-N[2]),p=0;p<4;p++)A[1].push(A[0][p]*(1-O)+A[2][p]*O),U[1].push(U[0][p]*(1-O)+U[2][p]*O);for(d=0;d<D;d++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=c=u=i=0;I<3;I++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableQuadratic[d][I]*A[I][p],this.curStrokeColor[p]+=this._lookUpTableQuadratic[d][I]*U[I][p];c+=h[I]*this._lookUpTableQuadratic[d][I],u+=w[I]*this._lookUpTableQuadratic[d][I],i+=N[I]*this._lookUpTableQuadratic[d][I]}this.vertex(c,u,i)}this.curFillColor=A[2],this.curStrokeColor=U[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},a.default.RendererGL.prototype.curveVertex=function(){var c,u,i,d,p,v,h=[],w=[],_=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var E=1/this._lutBezierDetail,R=0,P=1,T=0;R<1;){if(v=parseFloat(R.toFixed(6)),this._lookUpTableBezier[T]=this._bezierCoefficients(v),P.toFixed(6)===E.toFixed(6)){v=parseFloat(P.toFixed(6))+parseFloat(R.toFixed(6)),++T,this._lookUpTableBezier[T]=this._bezierCoefficients(v);break}R+=E,P-=E,++T}}var D=this._lookUpTableBezier.length;if(_===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,h=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),p=0;p<D;p++)u=h[0]*this._lookUpTableBezier[p][0]+h[1]*this._lookUpTableBezier[p][1]+h[2]*this._lookUpTableBezier[p][2]+h[3]*this._lookUpTableBezier[p][3],i=w[0]*this._lookUpTableBezier[p][0]+w[1]*this._lookUpTableBezier[p][1]+w[2]*this._lookUpTableBezier[p][2]+w[3]*this._lookUpTableBezier[p][3],this.vertex(u,i);for(p=0;p<_;p++)this.immediateMode._curveVertex.shift()}}else if(_===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,h=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),c=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),p=0;p<D;p++)u=h[0]*this._lookUpTableBezier[p][0]+h[1]*this._lookUpTableBezier[p][1]+h[2]*this._lookUpTableBezier[p][2]+h[3]*this._lookUpTableBezier[p][3],i=w[0]*this._lookUpTableBezier[p][0]+w[1]*this._lookUpTableBezier[p][1]+w[2]*this._lookUpTableBezier[p][2]+w[3]*this._lookUpTableBezier[p][3],d=c[0]*this._lookUpTableBezier[p][0]+c[1]*this._lookUpTableBezier[p][1]+c[2]*this._lookUpTableBezier[p][2]+c[3]*this._lookUpTableBezier[p][3],this.vertex(u,i,d);for(p=0;p<_;p++)this.immediateMode._curveVertex.shift()}},a.default.RendererGL.prototype.image=function(c,u,i,d,p,v,h,w,_){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(c),this._pInst.textureMode(g.NORMAL);var E=0,R=(u<=c.width&&(E=u/c.width),1);u+d<=c.width&&(R=(u+d)/c.width),u=0,i<=c.height&&(u=i/c.height),d=1,i+p<=c.height&&(d=(i+p)/c.height),this.beginShape(),this.vertex(v,h,0,E,u),this.vertex(v+w,h,0,R,u),this.vertex(v+w,h+_,0,R,d),this.vertex(v,h+_,0,E,d),this.endShape(g.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(g.REMOVE)};var l=a.default;S.default=l},{"../core/constants":262,"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],317:[function(t,C,S){function y(l){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var o=(b=t("../core/main"))&&b.__esModule?b:{default:b},a=function(l){if(l&&l.__esModule)return l;if(l===null||g(l)!=="object"&&typeof l!="function")return{default:l};var c=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(c&&c.has(l))return c.get(l);var u,i={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var p;Object.prototype.hasOwnProperty.call(l,u)&&((p=d?Object.getOwnPropertyDescriptor(l,u):null)&&(p.get||p.set)?Object.defineProperty(i,u,p):i[u]=l[u])}return i.default=l,c&&c.set(l,i),i}(t("../core/constants"));function g(l){return(g=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(c){return y(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":y(c)})(l)}o.default.prototype.orbitControl=function(l,c,u,i){var d=this,p=(this._assert3d("orbitControl"),o.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);l===void 0&&(l=1),c===void 0&&(c=l),u===void 0&&(u=1),g(i)!=="object"&&(i={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var v=i.disableTouchActions;this.touchActionsDisabled===!0||v!==void 0&&!v||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),i=(v=i.freeRotation)!==void 0&&v;var h,w,_,E=[],R=(v=(this.touches.forEach(function(U){d._renderer.prevTouches.forEach(function(B){U.id===B.id&&(B={x:U.x,y:U.y,px:B.x,py:B.y},E.push(B))})}),this._renderer.prevTouches=this.touches,0),0),P=0,T=0,D=0,A=this.height<this.width?this.height:this.width,I=!1;return 0<E.length?(I=0<E[0].x&&E[0].x<this.width&&0<E[0].y&&E[0].y<this.height,E.length===1?(R=-l*((h=E[0]).x-h.px)/A,P=c*(h.y-h.py)/A):(h=E[0],w=E[1],v=-(Math.hypot(h.x-w.x,h.y-w.y)-Math.hypot(h.px-w.px,h.py-w.py))*u*4e-4,T=.5*(h.x+w.x)-.5*(h.px+w.px),D=.5*(h.y+w.y)-.5*(h.py+w.py)),0<this.touches.length?I&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(I=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(v=Math.sign(this._mouseWheelDeltaY)*u,v*=.01,this._mouseWheelDeltaY=0,I&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(R=-l*this.movedX/A,P=c*this.movedY/A):this.mouseButton===this.RIGHT&&(T=this.movedX,D=this.movedY),I&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),v!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=v),.001<Math.abs(this._renderer.zoomVelocity)?(i?p._orbitFree(0,0,this._renderer.zoomVelocity):p._orbit(0,0,this._renderer.zoomVelocity),p.projMatrix.mat4[15]!==0&&(p.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),p.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=p.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=p.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,R===0&&P===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*R,.6*P),1e-6<this._renderer.rotateVelocity.magSq()?(i?p._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):p._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),T===0&&D===0||!this._renderer.executeRotateAndMove||(h=2*T/this.width,w=2*-D/this.height,this._renderer.moveVelocity.add(.15*h,.15*w)),1e-6<this._renderer.moveVelocity.magSq()?(u=p._getLocalAxes(),l=p.eyeX-p.centerX,c=p.eyeY-p.centerY,A=p.eyeZ-p.centerZ,I=Math.sqrt(l*l+c*c+A*A),v=new o.default.Vector(p.centerX,p.centerY,p.centerZ),v=p.cameraMatrix.multiplyPoint(v),(v=this._renderer.uPMatrix.multiplyAndNormalizePoint(v)).x-=this._renderer.moveVelocity.x,v.y-=this._renderer.moveVelocity.y,P=(R=this._renderer.uPMatrix.mat4)[15]===0?(_=(R[8]+v.x)/R[0]*I,(R[9]+v.y)/R[5]*I):(_=(v.x-R[12])/R[0],(v.y-R[13])/R[5]),p.setPosition(p.eyeX+_*u.x[0]+P*u.y[0],p.eyeY+_*u.x[1]+P*u.y[1],p.eyeZ+_*u.x[2]+P*u.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},o.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];o.default._validateParameters("debugMode",c);for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1);c[0]===a.GRID?this.registerMethod("post",this._grid.call(this,c[1],c[2],c[3],c[4],c[5])):c[0]===a.AXES?this.registerMethod("post",this._axesIcon.call(this,c[1],c[2],c[3],c[4])):(this.registerMethod("post",this._grid.call(this,c[0],c[1],c[2],c[3],c[4])),this.registerMethod("post",this._axesIcon.call(this,c[5],c[6],c[7],c[8])))},o.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var l=this._registeredMethods.post.length-1;0<=l;l--)this._registeredMethods.post[l].toString()!==this._grid().toString()&&this._registeredMethods.post[l].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(l,1)},o.default.prototype._grid=function(l,c,u,i,d){l===void 0&&(l=this.width/2),c===void 0&&(c=Math.round(l/30)<4?4:Math.round(l/30)),u===void 0&&(u=0),i===void 0&&(i=0),d===void 0&&(d=0);var p=l/c,v=l/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var h=0;h<=c;h++)this.beginShape(this.LINES),this.vertex(-v+u,i,h*p-v+d),this.vertex(v+u,i,h*p-v+d),this.endShape();for(var w=0;w<=c;w++)this.beginShape(this.LINES),this.vertex(w*p-v+u,i,-v+d),this.vertex(w*p-v+u,i,v+d),this.endShape();this.pop()}},o.default.prototype._axesIcon=function(l,c,u,i){return l===void 0&&(l=40<this.width/20?this.width/20:40),c===void 0&&(c=-this.width/4),u===void 0&&(u=c),i===void 0&&(i=c),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(c,u,i),this.vertex(c+l,u,i),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(c,u,i),this.vertex(c,u+l,i),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(c,u,i),this.vertex(c,u,i+l),this.endShape(),this.pop()}};var b=o.default;S.default=b},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],318:[function(t,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};y.default.prototype.ambientLight=function(o,a,g,b){this._assert3d("ambientLight"),y.default._validateParameters("ambientLight",arguments);var l=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(l._array[0],l._array[1],l._array[2]),this._renderer._enableLighting=!0,this},y.default.prototype.specularColor=function(o,a,g){this._assert3d("specularColor"),y.default._validateParameters("specularColor",arguments);var b=this.color.apply(this,arguments);return this._renderer.specularColors=[b._array[0],b._array[1],b._array[2]],this},y.default.prototype.directionalLight=function(o,a,g,b,l,c){this._assert3d("directionalLight"),y.default._validateParameters("directionalLight",arguments),o=o instanceof y.default.Color?o:this.color(o,a,g);var u,i;return g=typeof(a=arguments[arguments.length-1])=="number"?(u=arguments[arguments.length-3],i=arguments[arguments.length-2],arguments[arguments.length-1]):(u=a.x,i=a.y,a.z),a=Math.sqrt(u*u+i*i+g*g),this._renderer.directionalLightDirections.push(u/a,i/a,g/a),this._renderer.directionalLightDiffuseColors.push(o._array[0],o._array[1],o._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},y.default.prototype.pointLight=function(o,a,g,b,l,c){this._assert3d("pointLight"),y.default._validateParameters("pointLight",arguments),o=o instanceof y.default.Color?o:this.color(o,a,g);var u,i;return g=typeof(a=arguments[arguments.length-1])=="number"?(u=arguments[arguments.length-3],i=arguments[arguments.length-2],arguments[arguments.length-1]):(u=a.x,i=a.y,a.z),this._renderer.pointLightPositions.push(u,i,g),this._renderer.pointLightDiffuseColors.push(o._array[0],o._array[1],o._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},y.default.prototype.lights=function(){this._assert3d("lights");var o=this.color("rgb(128,128,128)");return this.ambientLight(o),this.directionalLight(o,0,0,-1),this},y.default.prototype.lightFalloff=function(o,a,g){return this._assert3d("lightFalloff"),y.default._validateParameters("lightFalloff",arguments),o<0&&(o=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),a<0&&(a=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),g<0&&(g=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),o===0&&a===0&&g===0&&(o=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=o,this._renderer.linearAttenuation=a,this._renderer.quadraticAttenuation=g,this},y.default.prototype.spotLight=function(o,a,g,b,l,c,u,i,d,p,v){this._assert3d("spotLight"),y.default._validateParameters("spotLight",arguments);var h,w,_,E=arguments.length;switch(E){case 11:case 10:h=this.color(o,a,g),w=new y.default.Vector(b,l,c),_=new y.default.Vector(u,i,d);break;case 9:o instanceof y.default.Color?(h=o,w=new y.default.Vector(a,g,b),_=new y.default.Vector(l,c,u),p=i,v=d):b instanceof y.default.Vector?(h=this.color(o,a,g),w=b,_=new y.default.Vector(l,c,u),p=i,v=d):u instanceof y.default.Vector?(h=this.color(o,a,g),w=new y.default.Vector(b,l,c),_=u,p=i,v=d):(h=this.color(o,a,g),w=new y.default.Vector(b,l,c),_=new y.default.Vector(u,i,d));break;case 8:_=o instanceof y.default.Color?(h=o,w=new y.default.Vector(a,g,b),new y.default.Vector(l,c,u)):b instanceof y.default.Vector?(h=this.color(o,a,g),w=b,new y.default.Vector(l,c,u)):(h=this.color(o,a,g),w=new y.default.Vector(b,l,c),u),p=i;break;case 7:o instanceof y.default.Color&&a instanceof y.default.Vector?(h=o,w=a,_=new y.default.Vector(g,b,l),p=c,v=u):o instanceof y.default.Color&&l instanceof y.default.Vector?(h=o,w=new y.default.Vector(a,g,b),_=l,p=c,v=u):b instanceof y.default.Vector&&l instanceof y.default.Vector?(h=this.color(o,a,g),w=b,_=l,p=c,v=u):_=o instanceof y.default.Color?(h=o,w=new y.default.Vector(a,g,b),new y.default.Vector(l,c,u)):b instanceof y.default.Vector?(h=this.color(o,a,g),w=b,new y.default.Vector(l,c,u)):(h=this.color(o,a,g),w=new y.default.Vector(b,l,c),u);break;case 6:b instanceof y.default.Vector&&l instanceof y.default.Vector?(h=this.color(o,a,g),w=b,_=l,p=c):o instanceof y.default.Color&&l instanceof y.default.Vector?(h=o,w=new y.default.Vector(a,g,b),_=l,p=c):o instanceof y.default.Color&&a instanceof y.default.Vector&&(h=o,w=a,_=new y.default.Vector(g,b,l),p=c);break;case 5:o instanceof y.default.Color&&a instanceof y.default.Vector&&g instanceof y.default.Vector?(h=o,w=a,_=g,p=b,v=l):b instanceof y.default.Vector&&l instanceof y.default.Vector?(h=this.color(o,a,g),w=b,_=l):o instanceof y.default.Color&&l instanceof y.default.Vector?(h=o,w=new y.default.Vector(a,g,b),_=l):o instanceof y.default.Color&&a instanceof y.default.Vector&&(h=o,w=a,_=new y.default.Vector(g,b,l));break;case 4:h=o,w=a,_=g,p=b;break;case 3:h=o,w=a,_=g;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(E<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(h._array[0],h._array[1],h._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(w.x,w.y,w.z),_.normalize(),this._renderer.spotLightDirections.push(_.x,_.y,_.z),p===void 0&&(p=Math.PI/3),v!==void 0&&v<1?(v=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):v===void 0&&(v=100),p=this._renderer._pInst._toRadians(p),this._renderer.spotLightAngle.push(Math.cos(p)),this._renderer.spotLightConc.push(v),this._renderer._enableLighting=!0,this},y.default.prototype.noLights=function(){this._assert3d("noLights");for(var o=arguments.length,a=new Array(o),g=0;g<o;g++)a[g]=arguments[g];return y.default._validateParameters("noLights",a),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},t=y.default,S.default=t},{"../core/main":273}],319:[function(t,C,S){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(o=t("../core/main"))&&o.__esModule?o:{default:o};t("./p5.Geometry"),y.default.prototype.loadModel=function(a){y.default._validateParameters("loadModel",arguments);var g,b,l,c=a.slice(-4),u=(typeof arguments[1]=="boolean"?(g=arguments[1],b=arguments[2],l=arguments[3],arguments[4]!==void 0&&(c=arguments[4])):(g=!1,b=arguments[1],l=arguments[2],arguments[3]!==void 0&&(c=arguments[3])),new y.default.Geometry),i=(u.gid="".concat(a,"|").concat(g),this);return c.match(/\.stl$/i)?this.httpDo(a,"GET","arrayBuffer",function(d){(function(p,v){if(function(h){for(var w=new DataView(h),_=[115,111,108,105,100],E=0;E<5;E++)if(function(R,P,T){for(var D=0,A=R.length;D<A;D++)if(R[D]!==P.getUint8(T+D,!1))return;return 1}(_,w,E))return;return 1}(v))(function(h,w){for(var _,E,R,P,T,D,A,I=new DataView(w),U=I.getUint32(80,!0),B=!1,N=0;N<70;N++)I.getUint32(N,!1)===1129270351&&I.getUint8(N+4)===82&&I.getUint8(N+5)===61&&(B=!0,P=[],T=I.getUint8(N+6)/255,D=I.getUint8(N+7)/255,A=I.getUint8(N+8)/255);for(var O=0;O<U;O++){for(var V,q=84+50*O,X=I.getFloat32(q,!0),Z=I.getFloat32(4+q,!0),re=I.getFloat32(8+q,!0),ee=(B&&(R=32768&(V=I.getUint16(48+q,!0))?(_=T,E=D,A):(_=(31&V)/31,E=(V>>5&31)/31,(V>>10&31)/31)),new y.default.Vector(X,Z,re)),ae=1;ae<=3;ae++){var z=q+12*ae;z=new y.default.Vector(I.getFloat32(z,!0),I.getFloat32(4+z,!0),I.getFloat32(8+z,!0)),h.vertices.push(z),h.vertexNormals.push(ee),B&&P.push(_,E,R)}h.faces.push([3*O,3*O+1,3*O+2]),h.uvs.push([0,0],[0,0],[0,0])}})(p,v);else{if(v=new DataView(v),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");(function(h,w){for(var _,E,R="",P=[],T=0;T<w.length;++T){for(var D=w[T].trim(),A=D.split(" "),I=0;I<A.length;++I)A[I]===""&&A.splice(I,1);if(A.length!==0)switch(R){case"":if(A[0]!=="solid")return console.error(D),console.error('Invalid state "'.concat(A[0],'", should be "solid"'));R="solid";break;case"solid":if(A[0]!=="facet"||A[1]!=="normal")return console.error(D),console.error('Invalid state "'.concat(A[0],'", should be "facet normal"'));_=new y.default.Vector(parseFloat(A[2]),parseFloat(A[3]),parseFloat(A[4])),h.vertexNormals.push(_,_,_),R="facet normal";break;case"facet normal":if(A[0]!=="outer"||A[1]!=="loop")return console.error(D),console.error('Invalid state "'.concat(A[0],'", should be "outer loop"'));R="vertex";break;case"vertex":if(A[0]==="vertex")E=new y.default.Vector(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])),h.vertices.push(E),h.uvs.push([0,0]),P.push(h.vertices.indexOf(E));else{if(A[0]!=="endloop")return console.error(D),console.error('Invalid state "'.concat(A[0],'", should be "vertex" or "endloop"'));h.faces.push(P),P=[],R="endloop"}break;case"endloop":if(A[0]!=="endfacet")return console.error(D),console.error('Invalid state "'.concat(A[0],'", should be "endfacet"'));R="endfacet";break;case"endfacet":if(A[0]!=="endsolid"){if(A[0]!=="facet"||A[1]!=="normal")return console.error(D),console.error('Invalid state "'.concat(A[0],'", should be "endsolid" or "facet normal"'));_=new y.default.Vector(parseFloat(A[2]),parseFloat(A[3]),parseFloat(A[4])),h.vertexNormals.push(_,_,_),R="facet normal"}break;default:console.error('Invalid state "'.concat(R,'"'))}}})(p,v=new TextDecoder("utf-8").decode(v).split(`
`))}})(u,d),g&&u.normalize(),i._decrementPreload(),typeof b=="function"&&b(u)},l):c.match(/\.obj$/i)?this.loadStrings(a,function(d){for(var p=u,v=d,h={v:[],vt:[],vn:[]},w={},_=0;_<v.length;++_){var E=v[_].trim().split(/\b\s+/);if(0<E.length){if(E[0]==="v"||E[0]==="vn"){var R=new y.default.Vector(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3]));h[E[0]].push(R)}else if(E[0]==="vt")R=[parseFloat(E[1]),1-parseFloat(E[2])],h[E[0]].push(R);else if(E[0]==="f")for(var P=3;P<E.length;++P){for(var T=[],D=[1,P-1,P],A=0;A<D.length;++A){var I=E[D[A]],U=0;if(w[I]!==void 0)U=w[I];else{for(var B=I.split("/"),N=0;N<B.length;N++)B[N]=parseInt(B[N])-1;U=w[I]=p.vertices.length,p.vertices.push(h.v[B[0]].copy()),h.vt[B[1]]?p.uvs.push(h.vt[B[1]].slice()):p.uvs.push([0,0]),h.vn[B[2]]&&p.vertexNormals.push(h.vn[B[2]].copy())}T.push(U)}T[0]!==T[1]&&T[0]!==T[2]&&T[1]!==T[2]&&p.faces.push(T)}}}p.vertexNormals.length===0&&p.computeNormals(),g&&u.normalize(),i._decrementPreload(),typeof b=="function"&&b(u)},l):(y.default._friendlyFileLoadError(3,a),l?l():y.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),u},y.default.prototype.model=function(a){this._assert3d("model"),y.default._validateParameters("model",arguments),0<a.vertices.length&&(this._renderer.geometryInHash(a.gid)||(a.edges.length===0&&a._makeTriangleEdges(),a._edgesToVertices(),this._renderer.createBuffers(a.gid,a)),this._renderer.drawBuffers(a.gid))};var o=y.default;S.default=o},{"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199}],320:[function(t,C,S){function y(l){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function o(l){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(c){return y(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":y(c)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(b=t("../core/main"))&&b.__esModule?b:{default:b},g=function(l){if(l&&l.__esModule)return l;if(l===null||o(l)!=="object"&&typeof l!="function")return{default:l};var c=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(c&&c.has(l))return c.get(l);var u,i={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var p;Object.prototype.hasOwnProperty.call(l,u)&&((p=d?Object.getOwnPropertyDescriptor(l,u):null)&&(p.get||p.set)?Object.defineProperty(i,u,p):i[u]=l[u])}return i.default=l,c&&c.set(l,i),i}(t("../core/constants"));t("./p5.Texture"),a.default.prototype.loadShader=function(l,c,u,i){function d(){v._decrementPreload(),u&&u(p)}a.default._validateParameters("loadShader",arguments),i=i||console.error;var p=new a.default.Shader,v=this,h=!1,w=!1;return this.loadStrings(l,function(_){p._vertSrc=_.join(`
`),w=!0,h&&d()},i),this.loadStrings(c,function(_){p._fragSrc=_.join(`
`),h=!0,w&&d()},i),p},a.default.prototype.createShader=function(l,c){return this._assert3d("createShader"),a.default._validateParameters("createShader",arguments),new a.default.Shader(this._renderer,l,c)},a.default.prototype.shader=function(l){return this._assert3d("shader"),a.default._validateParameters("shader",arguments),l._renderer===void 0&&(l._renderer=this._renderer),l.init(),l.isStrokeShader()?this._renderer.userStrokeShader=l:(this._renderer.userFillShader=l,this._renderer._useNormalMaterial=!1),this},a.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},a.default.prototype.texture=function(l){return this._assert3d("texture"),a.default._validateParameters("texture",arguments),l.gifProperties&&l._animateGif(this),this._renderer.drawMode=g.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=l,this._renderer._setProperty("_doFill",!0),this},a.default.prototype.textureMode=function(l){l!==g.IMAGE&&l!==g.NORMAL?console.warn("You tried to set ".concat(l," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=l},a.default.prototype.textureWrap=function(l){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:l,u=(this._renderer.textureWrapX=l,this._renderer.textureWrapY=c,!0),i=!1,d=void 0;try{for(var p,v=this._renderer.textures.values()[Symbol.iterator]();!(u=(p=v.next()).done);u=!0)p.value.setWrapMode(l,c)}catch(h){i=!0,d=h}finally{try{u||v.return==null||v.return()}finally{if(i)throw d}}},a.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return a.default._validateParameters("normalMaterial",c),this._renderer.drawMode=g.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},a.default.prototype.ambientMaterial=function(l,c,u){this._assert3d("ambientMaterial"),a.default._validateParameters("ambientMaterial",arguments);var i=a.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=i._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},a.default.prototype.emissiveMaterial=function(l,c,u,i){this._assert3d("emissiveMaterial"),a.default._validateParameters("emissiveMaterial",arguments);var d=a.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=d._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},a.default.prototype.specularMaterial=function(l,c,u,i){this._assert3d("specularMaterial"),a.default._validateParameters("specularMaterial",arguments);var d=a.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=d._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},a.default.prototype.shininess=function(l){return this._assert3d("shininess"),a.default._validateParameters("shininess",arguments),this._renderer._useShininess=l=l<1?1:l,this},a.default.RendererGL.prototype._applyColorBlend=function(l){var c=this.GL,u=this.drawMode===g.TEXTURE;return(u=this.userFillShader||this.userStrokeShader||this.userPointShader||u||this.curBlendMode!==g.BLEND||l[l.length-1]<1||this._isErasing)!==this._isBlending&&(u||this.curBlendMode!==g.BLEND&&this.curBlendMode!==g.ADD?c.enable(c.BLEND):c.disable(c.BLEND),c.depthMask(!0),this._isBlending=u),this._applyBlendMode(),l},a.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var l=this.GL;switch(this.curBlendMode){case g.BLEND:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA);break;case g.ADD:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ONE,l.ONE);break;case g.REMOVE:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ZERO,l.ONE_MINUS_SRC_ALPHA);break;case g.MULTIPLY:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.DST_COLOR,l.ONE_MINUS_SRC_ALPHA);break;case g.SCREEN:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_COLOR);break;case g.EXCLUSION:l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(l.ONE_MINUS_DST_COLOR,l.ONE_MINUS_SRC_COLOR,l.ONE,l.ONE);break;case g.REPLACE:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ONE,l.ZERO);break;case g.SUBTRACT:l.blendEquationSeparate(l.FUNC_REVERSE_SUBTRACT,l.FUNC_ADD),l.blendFuncSeparate(l.ONE,l.ONE,l.ONE,l.ONE_MINUS_SRC_ALPHA);break;case g.DARKEST:this.blendExt?(l.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,l.FUNC_ADD),l.blendFuncSeparate(l.ONE,l.ONE,l.ONE,l.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case g.LIGHTEST:this.blendExt?(l.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,l.FUNC_ADD),l.blendFuncSeparate(l.ONE,l.ONE,l.ONE,l.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var b=a.default;S.default=b},{"../core/constants":262,"../core/main":273,"./p5.Texture":330,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],321:[function(t,C,S){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(a,g){for(var b=0;b<g.length;b++){var l=g[b];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}y.default.prototype.camera=function(){var a;this._assert3d("camera");for(var g=arguments.length,b=new Array(g),l=0;l<g;l++)b[l]=arguments[l];return y.default._validateParameters("camera",b),(a=this._renderer._curCamera).camera.apply(a,b),this},y.default.prototype.perspective=function(){var a;this._assert3d("perspective");for(var g=arguments.length,b=new Array(g),l=0;l<g;l++)b[l]=arguments[l];return y.default._validateParameters("perspective",b),(a=this._renderer._curCamera).perspective.apply(a,b),this},y.default.prototype.ortho=function(){var a;this._assert3d("ortho");for(var g=arguments.length,b=new Array(g),l=0;l<g;l++)b[l]=arguments[l];return y.default._validateParameters("ortho",b),(a=this._renderer._curCamera).ortho.apply(a,b),this},y.default.prototype.frustum=function(){var a;this._assert3d("frustum");for(var g=arguments.length,b=new Array(g),l=0;l<g;l++)b[l]=arguments[l];return y.default._validateParameters("frustum",b),(a=this._renderer._curCamera).frustum.apply(a,b),this},y.default.prototype.createCamera=function(){this._assert3d("createCamera");var a=new y.default.Camera(this._renderer);return a._computeCameraDefaultSettings(),a._setDefaultCamera(),this._renderer._curCamera=a},y.default.Camera=function(){function a(l){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._renderer=l,this.cameraType="default",this.cameraMatrix=new y.default.Matrix,this.projMatrix=new y.default.Matrix,this.yScale=1}var g,b;return g=a,(b=[{key:"perspective",value:function(l,c,u,i){this.cameraType=0<arguments.length?"custom":"default",l===void 0?(l=this.defaultCameraFOV,this.cameraFOV=l):this.cameraFOV=this._renderer._pInst._toRadians(l),c===void 0&&(c=this.defaultAspectRatio),u===void 0&&(u=this.defaultCameraNear),i===void 0&&(i=this.defaultCameraFar),u<=1e-4&&(u=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),i<u&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=c,this.cameraNear=u,this.cameraFar=i,this.projMatrix=y.default.Matrix.identity(),l=1/Math.tan(this.cameraFOV/2);var d=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(l/c,0,0,0,0,-l*this.yScale,0,0,0,0,(i+u)*d,-1,0,0,2*i*u*d,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(l,c,u,i,d,p){l===void 0&&(l=-this._renderer.width/2),c===void 0&&(c=+this._renderer.width/2),u===void 0&&(u=-this._renderer.height/2),i===void 0&&(i=+this._renderer.height/2),d===void 0&&(d=0),p===void 0&&(p=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=d;var v=c-l,h=i-u,w=(this.cameraFar=p)-d,_=2/v,E=2/h*this.yScale,R=-2/w;c=-(c+l)/v,l=-(i+u)/h,v=-(p+d)/w,this.projMatrix=y.default.Matrix.identity(),this.projMatrix.set(_,0,0,0,0,-E,0,0,0,0,R,0,c,l,v,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(l,c,u,i,d,p){l===void 0&&(l=.05*-this._renderer.width),c===void 0&&(c=.05*+this._renderer.width),u===void 0&&(u=.05*+this._renderer.height),i===void 0&&(i=.05*-this._renderer.height),d===void 0&&(d=this.defaultCameraNear),p===void 0&&(p=this.defaultCameraFar),this.cameraNear=d;var v=c-l,h=i-u,w=(this.cameraFar=p)-d,_=2*d/v,E=2*d/h*this.yScale,R=-2*p*d/w;c=(c+l)/v,l=(i+u)/h,v=-(p+d)/w,this.projMatrix=y.default.Matrix.identity(),this.projMatrix.set(_,0,0,0,0,-E,0,0,c,l,v,-1,0,0,R,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(l,c,u,i){var d=this.centerX,p=this.centerY,v=this.centerZ,h=(d-=this.eyeX,p-=this.eyeY,v-=this.eyeZ,y.default.Matrix.identity(this._renderer._pInst));(l=(h.rotate(this._renderer._pInst._toRadians(l),c,u,i),[d*h.mat4[0]+p*h.mat4[4]+v*h.mat4[8],d*h.mat4[1]+p*h.mat4[5]+v*h.mat4[9],d*h.mat4[2]+p*h.mat4[6]+v*h.mat4[10]]))[0]+=this.eyeX,l[1]+=this.eyeY,l[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,l[0],l[1],l[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(l){var c=this._getLocalAxes();this._rotateView(l,c.y[0],c.y[1],c.y[2])}},{key:"tilt",value:function(l){var c=this._getLocalAxes();this._rotateView(l,c.x[0],c.x[1],c.x[2])}},{key:"lookAt",value:function(l,c,u){this.camera(this.eyeX,this.eyeY,this.eyeZ,l,c,u,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(l,c,u,i,d,p,v,h,w){return l===void 0&&(l=this.defaultEyeX,c=this.defaultEyeY,u=this.defaultEyeZ,i=l,d=c,h=1,w=v=p=0),this.eyeX=l,this.eyeY=c,this.eyeZ=u,i!==void 0&&(this.centerX=i,this.centerY=d,this.centerZ=p),v!==void 0&&(this.upX=v,this.upY=h,this.upZ=w),i=this._getLocalAxes(),this.cameraMatrix.set(i.x[0],i.y[0],i.z[0],0,i.x[1],i.y[1],i.z[1],0,i.x[2],i.y[2],i.z[2],0,0,0,0,1),d=-l,this.cameraMatrix.translate([d,-c,-u]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(l,c,u){l=[(i=this._getLocalAxes()).x[0]*l,i.x[1]*l,i.x[2]*l],c=[i.y[0]*c,i.y[1]*c,i.y[2]*c];var i=[i.z[0]*u,i.z[1]*u,i.z[2]*u];this.camera(this.eyeX+l[0]+c[0]+i[0],this.eyeY+l[1]+c[1]+i[1],this.eyeZ+l[2]+c[2]+i[2],this.centerX+l[0]+c[0]+i[0],this.centerY+l[1]+c[1]+i[1],this.centerZ+l[2]+c[2]+i[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(l,c,u){var i=l-this.eyeX,d=c-this.eyeY,p=u-this.eyeZ;this.camera(l,c,u,this.centerX+i,this.centerY+d,this.centerZ+p,this.upX,this.upY,this.upZ)}},{key:"set",value:function(l){for(var c=0,u=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType"];c<u.length;c++){var i=u[c];this[i]=l[i]}this.cameraMatrix=l.cameraMatrix.copy(),this.projMatrix=l.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(l,c,u){var i,d,p,v,h,w,_,E,R,P,T,D,A,I,U,B,N,O;u===0?this.set(l):u===1?this.set(c):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=l.projMatrix.mat4[0]*Math.pow(c.projMatrix.mat4[0]/l.projMatrix.mat4[0],u),this.projMatrix.mat4[5]=l.projMatrix.mat4[5]*Math.pow(c.projMatrix.mat4[5]/l.projMatrix.mat4[5],u),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),v=new y.default.Vector(l.eyeX,l.eyeY,l.eyeZ),h=new y.default.Vector(c.eyeX,c.eyeY,c.eyeZ),B=new y.default.Vector(l.centerX,l.centerY,l.centerZ),O=new y.default.Vector(c.centerX,c.centerY,c.centerZ),p=y.default.Vector.dist(v,B),i=y.default.Vector.dist(h,O),i=p*Math.pow(i/p,u),p=y.default.Vector.sub(v,h),d=1,1e-6<(N=(I=v.copy().sub(h).sub(B).add(O)).magSq())&&(d=y.default.Vector.dot(p,I)/N,d=Math.max(0,Math.min(d,1))),p=y.default.Vector.lerp(y.default.Vector.lerp(v,B,d),y.default.Vector.lerp(h,O,d),u),I=l.cameraMatrix.createSubMatrix3x3(),N=c.cameraMatrix.createSubMatrix3x3(),v=I.column(2),B=N.column(2),h=I.column(1),O=N.column(1),l=new y.default.Vector,c=new y.default.Vector,w=new y.default.Vector,_=new y.default.Vector,1-(E=.5*((I=(N=N.mult3x3(I.copy().transpose3x3())).diagonal())[0]+I[1]+I[2]-1))<1e-7?(l.set(y.default.Vector.lerp(v,B,u)).normalize(),w.set(l).mult(d*i).add(p),_.set(l).mult((d-1)*i).add(p),c.set(y.default.Vector.lerp(h,O,u)).normalize()):(B=1/(1-E),O=Math.max(I[0],I[1],I[2]),D=N.mat3[1]+N.mat3[3],A=N.mat3[2]+N.mat3[6],U=N.mat3[5]+N.mat3[7],O=O===I[0]?(P=.5*D*(B/=R=Math.sqrt((I[0]-E)*B)),T=.5*A*B,.5*(N.mat3[7]-N.mat3[5])/R):O===I[1]?(T=.5*U*(B/=P=Math.sqrt((I[1]-E)*B)),R=.5*D*B,.5*(N.mat3[2]-N.mat3[6])/P):(R=.5*A*(B/=T=Math.sqrt((I[2]-E)*B)),P=.5*U*B,.5*(N.mat3[3]-N.mat3[1])/T),D=u*Math.atan2(O,E),A=Math.cos(D),I=Math.sin(D),(O=new y.default.Matrix("mat3",[A+(U=1-A)*R*R,U*(B=R*P)-I*T,U*(N=T*R)+I*P,U*B+I*T,A+U*P*P,U*(u=P*T)-I*R,U*N-I*P,U*u+I*R,A+U*T*T])).multiplyVec3(v,l),w.set(l).mult(d*i).add(p),_.set(l).mult((d-1)*i).add(p),O.multiplyVec3(h,c)),this.camera(w.x,w.y,w.z,_.x,_.y,_.z,c.x,c.y,c.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)}},{key:"copy",value:function(){var l=new y.default.Camera(this._renderer);return l.cameraFOV=this.cameraFOV,l.aspectRatio=this.aspectRatio,l.eyeX=this.eyeX,l.eyeY=this.eyeY,l.eyeZ=this.eyeZ,l.centerX=this.centerX,l.centerY=this.centerY,l.centerZ=this.centerZ,l.upX=this.upX,l.upY=this.upY,l.upZ=this.upZ,l.cameraNear=this.cameraNear,l.cameraFar=this.cameraFar,l.cameraType=this.cameraType,l.cameraMatrix=this.cameraMatrix.copy(),l.projMatrix=this.projMatrix.copy(),l}},{key:"_getLocalAxes",value:function(){var l,c=this.eyeX-this.centerX,u=this.eyeY-this.centerY,i=this.eyeZ-this.centerZ,d=((d=Math.sqrt(c*c+u*u+i*i))!==0&&(c/=d,u/=d,i/=d),this.upX),p=(w=this.upY)*i-(_=this.upZ)*u,v=-d*i+_*c,h=d*u-w*c,w=(d=u*h-i*v,-c*h+i*p),_=c*v-u*p;return(l=((l=Math.sqrt(p*p+v*v+h*h))!==0&&(p/=l,v/=l,h/=l),Math.sqrt(d*d+w*w+_*_)))!==0&&(d/=l,w/=l,_/=l),{x:[p,v,h],y:[d,w,_],z:[c,u,i]}}},{key:"_orbit",value:function(l,c,u){var i=this.eyeX-this.centerX,d=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,v=Math.hypot(i,d,p),h=(i=new y.default.Vector(i,d,p).normalize(),d=new y.default.Vector(this.upX,this.upY,this.upZ).normalize(),p=new y.default.Vector.cross(d,i).normalize(),new y.default.Vector.cross(p,d));(v=(v*=Math.pow(10,u))<this.cameraNear?this.cameraNear:v)>this.cameraFar&&(v=this.cameraFar),u=Math.acos(Math.max(-1,Math.min(1,y.default.Vector.dot(i,d))))+c,c=l,(u<=0||u>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),d.mult(Math.cos(u)),h.mult(Math.cos(c)*Math.sin(u)),p.mult(Math.sin(c)*Math.sin(u)),i.set(d).add(h).add(p),this.eyeX=v*i.x+this.centerX,this.eyeY=v*i.y+this.centerY,this.eyeZ=v*i.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(l,c,u){var i=this.eyeX-this.centerX,d=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,v=Math.hypot(i,d,p),h=(i=new y.default.Vector(i,d,p).normalize(),d=new y.default.Vector(this.upX,this.upY,this.upZ),p=new y.default.Vector.cross(d,i).normalize(),new y.default.Vector.cross(i,p)),w=Math.atan2(c,l),_=(w=(h.mult(Math.sin(w)),p.mult(Math.cos(w)).add(h),Math.sqrt(l*l+c*c)),h=new y.default.Vector.cross(i,p),l=((v=(v*=Math.pow(10,u))<this.cameraNear?this.cameraNear:v)>this.cameraFar&&(v=this.cameraFar),Math.cos(w)),c=Math.sin(w),(u=d.dot(i))*l+(w=d.dot(p))*c);u=-u*c+w*l,w=d.dot(h),d.x=_*i.x+u*p.x+w*h.x,d.y=_*i.y+u*p.y+w*h.y,d.z=_*i.z+u*p.z+w*h.z,p.mult(-c),i.mult(l).add(p).mult(v),this.camera(i.x+this.centerX,i.y+this.centerY,i.z+this.centerZ,this.centerX,this.centerY,this.centerZ,d.x,d.y,d.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&o(g.prototype,b),a}(),y.default.prototype.setCamera=function(a){this._renderer._curCamera=a,this._renderer.uPMatrix.set(a.projMatrix.mat4[0],a.projMatrix.mat4[1],a.projMatrix.mat4[2],a.projMatrix.mat4[3],a.projMatrix.mat4[4],a.projMatrix.mat4[5],a.projMatrix.mat4[6],a.projMatrix.mat4[7],a.projMatrix.mat4[8],a.projMatrix.mat4[9],a.projMatrix.mat4[10],a.projMatrix.mat4[11],a.projMatrix.mat4[12],a.projMatrix.mat4[13],a.projMatrix.mat4[14],a.projMatrix.mat4[15])},t=y.default.Camera,S.default=t},{"../core/main":273,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.string.sub":198}],322:[function(t,C,S){function y(P){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(P)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.reflect.get"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.reflect.get"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var o=(R=t("../core/main"))&&R.__esModule?R:{default:R},a=function(P){if(P&&P.__esModule)return P;if(P===null||u(P)!=="object"&&typeof P!="function")return{default:P};var T=function(){var B;return typeof WeakMap!="function"?null:(B=new WeakMap,B)}();if(T&&T.has(P))return T.get(P);var D,A={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in P){var U;Object.prototype.hasOwnProperty.call(P,D)&&((U=I?Object.getOwnPropertyDescriptor(P,D):null)&&(U.get||U.set)?Object.defineProperty(A,D,U):A[D]=P[D])}return A.default=P,T&&T.set(P,A),A}(t("../core/constants")),g=t("./p5.Texture"),b=t("./p5.RendererGL");function l(P,T){return function(D){if(Array.isArray(D))return D}(P)||function(D,A){if(Symbol.iterator in Object(D)||Object.prototype.toString.call(D)==="[object Arguments]"){var I=[],U=!0,B=!1,N=void 0;try{for(var O,V=D[Symbol.iterator]();!(U=(O=V.next()).done)&&(I.push(O.value),!A||I.length!==A);U=!0);}catch(q){B=!0,N=q}finally{try{U||V.return==null||V.return()}finally{if(B)throw N}}return I}}(P,T)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(P,T,D){return T in P?Object.defineProperty(P,T,{value:D,enumerable:!0,configurable:!0,writable:!0}):P[T]=D,P}function u(P){return(u=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(T){return y(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":y(T)})(P)}function i(P,T){if(!(P instanceof T))throw new TypeError("Cannot call a class as a function")}function d(P,T){for(var D=0;D<T.length;D++){var A=T[D];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(P,A.key,A)}}function p(P,T,D){T&&d(P.prototype,T),D&&d(P,D)}function v(P,T,D){return(v=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,I,U){if(A=function(B,N){for(;!Object.prototype.hasOwnProperty.call(B,N)&&(B=w(B))!==null;);return B}(A,I))return(A=Object.getOwnPropertyDescriptor(A,I)).get?A.get.call(U):A.value})(P,T,D||P)}function h(P,T){return(h=Object.setPrototypeOf||function(D,A){return D.__proto__=A,D})(P,T)}function w(P){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(P)}var _=function(P){var T=A;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),P&&h(T,P);var D=function(I){return function(){var U,B=w(I);if(U=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(U=w(this).constructor,Reflect.construct(B,arguments,U)):B.apply(this,arguments),B=this,!U||u(U)!=="object"&&typeof U!="function"){if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return U}}(A);function A(I){var U;return i(this,A),(U=D.call(this,I.target._renderer)).fbo=I,U.yScale=-1,U}return p(A,[{key:"_computeCameraDefaultSettings",value:function(){v(w(A.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultEyeZ=this.fbo.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this.fbo.width/this.fbo.height)}}]),A}(o.default.Camera),E=(o.default.FramebufferCamera=_,function(){function P(T,D){i(this,P),this.framebuffer=T,this.property=D}return p(P,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),P}()),R=(o.default.FramebufferTexture=E,function(){function P(T){var D=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(i(this,P),this.target=T,this.target._renderer.framebuffers.add(this),this.pixels=[],this.format=D.format||a.UNSIGNED_BYTE,this.channels=D.channels||(T._renderer._pInst._glAttributes.alpha?a.RGBA:a.RGB),this.useDepth=D.depth===void 0||D.depth,this.depthFormat=D.depthFormat||a.FLOAT,this.textureFiltering=D.textureFiltering||a.LINEAR,D.antialias===void 0?this.antialiasSamples=T._renderer._pInst._glAttributes.antialias?2:0:typeof D.antialias=="number"?this.antialiasSamples=D.antialias:this.antialiasSamples=D.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&T.webglVersion!==a.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),D.width&&D.height?(this.width=D.width,this.height=D.height,this.autoSized=!1):(D.width===void 0!=(D.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=T.width,this.height=T.height,this.autoSized=!0),this.density=D.density||T.pixelDensity(),D=T._renderer.GL,this.gl=D,this._checkIfFormatsAvailable(),this.framebuffer=D.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=D.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),T=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=T}return p(P,[{key:"resize",value:function(T,D){this.autoSized=!1,this.width=T,this.height=D,this._handleResize()}},{key:"pixelDensity",value:function(T){if(!T)return this.density;this.autoSized=!1,this.density=T,this._handleResize()}},{key:"autoSized",value:function(T){if(T===void 0)return this.autoSized;this.autoSized=T,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var T=this.gl;(T=(this.useDepth&&this.target.webglVersion===a.WEBGL&&!T.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===a.WEBGL&&this.depthFormat===a.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=a.UNSIGNED_INT),[a.UNSIGNED_BYTE,a.FLOAT,a.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=a.UNSIGNED_BYTE),this.useDepth&&![a.UNSIGNED_INT,a.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=a.FLOAT),(0,g.checkWebGLCapabilities)(this.target._renderer))).float||this.format!==a.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=a.UNSIGNED_BYTE),this.useDepth&&!T.float&&this.depthFormat===a.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=a.UNSIGNED_INT),T.halfFloat||this.format!==a.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=a.UNSIGNED_BYTE),this.channels===a.RGB&&[a.FLOAT,a.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=a.RGBA)}},{key:"_recreateTextures",value:function(){var T=this.gl,D=(this._updateSize(),T.getParameter(T.TEXTURE_BINDING_2D)),A=T.getParameter(T.FRAMEBUFFER_BINDING);if(!(U=T.createTexture()))throw new Error("Unable to create color texture");T.bindTexture(T.TEXTURE_2D,U);var I=this._glColorFormat();if(T.texImage2D(T.TEXTURE_2D,0,I.internalFormat,this.width*this.density,this.height*this.density,0,I.format,I.type,null),this.colorTexture=U,T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,U,0),this.useDepth){var U;if(!(U=T.createTexture()))throw new Error("Unable to create depth texture");var B=this._glDepthFormat();T.bindTexture(T.TEXTURE_2D,U),T.texImage2D(T.TEXTURE_2D,0,B.internalFormat,this.width*this.density,this.height*this.density,0,B.format,B.type,null),T.framebufferTexture2D(T.FRAMEBUFFER,T.DEPTH_ATTACHMENT,T.TEXTURE_2D,U,0),this.depthTexture=U}this.antialias&&(this.colorRenderbuffer=T.createRenderbuffer(),T.bindRenderbuffer(T.RENDERBUFFER,this.colorRenderbuffer),T.renderbufferStorageMultisample(T.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,T.getParameter(T.MAX_SAMPLES))),I.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(B=this._glDepthFormat(),this.depthRenderbuffer=T.createRenderbuffer(),T.bindRenderbuffer(T.RENDERBUFFER,this.depthRenderbuffer),T.renderbufferStorageMultisample(T.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,T.getParameter(T.MAX_SAMPLES))),B.internalFormat,this.width*this.density,this.height*this.density)),T.bindFramebuffer(T.FRAMEBUFFER,this.aaFramebuffer),T.framebufferRenderbuffer(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&T.framebufferRenderbuffer(T.FRAMEBUFFER,T.DEPTH_ATTACHMENT,T.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new E(this,"depthTexture"),U=T.NEAREST,this.depthP5Texture=new o.default.Texture(this.target._renderer,this.depth,{minFilter:U,magFilter:U}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new E(this,"colorTexture"),I=this.textureFiltering===a.LINEAR?T.LINEAR:T.NEAREST,this.colorP5Texture=new o.default.Texture(this.target._renderer,this.color,{glMinFilter:I,glMagFilter:I}),this.target._renderer.textures.set(this.color,this.colorP5Texture),T.bindTexture(T.TEXTURE_2D,D),T.bindFramebuffer(T.FRAMEBUFFER,A)}},{key:"_glColorFormat",value:function(){var T,D,A=this.gl,I=this.format===a.FLOAT?A.FLOAT:this.format===a.HALF_FLOAT?this.target.webglVersion===a.WEBGL2?A.HALF_FLOAT:A.getExtension("OES_texture_half_float").HALF_FLOAT_OES:A.UNSIGNED_BYTE,U=this.channels===a.RGBA?A.RGBA:A.RGB;return{internalFormat:this.target.webglVersion===a.WEBGL2?(c(D={},A.FLOAT,c({},A.RGBA,A.RGBA32F)),c(D,A.HALF_FLOAT,c({},A.RGBA,A.RGBA16F)),c(D,A.UNSIGNED_BYTE,(c(T={},A.RGBA,A.RGBA8),c(T,A.RGB,A.RGB8),T)),D[I][U]):this.format===a.HALF_FLOAT?A.RGBA:U,format:U,type:I}}},{key:"_glDepthFormat",value:function(){var T=this.gl,D=this.depthFormat===a.FLOAT?T.FLOAT:T.UNSIGNED_INT,A=T.DEPTH_COMPONENT;return{internalFormat:T=this.target.webglVersion===a.WEBGL2?this.depthFormat===a.FLOAT?T.DEPTH_COMPONENT32F:T.DEPTH_COMPONENT24:T.DEPTH_COMPONENT,format:A,type:D}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var T=this.color,D=this.depth,A=this.colorRenderbuffer,I=this.depthRenderbuffer;this._deleteTexture(T),D&&this._deleteTexture(D),T=this.gl,A&&T.deleteRenderbuffer(A),I&&T.deleteRenderbuffer(I),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var T=new _(this);return T._computeCameraDefaultSettings(),T._setDefaultCamera(),this.target._renderer._curCamera=T}},{key:"_deleteTexture",value:function(T){this.gl.deleteTexture(T.rawTexture()),this.target._renderer.textures.delete(T)}},{key:"remove",value:function(){var T=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),T.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&T.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&T.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&T.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){var T=this.gl;this.prevFramebuffer=T.getParameter(T.FRAMEBUFFER_BINDING),this.antialias?T.bindFramebuffer(T.FRAMEBUFFER,this.aaFramebuffer):T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer),this.prevViewport=T.getParameter(T.VIEWPORT),T.viewport(0,0,this.width*this.density,this.height*this.density),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"end",value:function(){var T=this.gl;if(this.antialias){T.bindFramebuffer(T.READ_FRAMEBUFFER,this.aaFramebuffer),T.bindFramebuffer(T.DRAW_FRAMEBUFFER,this.framebuffer);var D=[[T.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]];this.useDepth&&D.push([T.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var A=0,I=D;A<I.length;A++){var U=(B=l(I[A],2))[0],B=B[1];T.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,U,B)}}T.bindFramebuffer(T.FRAMEBUFFER,this.prevFramebuffer),T.viewport.apply(T,function(N){return function(O){if(Array.isArray(O)){for(var V=0,q=new Array(O.length);V<O.length;V++)q[V]=O[V];return q}}(N)||function(O){if(Symbol.iterator in Object(O)||Object.prototype.toString.call(O)==="[object Arguments]")return Array.from(O)}(N)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(this.prevViewport)),this.target.pop()}},{key:"draw",value:function(T){this.begin(),T(),this.end()}},{key:"loadPixels",value:function(){var T=this.gl,D=T.getParameter(T.FRAMEBUFFER_BINDING),A=(T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,b.readPixelsWebGL)(this.pixels,T,this.framebuffer,0,0,this.width*this.density,this.height*this.density,A.format,A.type),T.bindFramebuffer(T.FRAMEBUFFER,D)}},{key:"get",value:function(T,D,A,I){o.default._validateParameters("p5.Framebuffer.get",arguments);var U=this._glColorFormat();if(T===void 0&&D===void 0)D=T=0,A=this.width,I=this.height;else if(A===void 0&&I===void 0)return(T<0||D<0||T>=this.width||D>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),T=this.target.constrain(T,0,this.width-1),D=this.target.constrain(D,0,this.height-1)),(0,b.readPixelWebGL)(this.gl,this.framebuffer,T*this.density,D*this.density,U.format,U.type);T=this.target.constrain(T,0,this.width-1),D=this.target.constrain(D,0,this.height-1),A=this.target.constrain(A,1,this.width-T),I=this.target.constrain(I,1,this.height-D);for(var B=(0,b.readPixelsWebGL)(void 0,this.gl,this.framebuffer,T*this.density,D*this.density,A*this.density,I*this.density,U.format,U.type),N=new Uint8ClampedArray(A*I*this.density*this.density*4),O=(N.fill(255),U.type===this.gl.RGB?3:4),V=0;V<I*this.density;V++)for(var q=0;q<A*this.density;q++)for(var X=0;X<4;X++){var Z,re=4*(V*A*this.density+q)+X;X<O&&(Z=O==4?re:(V*A*this.density+q)*O+X,N[re]=B[Z])}return(T=new o.default.Image(A*this.density,I*this.density)).imageData=T.canvas.getContext("2d").createImageData(T.width,T.height),T.imageData.data.set(N),T.pixels=T.imageData.data,T.updatePixels(),this.density!==1&&T.resize(A,I),T}},{key:"updatePixels",value:function(){var T=this.gl,D=(this.colorP5Texture.bindTexture(),this._glColorFormat()),A=D.format===T.RGBA?4:3,I=(A=this.width*this.height*this.density*this.density*A,D.type===T.UNSIGNED_BYTE?Uint8Array:Float32Array);if(!(this.pixels instanceof I)||this.pixels.length!==A)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");T.texImage2D(T.TEXTURE_2D,0,D.internalFormat,this.width*this.density,this.height*this.density,0,D.format,D.type,this.pixels),this.colorP5Texture.unbindTexture(),this.prevFramebuffer=T.getParameter(T.FRAMEBUFFER_BINDING),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(T.clearDepth(1),T.clear(T.DEPTH_BUFFER_BIT)),this.end()):(T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer),this.useDepth&&(T.clearDepth(1),T.clear(T.DEPTH_BUFFER_BIT)),T.bindFramebuffer(T.FRAMEBUFFER,this.prevFramebuffer))}}]),P}());t=o.default.Framebuffer=R,S.default=t},{"../core/constants":262,"../core/main":273,"./p5.RendererGL":328,"./p5.Texture":330,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],323:[function(t,C,S){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(a,g){for(var b=0;b<g.length;b++){var l=g[b];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}y.default.Geometry=function(){function a(l,c,u){if(this instanceof a)return this.vertices=[],this.lineVertices=[],this.lineTangentsIn=[],this.lineTangentsOut=[],this.lineSides=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=[],this.detailX=l!==void 0?l:1,this.detailY=c!==void 0?c:1,this.dirtyFlags={},u instanceof Function&&u.call(this),this;throw new TypeError("Cannot call a class as a function")}var g,b;return g=a,(b=[{key:"reset",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"computeFaces",value:function(){this.faces.length=0;for(var l,c,u,i=this.detailX+1,d=0;d<this.detailY;d++)for(var p=0;p<this.detailX;p++)c=(d+1)*i+p+1,this.faces.push([d*i+p,l=d*i+p+1,u=(d+1)*i+p]),this.faces.push([u,l,c]);return this}},{key:"_getFaceNormal",value:function(l){l=this.faces[l];var c=this.vertices[l[0]],u=this.vertices[l[1]],i=(l=this.vertices[l[2]],u=y.default.Vector.sub(u,c),l=y.default.Vector.sub(l,c),c=y.default.Vector.cross(u,l),y.default.Vector.mag(c));return(u=i/(y.default.Vector.mag(u)*y.default.Vector.mag(l)))===0||isNaN(u)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),c):(1<u&&(u=1),c.mult(Math.asin(u)/i))}},{key:"computeNormals",value:function(){for(var l=this,c=this.vertexNormals,u=this.vertices,i=this.faces,d=c.length=0;d<u.length;++d)c.push(new y.default.Vector);for(i.forEach(function(p,v){for(var h=l._getFaceNormal(v),w=0;w<3;++w){var _=p[w];c[_].add(h)}}),d=0;d<u.length;++d)c[d].normalize();return this}},{key:"averageNormals",value:function(){for(var l=0;l<=this.detailY;l++){var c=this.detailX+1,u=y.default.Vector.add(this.vertexNormals[l*c],this.vertexNormals[l*c+this.detailX]);u=y.default.Vector.div(u,2),this.vertexNormals[l*c]=u,this.vertexNormals[l*c+this.detailX]=u}return this}},{key:"averagePoleNormals",value:function(){for(var l=new y.default.Vector(0,0,0),c=0;c<this.detailX;c++)l.add(this.vertexNormals[c]);l=y.default.Vector.div(l,this.detailX);for(var u=0;u<this.detailX;u++)this.vertexNormals[u]=l;l=new y.default.Vector(0,0,0);for(var i=this.vertices.length-1;i>this.vertices.length-1-this.detailX;i--)l.add(this.vertexNormals[i]);l=y.default.Vector.div(l,this.detailX);for(var d=this.vertices.length-1;d>this.vertices.length-1-this.detailX;d--)this.vertexNormals[d]=l;return this}},{key:"_makeTriangleEdges",value:function(){for(var l=this.edges.length=0;l<this.faces.length;l++)this.edges.push([this.faces[l][0],this.faces[l][1]]),this.edges.push([this.faces[l][1],this.faces[l][2]]),this.edges.push([this.faces[l][2],this.faces[l][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0;for(var l,c=1<this.edges.length&&this.edges[0][0]===this.edges[this.edges.length-1][1],u=!1,i=0;i<this.edges.length;i++){var d=this.edges[i-1],p=this.edges[i],v=this.vertices[p[0]],h=this.vertices[p[1]],w=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*p[0],4*(p[0]+1)):[0,0,0,0],_=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*p[1],4*(p[1]+1)):[0,0,0,0],E=h.copy().sub(v).normalize(),R=0<E.magSq();R&&this._addSegment(v,h,w,_,E),0<i&&d[1]===p[0]?(l&&R&&E.dot(l)<1-1e-8&&this._addJoin(v,l,E,w),!R||u||c||(this._addCap(v,E.copy().mult(-1),w),u=!0)):(u=!1,R&&(!c||0<i)&&(this._addCap(v,E.copy().mult(-1),w),u=!0),l&&(!c||i<this.edges.length-1)&&(this._addCap(this.vertices[d[1]],l,w),l=void 0)),i===this.edges.length-1&&(c?this._addJoin(h,E,this.vertices[this.edges[0][1]].copy().sub(h).normalize(),_):this._addCap(h,E,_)),R&&(l=E)}return this}},{key:"_addSegment",value:function(l,c,u,i,d){l=l.array(),c=c.array();var p=d.array();this.lineSides.push(1,-1,1,1,-1,-1);for(var v=0,h=[this.lineTangentsIn,this.lineTangentsOut];v<h.length;v++)h[v].push(p,p,p,p,p,p);return this.lineVertices.push(l,l,c,c,l,c),this.lineVertexColors.push(u,u,i,i,u,i),this}},{key:"_addCap",value:function(l,c,u){for(var i=l.array(),d=c.array(),p=[0,0,0],v=0;v<6;v++)this.lineVertices.push(i),this.lineTangentsIn.push(d),this.lineTangentsOut.push(p),this.lineVertexColors.push(u);return this.lineSides.push(-1,-2,2,2,1,-1),this}},{key:"_addJoin",value:function(l,c,u,i){for(var d=l.array(),p=c.array(),v=u.array(),h=0;h<12;h++)this.lineVertices.push(d),this.lineTangentsIn.push(p),this.lineTangentsOut.push(v),this.lineVertexColors.push(i);for(var w=0,_=[-1,1];w<_.length;w++){var E=_[w];this.lineSides.push(E,2*E,3*E,E,3*E,0)}return this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var l=this.vertices[0].copy(),c=this.vertices[0].copy(),u=0;u<this.vertices.length;u++)l.x=Math.max(l.x,this.vertices[u].x),c.x=Math.min(c.x,this.vertices[u].x),l.y=Math.max(l.y,this.vertices[u].y),c.y=Math.min(c.y,this.vertices[u].y),l.z=Math.max(l.z,this.vertices[u].z),c.z=Math.min(c.z,this.vertices[u].z);for(var i=y.default.Vector.lerp(l,c,.5),d=y.default.Vector.sub(l,c),p=200/Math.max(Math.max(d.x,d.y),d.z),v=0;v<this.vertices.length;v++)this.vertices[v].sub(i),this.vertices[v].mult(p)}return this}}])&&o(g.prototype,b),a}(),t=y.default.Geometry,S.default=t},{"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.slice":164,"core-js/modules/es.string.sub":198,"core-js/modules/web.dom-collections.for-each":235}],324:[function(t,C,S){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(b,l){for(var c=0;c<l.length;c++){var u=l[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(b,u.key,u)}}var a=Array,g=function(b){return Array.isArray(b)};typeof Float32Array<"u"&&(a=Float32Array,g=function(b){return Array.isArray(b)||b instanceof Float32Array}),y.default.Matrix=function(){function b(){var i=this,d=b;if(i instanceof d)return arguments.length&&((i=arguments.length-1)<0||arguments.length<=i?void 0:arguments[i])instanceof y.default&&(this.p5=(d=arguments.length-1)<0||arguments.length<=d?void 0:arguments[d]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new a([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new a([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var l,c,u;return l=b,u=[{key:"identity",value:function(i){return new y.default.Matrix(i)}}],(c=[{key:"set",value:function(i){return i instanceof y.default.Matrix?this.mat4=i.mat4:g(i)?this.mat4=i:arguments.length===16&&(this.mat4[0]=i,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new y.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var i;return this.mat3!==void 0?((i=new y.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],i.mat3[1]=this.mat3[1],i.mat3[2]=this.mat3[2],i.mat3[3]=this.mat3[3],i.mat3[4]=this.mat3[4],i.mat3[5]=this.mat3[5],i.mat3[6]=this.mat3[6],i.mat3[7]=this.mat3[7],i.mat3[8]=this.mat3[8]):((i=new y.default.Matrix(this.p5)).mat4[0]=this.mat4[0],i.mat4[1]=this.mat4[1],i.mat4[2]=this.mat4[2],i.mat4[3]=this.mat4[3],i.mat4[4]=this.mat4[4],i.mat4[5]=this.mat4[5],i.mat4[6]=this.mat4[6],i.mat4[7]=this.mat4[7],i.mat4[8]=this.mat4[8],i.mat4[9]=this.mat4[9],i.mat4[10]=this.mat4[10],i.mat4[11]=this.mat4[11],i.mat4[12]=this.mat4[12],i.mat4[13]=this.mat4[13],i.mat4[14]=this.mat4[14],i.mat4[15]=this.mat4[15]),i}},{key:"transpose",value:function(i){var d,p,v,h,w,_;return i instanceof y.default.Matrix?(d=i.mat4[1],p=i.mat4[2],v=i.mat4[3],h=i.mat4[6],w=i.mat4[7],_=i.mat4[11],this.mat4[0]=i.mat4[0],this.mat4[1]=i.mat4[4],this.mat4[2]=i.mat4[8],this.mat4[3]=i.mat4[12],this.mat4[4]=d,this.mat4[5]=i.mat4[5],this.mat4[6]=i.mat4[9],this.mat4[7]=i.mat4[13],this.mat4[8]=p,this.mat4[9]=h,this.mat4[10]=i.mat4[10],this.mat4[11]=i.mat4[14],this.mat4[12]=v,this.mat4[13]=w,this.mat4[14]=_,this.mat4[15]=i.mat4[15]):g(i)&&(d=i[1],p=i[2],v=i[3],h=i[6],w=i[7],_=i[11],this.mat4[0]=i[0],this.mat4[1]=i[4],this.mat4[2]=i[8],this.mat4[3]=i[12],this.mat4[4]=d,this.mat4[5]=i[5],this.mat4[6]=i[9],this.mat4[7]=i[13],this.mat4[8]=p,this.mat4[9]=h,this.mat4[10]=i[10],this.mat4[11]=i[14],this.mat4[12]=v,this.mat4[13]=w,this.mat4[14]=_,this.mat4[15]=i[15]),this}},{key:"invert",value:function(i){i instanceof y.default.Matrix?(d=i.mat4[0],p=i.mat4[1],v=i.mat4[2],h=i.mat4[3],w=i.mat4[4],_=i.mat4[5],E=i.mat4[6],R=i.mat4[7],P=i.mat4[8],T=i.mat4[9],D=i.mat4[10],A=i.mat4[11],I=i.mat4[12],U=i.mat4[13],B=i.mat4[14],N=i.mat4[15]):g(i)&&(d=i[0],p=i[1],v=i[2],h=i[3],w=i[4],_=i[5],E=i[6],R=i[7],P=i[8],T=i[9],D=i[10],A=i[11],I=i[12],U=i[13],B=i[14],N=i[15]);var d,p,v,h,w,_,E,R,P,T,D,A,I,U,B,N,O=d*E-v*w,V=d*R-h*w,q=p*E-v*_,X=p*R-h*_,Z=v*R-h*E,re=P*U-T*I,ee=P*B-D*I,ae=P*N-A*I,z=T*B-D*U,H=T*N-A*U,$=D*N-A*B,ne=(i=d*_-p*w)*$-O*H+V*z+q*ae-X*ee+Z*re;return ne?(this.mat4[0]=(_*$-E*H+R*z)*(ne=1/ne),this.mat4[1]=(v*H-p*$-h*z)*ne,this.mat4[2]=(U*Z-B*X+N*q)*ne,this.mat4[3]=(D*X-T*Z-A*q)*ne,this.mat4[4]=(E*ae-w*$-R*ee)*ne,this.mat4[5]=(d*$-v*ae+h*ee)*ne,this.mat4[6]=(B*V-I*Z-N*O)*ne,this.mat4[7]=(P*Z-D*V+A*O)*ne,this.mat4[8]=(w*H-_*ae+R*re)*ne,this.mat4[9]=(p*ae-d*H-h*re)*ne,this.mat4[10]=(I*X-U*V+N*i)*ne,this.mat4[11]=(T*V-P*X-A*i)*ne,this.mat4[12]=(_*ee-w*z-E*re)*ne,this.mat4[13]=(d*z-p*ee+v*re)*ne,this.mat4[14]=(U*O-I*q-B*i)*ne,this.mat4[15]=(P*q-T*O+D*i)*ne,this):null}},{key:"invert3x3",value:function(){var i=this.mat3[0],d=this.mat3[1],p=this.mat3[2],v=this.mat3[3],h=this.mat3[4],w=this.mat3[5],_=this.mat3[6],E=this.mat3[7],R=this.mat3[8],P=R*h-w*E,T=-R*v+w*_,D=E*v-h*_,A=i*P+d*T+p*D;return A?(this.mat3[0]=P*(A=1/A),this.mat3[1]=(-R*d+p*E)*A,this.mat3[2]=(w*d-p*h)*A,this.mat3[3]=T*A,this.mat3[4]=(R*i-p*_)*A,this.mat3[5]=(-w*i+p*v)*A,this.mat3[6]=D*A,this.mat3[7]=(-E*i+d*_)*A,this.mat3[8]=(h*i-d*v)*A,this):null}},{key:"transpose3x3",value:function(i){var d=(i=i===void 0?this.mat3:i)[1],p=i[2],v=i[5];return this.mat3[0]=i[0],this.mat3[1]=i[3],this.mat3[2]=i[6],this.mat3[3]=d,this.mat3[4]=i[4],this.mat3[5]=i[7],this.mat3[6]=p,this.mat3[7]=v,this.mat3[8]=i[8],this}},{key:"inverseTranspose",value:function(i){if(i=i.mat4,this.mat3===void 0?y.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=i[0],this.mat3[1]=i[1],this.mat3[2]=i[2],this.mat3[3]=i[4],this.mat3[4]=i[5],this.mat3[5]=i[6],this.mat3[6]=i[8],this.mat3[7]=i[9],this.mat3[8]=i[10]),i=this.invert3x3())i.transpose3x3(this.mat3);else for(var d=0;d<9;d++)this.mat3[d]=0;return this}},{key:"determinant",value:function(){var i=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],d=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],p=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],v=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],h=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],w=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],_=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],E=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],R=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],P=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],T=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return i*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-d*T+p*P+v*R-h*E+w*_}},{key:"mult",value:function(i){var d;if(i===this||i===this.mat4)d=this.copy().mat4;else if(i instanceof y.default.Matrix)d=i.mat4;else if(g(i))d=i;else{if(arguments.length!==16)return;d=arguments}i=this.mat4[0];var p=this.mat4[1],v=this.mat4[2],h=this.mat4[3];return this.mat4[0]=i*d[0]+p*d[4]+v*d[8]+h*d[12],this.mat4[1]=i*d[1]+p*d[5]+v*d[9]+h*d[13],this.mat4[2]=i*d[2]+p*d[6]+v*d[10]+h*d[14],this.mat4[3]=i*d[3]+p*d[7]+v*d[11]+h*d[15],i=this.mat4[4],p=this.mat4[5],v=this.mat4[6],h=this.mat4[7],this.mat4[4]=i*d[0]+p*d[4]+v*d[8]+h*d[12],this.mat4[5]=i*d[1]+p*d[5]+v*d[9]+h*d[13],this.mat4[6]=i*d[2]+p*d[6]+v*d[10]+h*d[14],this.mat4[7]=i*d[3]+p*d[7]+v*d[11]+h*d[15],i=this.mat4[8],p=this.mat4[9],v=this.mat4[10],h=this.mat4[11],this.mat4[8]=i*d[0]+p*d[4]+v*d[8]+h*d[12],this.mat4[9]=i*d[1]+p*d[5]+v*d[9]+h*d[13],this.mat4[10]=i*d[2]+p*d[6]+v*d[10]+h*d[14],this.mat4[11]=i*d[3]+p*d[7]+v*d[11]+h*d[15],i=this.mat4[12],p=this.mat4[13],v=this.mat4[14],h=this.mat4[15],this.mat4[12]=i*d[0]+p*d[4]+v*d[8]+h*d[12],this.mat4[13]=i*d[1]+p*d[5]+v*d[9]+h*d[13],this.mat4[14]=i*d[2]+p*d[6]+v*d[10]+h*d[14],this.mat4[15]=i*d[3]+p*d[7]+v*d[11]+h*d[15],this}},{key:"apply",value:function(i){var d;if(i===this||i===this.mat4)d=this.copy().mat4;else if(i instanceof y.default.Matrix)d=i.mat4;else if(g(i))d=i;else{if(arguments.length!==16)return;d=arguments}var p=(i=this.mat4)[0],v=i[4],h=i[8],w=i[12];return i[0]=d[0]*p+d[1]*v+d[2]*h+d[3]*w,i[4]=d[4]*p+d[5]*v+d[6]*h+d[7]*w,i[8]=d[8]*p+d[9]*v+d[10]*h+d[11]*w,i[12]=d[12]*p+d[13]*v+d[14]*h+d[15]*w,p=i[1],v=i[5],h=i[9],w=i[13],i[1]=d[0]*p+d[1]*v+d[2]*h+d[3]*w,i[5]=d[4]*p+d[5]*v+d[6]*h+d[7]*w,i[9]=d[8]*p+d[9]*v+d[10]*h+d[11]*w,i[13]=d[12]*p+d[13]*v+d[14]*h+d[15]*w,p=i[2],v=i[6],h=i[10],w=i[14],i[2]=d[0]*p+d[1]*v+d[2]*h+d[3]*w,i[6]=d[4]*p+d[5]*v+d[6]*h+d[7]*w,i[10]=d[8]*p+d[9]*v+d[10]*h+d[11]*w,i[14]=d[12]*p+d[13]*v+d[14]*h+d[15]*w,p=i[3],v=i[7],h=i[11],w=i[15],i[3]=d[0]*p+d[1]*v+d[2]*h+d[3]*w,i[7]=d[4]*p+d[5]*v+d[6]*h+d[7]*w,i[11]=d[8]*p+d[9]*v+d[10]*h+d[11]*w,i[15]=d[12]*p+d[13]*v+d[14]*h+d[15]*w,this}},{key:"scale",value:function(i,d,p){return i instanceof y.default.Vector?(d=i.y,p=i.z,i=i.x):i instanceof Array&&(d=i[1],p=i[2],i=i[0]),this.mat4[0]*=i,this.mat4[1]*=i,this.mat4[2]*=i,this.mat4[3]*=i,this.mat4[4]*=d,this.mat4[5]*=d,this.mat4[6]*=d,this.mat4[7]*=d,this.mat4[8]*=p,this.mat4[9]*=p,this.mat4[10]*=p,this.mat4[11]*=p,this}},{key:"rotate",value:function(i,d,p,v){d instanceof y.default.Vector?(p=d.y,v=d.z,d=d.x):d instanceof Array&&(p=d[1],v=d[2],d=d[0]);var h=(d*=1/(h=Math.sqrt(d*d+p*p+v*v)),p*=1/h,v*=1/h,this.mat4[0]),w=this.mat4[1],_=this.mat4[2],E=this.mat4[3],R=this.mat4[4],P=this.mat4[5],T=this.mat4[6],D=this.mat4[7],A=this.mat4[8],I=this.mat4[9],U=this.mat4[10],B=this.mat4[11],N=Math.sin(i),O=1-(i=Math.cos(i)),V=d*d*O+i,q=p*d*O+v*N,X=v*d*O-p*N,Z=d*p*O-v*N,re=p*p*O+i,ee=v*p*O+d*N,ae=d*v*O+p*N;return p=p*v*O-d*N,d=v*v*O+i,this.mat4[0]=h*V+R*q+A*X,this.mat4[1]=w*V+P*q+I*X,this.mat4[2]=_*V+T*q+U*X,this.mat4[3]=E*V+D*q+B*X,this.mat4[4]=h*Z+R*re+A*ee,this.mat4[5]=w*Z+P*re+I*ee,this.mat4[6]=_*Z+T*re+U*ee,this.mat4[7]=E*Z+D*re+B*ee,this.mat4[8]=h*ae+R*p+A*d,this.mat4[9]=w*ae+P*p+I*d,this.mat4[10]=_*ae+T*p+U*d,this.mat4[11]=E*ae+D*p+B*d,this}},{key:"translate",value:function(i){var d=i[0],p=i[1];i=i[2]||0,this.mat4[12]+=this.mat4[0]*d+this.mat4[4]*p+this.mat4[8]*i,this.mat4[13]+=this.mat4[1]*d+this.mat4[5]*p+this.mat4[9]*i,this.mat4[14]+=this.mat4[2]*d+this.mat4[6]*p+this.mat4[10]*i,this.mat4[15]+=this.mat4[3]*d+this.mat4[7]*p+this.mat4[11]*i}},{key:"rotateX",value:function(i){this.rotate(i,1,0,0)}},{key:"rotateY",value:function(i){this.rotate(i,0,1,0)}},{key:"rotateZ",value:function(i){this.rotate(i,0,0,1)}},{key:"perspective",value:function(i,d,p,v){i=1/Math.tan(i/2);var h=1/(p-v);return this.mat4[0]=i/d,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=i,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(v+p)*h,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*v*p*h,this.mat4[15]=0,this}},{key:"ortho",value:function(i,d,p,v,h,w){var _=1/(i-d),E=1/(p-v),R=1/(h-w);return this.mat4[0]=-2*_,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*E,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*R,this.mat4[11]=0,this.mat4[12]=(i+d)*_,this.mat4[13]=(v+p)*E,this.mat4[14]=(w+h)*R,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(i,d,p,v){var h=new Array(4),w=this.mat4;return h[0]=w[0]*i+w[4]*d+w[8]*p+w[12]*v,h[1]=w[1]*i+w[5]*d+w[9]*p+w[13]*v,h[2]=w[2]*i+w[6]*d+w[10]*p+w[14]*v,h[3]=w[3]*i+w[7]*d+w[11]*p+w[15]*v,h}},{key:"multiplyPoint",value:function(i){var d=i.x,p=i.y;return i=i.z,d=this.multiplyVec4(d,p,i,1),new y.default.Vector(d[0],d[1],d[2])}},{key:"multiplyAndNormalizePoint",value:function(i){var d=i.x,p=i.y;return i=i.z,(d=this.multiplyVec4(d,p,i,1))[0]/=d[3],d[1]/=d[3],d[2]/=d[3],new y.default.Vector(d[0],d[1],d[2])}},{key:"multiplyDirection",value:function(i){var d=i.x,p=i.y;return i=i.z,d=this.multiplyVec4(d,p,i,0),new y.default.Vector(d[0],d[1],d[2])}},{key:"mult3x3",value:function(i){var d;if(i===this||i===this.mat3)d=this.copy().mat3;else if(i instanceof y.default.Matrix)d=i.mat3;else if(g(i))d=i;else{if(arguments.length!==9)return;d=arguments}i=this.mat3[0];var p=this.mat3[1],v=this.mat3[2];return this.mat3[0]=i*d[0]+p*d[3]+v*d[6],this.mat3[1]=i*d[1]+p*d[4]+v*d[7],this.mat3[2]=i*d[2]+p*d[5]+v*d[8],i=this.mat3[3],p=this.mat3[4],v=this.mat3[5],this.mat3[3]=i*d[0]+p*d[3]+v*d[6],this.mat3[4]=i*d[1]+p*d[4]+v*d[7],this.mat3[5]=i*d[2]+p*d[5]+v*d[8],i=this.mat3[6],p=this.mat3[7],v=this.mat3[8],this.mat3[6]=i*d[0]+p*d[3]+v*d[6],this.mat3[7]=i*d[1]+p*d[4]+v*d[7],this.mat3[8]=i*d[2]+p*d[5]+v*d[8],this}},{key:"column",value:function(i){return new y.default.Vector(this.mat3[i],this.mat3[i+3],this.mat3[i+6])}},{key:"row",value:function(i){return new y.default.Vector(this.mat3[3*i],this.mat3[3*i+1],this.mat3[3*i+2])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(i,d){return(d=d===void 0?i.copy():d).x=this.row(0).dot(i),d.y=this.row(1).dot(i),d.z=this.row(2).dot(i),d}},{key:"createSubMatrix3x3",value:function(){var i=new y.default.Matrix("mat3");return i.mat3[0]=this.mat4[0],i.mat3[1]=this.mat4[1],i.mat3[2]=this.mat4[2],i.mat3[3]=this.mat4[4],i.mat3[4]=this.mat4[5],i.mat3[5]=this.mat4[6],i.mat3[6]=this.mat4[8],i.mat3[7]=this.mat4[9],i.mat3[8]=this.mat4[10],i}}])&&o(l.prototype,c),u&&o(l,u),b}(),t=y.default.Matrix,S.default=t},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229}],325:[function(t,C,S){function y(o,a){for(var g=0;g<a.length;g++){var b=a[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.RenderBuffer=function(){function o(b,l,c,u,i,d){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.size=b,this.src=l,this.dst=c,this.attr=u,this._renderer=i,this.map=d}var a,g;return a=o,(g=[{key:"_prepareBuffer",value:function(b,l){var c,u,i,d=l.attributes,p=this._renderer.GL,v=b.model||b;(d=d[this.attr])&&(c=b[this.dst],0<(u=v[this.src]).length?((i=!c)&&(b[this.dst]=c=p.createBuffer()),p.bindBuffer(p.ARRAY_BUFFER,c),!i&&v.dirtyFlags[this.src]===!1||(i=(b=this.map)?b(u):u,this._renderer._bindBuffer(c,p.ARRAY_BUFFER,i),v.dirtyFlags[this.src]=!1),l.enableAttrib(d,this.size)):(b=d.location)!==-1&&this._renderer.registerEnabled[b]&&(p.disableVertexAttribArray(b),this._renderer.registerEnabled[b]=!1))}}])&&y(a.prototype,g),o}(),t=t.default.RenderBuffer,S.default=t},{"../core/main":273,"core-js/modules/es.array.map":163}],326:[function(t,C,S){function y(u){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}function o(u){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(i){return y(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":y(i)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(c=t("../core/main"))&&c.__esModule?c:{default:c},g=function(u){if(u&&u.__esModule)return u;if(u===null||o(u)!=="object"&&typeof u!="function")return{default:u};var i=function(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,w)}();if(i&&i.has(u))return i.get(u);var d,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in u){var h;Object.prototype.hasOwnProperty.call(u,d)&&((h=v?Object.getOwnPropertyDescriptor(u,d):null)&&(h.get||h.set)?Object.defineProperty(p,d,h):p[d]=u[d])}return p.default=u,i&&i.set(u,p),p}(t("../core/constants"));function b(u){return function(i){if(Array.isArray(i)){for(var d=0,p=new Array(i.length);d<i.length;d++)p[d]=i[d];return p}}(u)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),a.default.RendererGL.prototype.beginShape=function(u){return this.immediateMode.shapeMode=u!==void 0?u:g.TESS,this.immediateMode.geometry.reset(),this};var l={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},c=(a.default.RendererGL.prototype.vertex=function(u,i){if(this.immediateMode.shapeMode===g.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var d in l){var p=l[d];(d=this.immediateMode.geometry[d]).push.apply(d,b(d.slice(d.length-3*p,d.length-2*p)).concat(b(d.slice(d.length-p,d.length))))}var v,h,w=v=h=0,_=(arguments.length===3?w=arguments[2]:arguments.length===4?(v=arguments[2],h=arguments[3]):arguments.length===5&&(w=arguments[2],v=arguments[3],h=arguments[4]),new a.default.Vector(u,i,w));return this.immediateMode.geometry.vertices.push(_),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),_=this.curFillColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexColors.push(_[0],_[1],_[2],_[3]),_=this.curStrokeColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexStrokeColors.push(_[0],_[1],_[2],_[3]),this.textureMode===g.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(v/=this._tex.width,h/=this._tex.height):!this.isProcessingVertices&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(v,h),this.immediateMode._bezierVertex[0]=u,this.immediateMode._bezierVertex[1]=i,this.immediateMode._bezierVertex[2]=w,this.immediateMode._quadraticVertex[0]=u,this.immediateMode._quadraticVertex[1]=i,this.immediateMode._quadraticVertex[2]=w,this},a.default.RendererGL.prototype.normal=function(u,i,d){return u instanceof a.default.Vector?this._currentNormal=u:this._currentNormal=new a.default.Vector(u,i,d),this},a.default.RendererGL.prototype.endShape=function(u,i,d,p,v,h){return this.immediateMode.shapeMode===g.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},a.default.RendererGL.prototype._processVertices=function(u){var i;this.immediateMode.geometry.vertices.length!==0&&(i=this._doStroke,u=u===g.CLOSE,i&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,u),this.immediateMode.geometry._edgesToVertices()),i=this.immediateMode.shapeMode===g.TESS,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||i)&&this.immediateMode.shapeMode!==g.LINES&&this._tesselateShape())},a.default.RendererGL.prototype._calculateEdges=function(u,i,d){var p=[],v=0;switch(u){case g.TRIANGLE_STRIP:for(v=0;v<i.length-2;v++)p.push([v,v+1]),p.push([v,v+2]);p.push([v,v+1]);break;case g.TRIANGLE_FAN:for(v=1;v<i.length-1;v++)p.push([0,v]),p.push([v,v+1]);p.push([0,i.length-1]);break;case g.TRIANGLES:for(v=0;v<i.length-2;v+=3)p.push([v,v+1]),p.push([v+1,v+2]),p.push([v+2,v]);break;case g.LINES:for(v=0;v<i.length-1;v+=2)p.push([v,v+1]);break;case g.QUADS:for(v=0;v<i.length-5;v+=6)p.push([v,v+1]),p.push([v+1,v+2]),p.push([v+3,v+5]),p.push([v+4,v+5]);break;case g.QUAD_STRIP:for(v=0;v<i.length-2;v+=2)p.push([v,v+1]),p.push([v,v+2]),p.push([v+1,v+3]);p.push([v,v+1]);break;default:for(v=0;v<i.length-1;v++)p.push([v,v+1])}return d&&p.push([i.length-1,0]),p},a.default.RendererGL.prototype._tesselateShape=function(){for(var u=this,i=(this.immediateMode.shapeMode=g.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(w,_){return[w.x,w.y,w.z,u.immediateMode.geometry.uvs[2*_],u.immediateMode.geometry.uvs[2*_+1],u.immediateMode.geometry.vertexColors[4*_],u.immediateMode.geometry.vertexColors[4*_+1],u.immediateMode.geometry.vertexColors[4*_+2],u.immediateMode.geometry.vertexColors[4*_+3],u.immediateMode.geometry.vertexNormals[_].x,u.immediateMode.geometry.vertexNormals[_].y,u.immediateMode.geometry.vertexNormals[_].z]}))]),d=this._triangulate(i),p=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),v=0,h=d.length;v<h;v+=a.default.RendererGL.prototype.tessyVertexSize)p.push.apply(p,b(d.slice(v+5,v+9))),this.normal.apply(this,b(d.slice(v+9,v+12))),this.vertex.apply(this,b(d.slice(v,v+5)));this.immediateMode.geometry.vertexColors=p},a.default.RendererGL.prototype._drawImmediateFill=function(){var u=this.GL,i=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,this._getImmediateFillShader()),d=(this._setFillUniforms(i),!0),p=!1,v=void 0;try{for(var h,w=this.immediateMode.buffers.fill[Symbol.iterator]();!(d=(h=w.next()).done);d=!0)h.value._prepareBuffer(this.immediateMode.geometry,i)}catch(_){p=!0,v=_}finally{try{d||w.return==null||w.return()}finally{if(p)throw v}}this.immediateMode.shapeMode!==g.LINE_STRIP&&this.immediateMode.shapeMode!==g.LINES||(this.immediateMode.shapeMode=g.TRIANGLE_FAN),this.immediateMode.shapeMode===g.QUADS?this.immediateMode.shapeMode=g.TRIANGLES:this.immediateMode.shapeMode===g.QUAD_STRIP&&(this.immediateMode.shapeMode=g.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),u.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),i.unbindShader()},a.default.RendererGL.prototype._drawImmediateStroke=function(){var u=this.GL,i=u.isEnabled(u.CULL_FACE),d=(u.disable(u.CULL_FACE),this._getImmediateStrokeShader()),p=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._setStrokeUniforms(d),!0),v=!1,h=void 0;try{for(var w,_=this.immediateMode.buffers.stroke[Symbol.iterator]();!(p=(w=_.next()).done);p=!0)w.value._prepareBuffer(this.immediateMode.geometry,d)}catch(E){v=!0,h=E}finally{try{p||_.return==null||_.return()}finally{if(v)throw h}}this._applyColorBlend(this.curStrokeColor),u.drawArrays(u.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),i&&u.enable(u.CULL_FACE),d.unbindShader()},a.default.RendererGL);S.default=c},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],327:[function(t,C,S){function y(c){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}function o(c){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(u){return y(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var a=(l=t("../core/main"))&&l.__esModule?l:{default:l},g=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(c){if(c&&c.__esModule)return c;if(c===null||o(c)!=="object"&&typeof c!="function")return{default:c};var u=function(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,h)}();if(u&&u.has(c))return u.get(c);var i,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in c){var v;Object.prototype.hasOwnProperty.call(c,i)&&((v=p?Object.getOwnPropertyDescriptor(c,i):null)&&(v.get||v.set)?Object.defineProperty(d,i,v):d[i]=c[i])}return d.default=c,u&&u.set(c,d),d}(t("../core/constants"))),b=0,l=(a.default.RendererGL.prototype._initBufferDefaults=function(c){var u;return this._freeBuffers(c),1e3<++b&&(u=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[u],b--),this.retainedMode.geometry[c]={}},a.default.RendererGL.prototype._freeBuffers=function(c){var u,i=this.retainedMode.geometry[c];function d(p){var v=!0,h=!1,w=void 0;try{for(var _,E=p[Symbol.iterator]();!(v=(_=E.next()).done);v=!0){var R=_.value;i[R.dst]&&(u.deleteBuffer(i[R.dst]),i[R.dst]=null)}}catch(P){h=!0,w=P}finally{try{v||E.return==null||E.return()}finally{if(h)throw w}}}i&&(delete this.retainedMode.geometry[c],b--,u=this.GL,i.indexBuffer&&u.deleteBuffer(i.indexBuffer),d(this.retainedMode.buffers.stroke),d(this.retainedMode.buffers.fill))},a.default.RendererGL.prototype.createBuffers=function(c,u){var i,d,p,v=this.GL,h=((c=this._initBufferDefaults(c)).model=u,c.indexBuffer);return u.faces.length?(h=h||(c.indexBuffer=v.createBuffer()),p=(d=(i=a.default.RendererGL.prototype._flatten(u.faces)).some(function(w){return 65535<w}))?Uint32Array:Uint16Array,this._bindBuffer(h,v.ELEMENT_ARRAY_BUFFER,i,p),c.indexBufferType=d?v.UNSIGNED_INT:v.UNSIGNED_SHORT,c.vertexCount=3*u.faces.length):(h&&(v.deleteBuffer(h),c.indexBuffer=null),c.vertexCount=u.vertices?u.vertices.length:0),c.lineVertexCount=u.lineVertices?u.lineVertices.length:0,c},a.default.RendererGL.prototype.drawBuffers=function(c){var u=this.GL,i=this.retainedMode.geometry[c];if(this._doFill){this._useVertexColor=0<i.model.vertexColors.length;var d=this._getRetainedFillShader(),p=(this._setFillUniforms(d),!0),v=!1,h=void 0;try{for(var w,_=this.retainedMode.buffers.fill[Symbol.iterator]();!(p=(w=_.next()).done);p=!0)w.value._prepareBuffer(i,d)}catch(A){v=!0,h=A}finally{try{p||_.return==null||_.return()}finally{if(v)throw h}}i.indexBuffer&&this._bindBuffer(i.indexBuffer,u.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(u.TRIANGLES,c),d.unbindShader()}if(this._doStroke&&0<i.lineVertexCount){v=u.isEnabled(u.CULL_FACE);var E=(u.disable(u.CULL_FACE),this._getRetainedStrokeShader()),R=(this._useLineColor=0<i.model.vertexStrokeColors.length,this._setStrokeUniforms(E),!0),P=(h=!1,void 0);try{for(var T,D=this.retainedMode.buffers.stroke[Symbol.iterator]();!(R=(T=D.next()).done);R=!0)T.value._prepareBuffer(i,E)}catch(A){h=!0,P=A}finally{try{R||D.return==null||D.return()}finally{if(h)throw P}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(u.TRIANGLES,c),v&&u.enable(u.CULL_FACE),E.unbindShader()}return this},a.default.RendererGL.prototype.drawBuffersScaled=function(c,u,i,d){var p=this.uMVMatrix.copy();try{this.uMVMatrix.scale(u,i,d),this.drawBuffers(c)}finally{this.uMVMatrix=p}},a.default.RendererGL.prototype._drawArrays=function(c,u){return this.GL.drawArrays(c,0,this.retainedMode.geometry[u].lineVertexCount),this},a.default.RendererGL.prototype._drawElements=function(c,u){u=this.retainedMode.geometry[u];var i=this.GL;if(u.indexBuffer){if(this._pInst.webglVersion!==g.WEBGL2&&u.indexBufferType===i.UNSIGNED_INT&&!i.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");i.drawElements(i.TRIANGLES,u.vertexCount,u.indexBufferType,0)}else i.drawArrays(c||i.TRIANGLES,0,u.vertexCount)},a.default.RendererGL.prototype._drawPoints=function(c,u){var i=this.GL,d=this._getImmediatePointShader();this._setPointUniforms(d),this._bindBuffer(u,i.ARRAY_BUFFER,this._vToNArray(c),Float32Array,i.STATIC_DRAW),d.enableAttrib(d.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),i.drawArrays(i.Points,0,c.length),d.unbindShader()},a.default.RendererGL);S.default=l},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"./p5.RendererGL":328,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.some":165,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],328:[function(t,C,S){function y(I){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(I)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.float64-array"),t("core-js/modules/es.typed-array.int16-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.float64-array"),t("core-js/modules/es.typed-array.int16-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.readPixelsWebGL=D,S.readPixelWebGL=A,S.default=void 0;var o=b(t("../core/main")),a=function(I){if(I&&I.__esModule)return I;if(I===null||l(I)!=="object"&&typeof I!="function")return{default:I};var U=function(){var q;return typeof WeakMap!="function"?null:(q=new WeakMap,q)}();if(U&&U.has(I))return U.get(I);var B,N={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(B in I){var V;Object.prototype.hasOwnProperty.call(I,B)&&((V=O?Object.getOwnPropertyDescriptor(I,B):null)&&(V.get||V.set)?Object.defineProperty(N,B,V):N[B]=I[B])}return N.default=I,U&&U.set(I,N),N}(t("../core/constants")),g=b(t("libtess"));function b(I){return I&&I.__esModule?I:{default:I}}function l(I){return(l=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(U){return y(U)}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":y(U)})(I)}function c(I){return function(U){if(Array.isArray(U)){for(var B=0,N=new Array(U.length);B<U.length;B++)N[B]=U[B];return N}}(I)||function(U){if(Symbol.iterator in Object(U)||Object.prototype.toString.call(U)==="[object Arguments]")return Array.from(U)}(I)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(I,U){for(var B=0;B<U.length;B++){var N=U[B];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}}function i(I,U){return(i=Object.setPrototypeOf||function(B,N){return B.__proto__=N,B})(I,U)}function d(I){return function(){var U,B,N=v(I);return U=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(U=v(this).constructor,Reflect.construct(N,arguments,U)):N.apply(this,arguments),N=this,!(B=U)||l(B)!=="object"&&typeof B!="function"?p(N):B}}function p(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function v(I){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)})(I)}function h(I,U){R+="#define STROKE_CAP_".concat(I," ").concat(U,`
`),_[a[I]]=U}function w(I,U){R+="#define STROKE_JOIN_".concat(I," ").concat(U,`
`),E[a[I]]=U}t("./p5.Shader"),t("./p5.Camera"),t("../core/p5.Renderer"),t("./p5.Matrix"),t("path");var _={},E={},R="",P=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`,T={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;
varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:(t=(h("ROUND",0),h("PROJECT",1),h("SQUARE",2),w("ROUND",0),w("MITER",1),w("BEVEL",2),`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`))+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? texture2D(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    gl_FragColor = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:t+`// include lighting.glsl
precision highp float;
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? texture2D(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  gl_FragColor = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:P+`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec2 pixelScale = vec2(
    1. / uModelViewMatrix[0][0],
    1. / uModelViewMatrix[1][1]
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:P+`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:R+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump float;
precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

attribute vec4 aPosition;
attribute vec3 aTangentIn;
attribute vec3 aTangentOut;
attribute float aSide;
attribute vec4 aVertexColor;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5 * curPerspScale;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset / curPerspScale;

  gl_Position.xy = p.xy + offset.xy;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:R+`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`};function D(I,U,B,N,O,V,q,X,Z,re){var ee=U.getParameter(U.FRAMEBUFFER_BINDING),ae=V*q*(B=(U.bindFramebuffer(U.FRAMEBUFFER,B),X===U.RGBA?4:3)),z=Z===U.UNSIGNED_BYTE?Uint8Array:Float32Array;if(I instanceof z&&I.length===ae||(I=new z(ae)),U.readPixels(N,re?re-O-q:O,V,q,X,Z,I),U.bindFramebuffer(U.FRAMEBUFFER,ee),re)for(var H=Math.floor(q/2),$=new z(V*B),ne=0;ne<H;ne++){var oe=ne*V*4,le=(q-ne-1)*V*4;$.set(I.subarray(oe,oe+4*V)),I.copyWithin(oe,le,le+4*V),I.set($,le)}return I}function A(I,U,B,N,O,V,q){var X=I.getParameter(I.FRAMEBUFFER_BINDING);return I.bindFramebuffer(I.FRAMEBUFFER,U),U=O===I.RGBA?4:3,U=new(V===I.UNSIGNED_BYTE?Uint8Array:Float32Array)(U),I.readPixels(B,q?q-N-1:N,1,1,O,V,U),I.bindFramebuffer(I.FRAMEBUFFER,X),Array.from(U)}o.default.prototype.setAttributes=function(I,U){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var B=!0;if(U!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[I]!==U&&(this._glAttributes[I]=U,B=!1)):I instanceof Object&&this._glAttributes!==I&&(this._glAttributes=I,B=!1),this._renderer.isP3D&&!B){if(!this._setupDone){for(var N in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(N))return void o.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},o.default.RendererGL=function(I){var U=N;if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(I&&I.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),I&&i(U,I);var B=d(N);function N(O,V,q,X){if(this instanceof N)return(O=B.call(this,O,V,q))._setAttributeDefaults(V),O._initContext(),O.isP3D=!0,O.GL=O.drawingContext,O._pInst._setProperty("drawingContext",O.drawingContext),O._isErasing=!1,O._enableLighting=!1,O.ambientLightColors=[],O.specularColors=[1,1,1],O.directionalLightDirections=[],O.directionalLightDiffuseColors=[],O.directionalLightSpecularColors=[],O.pointLightPositions=[],O.pointLightDiffuseColors=[],O.pointLightSpecularColors=[],O.spotLightPositions=[],O.spotLightDirections=[],O.spotLightDiffuseColors=[],O.spotLightSpecularColors=[],O.spotLightAngle=[],O.spotLightConc=[],O.drawMode=a.FILL,O.curFillColor=O._cachedFillStyle=[1,1,1,1],O.curAmbientColor=O._cachedFillStyle=[1,1,1,1],O.curSpecularColor=O._cachedFillStyle=[0,0,0,0],O.curEmissiveColor=O._cachedFillStyle=[0,0,0,0],O.curStrokeColor=O._cachedStrokeStyle=[0,0,0,1],O.curBlendMode=a.BLEND,O._cachedBlendMode=void 0,O.webglVersion===a.WEBGL2?O.blendExt=O.GL:O.blendExt=O.GL.getExtension("EXT_blend_minmax"),O._isBlending=!1,O._hasSetAmbient=!1,O._useSpecularMaterial=!1,O._useEmissiveMaterial=!1,O._useNormalMaterial=!1,O._useShininess=1,O._useLineColor=!1,O._useVertexColor=!1,O.registerEnabled=[],O._tint=[255,255,255,255],O.constantAttenuation=1,O.linearAttenuation=0,O.quadraticAttenuation=0,O.uMVMatrix=new o.default.Matrix,O.uPMatrix=new o.default.Matrix,O.uNMatrix=new o.default.Matrix("mat3"),O._currentNormal=new o.default.Vector(0,0,1),O._curCamera=new o.default.Camera(p(O)),O._curCamera._computeCameraDefaultSettings(),O._curCamera._setDefaultCamera(),O.prevTouches=[],O.zoomVelocity=0,O.rotateVelocity=new o.default.Vector(0,0),O.moveVelocity=new o.default.Vector(0,0),O.executeZoom=!1,O.executeRotateAndMove=!1,O._defaultLightShader=void 0,O._defaultImmediateModeShader=void 0,O._defaultNormalShader=void 0,O._defaultColorShader=void 0,O._defaultPointShader=void 0,O.userFillShader=void 0,O.userStrokeShader=void 0,O.userPointShader=void 0,O.retainedMode={geometry:{},buffers:{stroke:[new o.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",p(O),O._flatten),new o.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",p(O),O._flatten),new o.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",p(O),O._flatten),new o.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",p(O),O._flatten),new o.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",p(O))],fill:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",p(O),O._vToNArray),new o.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",p(O),O._vToNArray),new o.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",p(O)),new o.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",p(O)),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",p(O),O._flatten)],text:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",p(O),O._vToNArray),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",p(O),O._flatten)]}},O.immediateMode={geometry:new o.default.Geometry,shapeMode:a.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",p(O),O._vToNArray),new o.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",p(O),O._vToNArray),new o.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",p(O)),new o.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",p(O)),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",p(O),O._flatten)],stroke:[new o.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",p(O),O._flatten),new o.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",p(O),O._flatten),new o.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",p(O),O._flatten),new o.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",p(O),O._flatten),new o.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",p(O))],point:O.GL.createBuffer()}},O.pointSize=5,O.curStrokeWeight=1,O.curStrokeCap=a.ROUND,O.curStrokeJoin=a.ROUND,O.textures=new Map,O.framebuffers=new Set,O.textureMode=a.IMAGE,O.textureWrapX=a.CLAMP,O.textureWrapY=a.CLAMP,O._tex=null,O._curveTightness=6,O._lookUpTableBezier=[],O._lookUpTableQuadratic=[],O._lutBezierDetail=0,O._lutQuadraticDetail=0,O.isProcessingVertices=!1,O._tessy=O._initTessy(),O.fontInfos={},O._curShader=void 0,O;throw new TypeError("Cannot call a class as a function")}return U=N,(I=[{key:"_setAttributeDefaults",value:function(O){var V={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};O._glAttributes===null?O._glAttributes=V:O._glAttributes=Object.assign(V,O._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?a.WEBGL2:a.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var O=this.drawingContext;O.enable(O.DEPTH_TEST),O.depthFunc(O.LEQUAL),O.viewport(0,0,O.drawingBufferWidth,O.drawingBufferHeight),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(O,V){var q,X=this.width,Z=this.height,re=this.canvas.id,ee=this._pInst instanceof o.default.Graphics;ee?((q=this._pInst).canvas.parentNode.removeChild(q.canvas),q.canvas=document.createElement("canvas"),(q._pInst._userNode||document.body).appendChild(q.canvas),o.default.Element.call(q,q.canvas,q._pInst),q.width=X,q.height=Z):((q=this.canvas)&&q.parentNode.removeChild(q),(q=document.createElement("canvas")).id=re,(this._pInst._userNode||document.body).appendChild(q),this._pInst.canvas=q,this.canvas=q),re=new o.default.RendererGL(this._pInst.canvas,this._pInst,!ee),this._pInst._setProperty("_renderer",re),re.resize(X,Z),re._applyDefaults(),ee||this._pInst._elements.push(re),typeof V=="function"&&setTimeout(function(){V.apply(window._renderer,O)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"background",value:function(){var O=(X=(X=this._pInst).color.apply(X,arguments)).levels[0]/255,V=X.levels[1]/255,q=X.levels[2]/255,X=X.levels[3]/255;this.clear(O,V,q,X)}},{key:"fill",value:function(O,V,q,X){var Z=o.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Z._array,this.drawMode=a.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(O,V,q,X){var Z=o.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Z._array}},{key:"strokeCap",value:function(O){this.curStrokeCap=O}},{key:"strokeJoin",value:function(O){this.curStrokeJoin=O}},{key:"filter",value:function(O){o.default._friendlyError("filter() does not work in WEBGL mode")}},{key:"blendMode",value:function(O){O===a.DARKEST||O===a.LIGHTEST||O===a.ADD||O===a.BLEND||O===a.SUBTRACT||O===a.SCREEN||O===a.EXCLUSION||O===a.REPLACE||O===a.MULTIPLY||O===a.REMOVE?this.curBlendMode=O:O!==a.BURN&&O!==a.OVERLAY&&O!==a.HARD_LIGHT&&O!==a.SOFT_LIGHT&&O!==a.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(O,V){this._isErasing||(this._applyBlendMode(a.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,O/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,V/255])}},{key:"noErase",value:function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))}},{key:"strokeWeight",value:function(O){this.curStrokeWeight!==O&&(this.pointSize=O,this.curStrokeWeight=O)}},{key:"_getPixel",value:function(O,V){var q=this.GL;return A(q,null,O,V,q.RGBA,q.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var O,V,q=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(O=this._pInst._pixelDensity,V=this.GL,q._setProperty("pixels",D(q.pixels,V,null,0,0,this.width*O,this.height*O,V.RGBA,V.UNSIGNED_BYTE,this.height*O)))}},{key:"updatePixels",value:function(){var O=this._getTempFramebuffer();O.pixels=this._pixelsState.pixels,O.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(a.CENTER),this._pInst.image(O,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:a.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:a.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(O){return this.retainedMode.geometry[O]!==void 0}},{key:"resize",value:function(O,V){o.default.Renderer.prototype.resize.call(this,O,V),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var q=((O=this._pixelsState).pixels!==void 0&&O._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);V=!1,O=void 0;try{for(var X,Z=this.framebuffers[Symbol.iterator]();!(q=(X=Z.next()).done);q=!0)X.value._canvasSizeChanged()}catch(re){V=!0,O=re}finally{try{q||Z.return==null||Z.return()}finally{if(V)throw O}}}},{key:"clear",value:function(){var O=(arguments.length<=0?void 0:arguments[0])||0,V=(arguments.length<=1?void 0:arguments[1])||0,q=(arguments.length<=2?void 0:arguments[2])||0,X=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(O*X,V*X,q*X,X),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(O,V,q,X,Z,re){arguments.length===16?o.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([O,V,0,0,q,X,0,0,0,0,1,0,Z,re,0,1])}},{key:"translate",value:function(O,V,q){return O instanceof o.default.Vector&&(q=O.z,V=O.y,O=O.x),this.uMVMatrix.translate([O,V,q]),this}},{key:"scale",value:function(O,V,q){return this.uMVMatrix.scale(O,V,q),this}},{key:"rotate",value:function(O,V){return V===void 0?this.rotateZ(O):(o.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(O){return this.rotate(O,1,0,0),this}},{key:"rotateY",value:function(O){return this.rotate(O,0,1,0),this}},{key:"rotateZ",value:function(O){return this.rotate(O,0,0,1),this}},{key:"push",value:function(){var O=o.default.Renderer.prototype.push.apply(this),V=O.properties;return V.uMVMatrix=this.uMVMatrix.copy(),V.uPMatrix=this.uPMatrix.copy(),V._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),V.ambientLightColors=this.ambientLightColors.slice(),V.specularColors=this.specularColors.slice(),V.directionalLightDirections=this.directionalLightDirections.slice(),V.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),V.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),V.pointLightPositions=this.pointLightPositions.slice(),V.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),V.pointLightSpecularColors=this.pointLightSpecularColors.slice(),V.spotLightPositions=this.spotLightPositions.slice(),V.spotLightDirections=this.spotLightDirections.slice(),V.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),V.spotLightSpecularColors=this.spotLightSpecularColors.slice(),V.spotLightAngle=this.spotLightAngle.slice(),V.spotLightConc=this.spotLightConc.slice(),V.userFillShader=this.userFillShader,V.userStrokeShader=this.userStrokeShader,V.userPointShader=this.userPointShader,V.pointSize=this.pointSize,V.curStrokeWeight=this.curStrokeWeight,V.curStrokeColor=this.curStrokeColor,V.curFillColor=this.curFillColor,V.curAmbientColor=this.curAmbientColor,V.curSpecularColor=this.curSpecularColor,V.curEmissiveColor=this.curEmissiveColor,V._hasSetAmbient=this._hasSetAmbient,V._useSpecularMaterial=this._useSpecularMaterial,V._useEmissiveMaterial=this._useEmissiveMaterial,V._useShininess=this._useShininess,V.constantAttenuation=this.constantAttenuation,V.linearAttenuation=this.linearAttenuation,V.quadraticAttenuation=this.quadraticAttenuation,V._enableLighting=this._enableLighting,V._useNormalMaterial=this._useNormalMaterial,V._tex=this._tex,V.drawMode=this.drawMode,V._currentNormal=this._currentNormal,V.curBlendMode=this.curBlendMode,O}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var O=this.userStrokeShader;return O&&O.isStrokeShader()?O:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var O=this.userFillShader;if(this._useNormalMaterial&&(!O||!O.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!O||!O.isLightShader())return this._getLightShader()}else if(this._tex){if(!O||!O.isTextureShader())return this._getLightShader()}else if(!O)return this._getImmediateModeShader();return O}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var O=this.userFillShader;if(this._enableLighting){if(!O||!O.isLightShader())return this._getLightShader()}else if(this._tex){if(!O||!O.isTextureShader())return this._getLightShader()}else if(!O)return this._getColorShader();return O}},{key:"_getImmediatePointShader",value:function(){var O=this.userPointShader;return O&&O.isPointShader()?O:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new o.default.Shader(this,T.phongVert,T.phongFrag):this._defaultLightShader=new o.default.Shader(this,T.lightVert,T.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new o.default.Shader(this,T.immediateVert,T.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new o.default.Shader(this,T.normalVert,T.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new o.default.Shader(this,T.normalVert,T.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new o.default.Shader(this,T.pointVert,T.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new o.default.Shader(this,T.lineVert,T.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===a.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new o.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+T.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+T.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(O,V){var q="";return this.webglVersion===a.WEBGL2&&(q+=`#version 300 es
#define WEBGL2
`),O==="vert"?q+=`#define VERTEX_SHADER
`:O==="frag"&&(q+=`#define FRAGMENT_SHADER
`),V&&(q+="precision ".concat(V,` float;
`)),q}},{key:"_getEmptyTexture",value:function(){var O;return this._emptyTexture||((O=new o.default.Image(1,1)).set(0,0,255),this._emptyTexture=new o.default.Texture(this,O)),this._emptyTexture}},{key:"getTexture",value:function(O){O instanceof o.default.Framebuffer&&(O=O.color);var V=this.textures.get(O);return V||(V=new o.default.Texture(this,O),this.textures.set(O,V),V)}},{key:"createFramebuffer",value:function(O){return new o.default.Framebuffer(this,O)}},{key:"_setStrokeUniforms",value:function(O){O.bindShader(),O.setUniform("uUseLineColor",this._useLineColor),O.setUniform("uMaterialColor",this.curStrokeColor),O.setUniform("uStrokeWeight",this.curStrokeWeight),O.setUniform("uStrokeCap",_[this.curStrokeCap]),O.setUniform("uStrokeJoin",E[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(O){O.bindShader(),O.setUniform("uUseVertexColor",this._useVertexColor),O.setUniform("uMaterialColor",this.curFillColor),O.setUniform("isTexture",!!this._tex),this._tex&&O.setUniform("uSampler",this._tex),O.setUniform("uTint",this._tint),O.setUniform("uHasSetAmbient",this._hasSetAmbient),O.setUniform("uAmbientMatColor",this.curAmbientColor),O.setUniform("uSpecularMatColor",this.curSpecularColor),O.setUniform("uEmissiveMatColor",this.curEmissiveColor),O.setUniform("uSpecular",this._useSpecularMaterial),O.setUniform("uEmissive",this._useEmissiveMaterial),O.setUniform("uShininess",this._useShininess),O.setUniform("uUseLighting",this._enableLighting);var V=this.pointLightDiffuseColors.length/3;O.setUniform("uPointLightCount",V),O.setUniform("uPointLightLocation",this.pointLightPositions),O.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),O.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),V=this.directionalLightDiffuseColors.length/3,O.setUniform("uDirectionalLightCount",V),O.setUniform("uLightingDirection",this.directionalLightDirections),O.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),O.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),V=this.ambientLightColors.length/3,O.setUniform("uAmbientLightCount",V),O.setUniform("uAmbientColor",this.ambientLightColors),V=this.spotLightDiffuseColors.length/3,O.setUniform("uSpotLightCount",V),O.setUniform("uSpotLightAngle",this.spotLightAngle),O.setUniform("uSpotLightConc",this.spotLightConc),O.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),O.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),O.setUniform("uSpotLightLocation",this.spotLightPositions),O.setUniform("uSpotLightDirection",this.spotLightDirections),O.setUniform("uConstantAttenuation",this.constantAttenuation),O.setUniform("uLinearAttenuation",this.linearAttenuation),O.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),O.bindTextures()}},{key:"_setPointUniforms",value:function(O){O.bindShader(),O.setUniform("uMaterialColor",this.curStrokeColor),O.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(O,V,q,X,Z){V=V||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(V,O),q!==void 0&&(O=new(X||Float32Array)(q),this.GL.bufferData(V,O,Z||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(O,V){return O.length===V.length&&O.every(function(q,X){return q===V[X]})}},{key:"_isTypedArray",value:function(O){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(V){return O instanceof V})}},{key:"_flatten",value:function(O){if(O.length===0)return[];var V;if(2e4<O.length){for(var q=[],X=O.slice(),Z=X.pop();Array.isArray(Z)?X.push.apply(X,c(Z)):q.push(Z),X.length&&(Z=X.pop())!==void 0;);return q.reverse(),q}return(V=[]).concat.apply(V,c(O))}},{key:"_vToNArray",value:function(O){var V=[],q=!0,X=!1,Z=void 0;try{for(var re,ee=O[Symbol.iterator]();!(q=(re=ee.next()).done);q=!0){var ae=re.value;V.push(ae.x,ae.y,ae.z)}}catch(z){X=!0,Z=z}finally{try{q||ee.return==null||ee.return()}finally{if(X)throw Z}}return V}},{key:"_bezierCoefficients",value:function(O){var V=O*O,q=1-O,X=q*q;return[X*q,3*X*O,3*q*V,V*O]}},{key:"_quadraticCoefficients",value:function(O){var V=1-O;return[V*V,2*V*O,O*O]}},{key:"_bezierToCatmull",value:function(O){return[O[1],O[1]+(O[2]-O[0])/this._curveTightness,O[2]-(O[3]-O[1])/this._curveTightness,O[2]]}},{key:"_initTessy",value:function(){var O=new g.default.GluTesselator;return O.gluTessCallback(g.default.gluEnum.GLU_TESS_VERTEX_DATA,function(V,q){for(var X=0;X<V.length;X++)q.push(V[X])}),O.gluTessCallback(g.default.gluEnum.GLU_TESS_BEGIN,function(V){V!==g.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(V))}),O.gluTessCallback(g.default.gluEnum.GLU_TESS_ERROR,function(V){console.log("error callback"),console.log("error number: ".concat(V))}),O.gluTessCallback(g.default.gluEnum.GLU_TESS_COMBINE,function(V,q,X){for(var Z=new Array(o.default.RendererGL.prototype.tessyVertexSize).fill(0),re=0;re<X.length;re++)for(var ee=0;ee<Z.length;ee++)X[re]!==0&&q[re]&&(Z[ee]+=q[re][ee]*X[re]);return Z}),O.gluTessCallback(g.default.gluEnum.GLU_TESS_EDGE_FLAG,function(V){}),O}},{key:"_triangulate",value:function(O){var V=O[0]?O[0][2]:void 0,q=!0,X=!0,Z=!1,re=void 0;try{for(var ee,ae=O[Symbol.iterator]();!(X=(ee=ae.next()).done);X=!0)for(var z=ee.value,H=0;H<z.length;H+=o.default.RendererGL.prototype.tessyVertexSize)if(z[H+2]!==V){q=!1;break}}catch(me){Z=!0,re=me}finally{try{X||ae.return==null||ae.return()}finally{if(Z)throw re}}q?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0),Z=[];var $=(this._tessy.gluTessBeginPolygon(Z),!0),ne=(re=!1,void 0);try{for(var oe,le=O[Symbol.iterator]();!($=(oe=le.next()).done);$=!0){var Q=oe.value;this._tessy.gluTessBeginContour();for(var se=0;se<Q.length;se+=o.default.RendererGL.prototype.tessyVertexSize){var ye=Q.slice(se,se+o.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(ye,ye)}this._tessy.gluTessEndContour()}}catch(me){re=!0,ne=me}finally{try{$||le.return==null||le.return()}finally{if(re)throw ne}}return this._tessy.gluTessEndPolygon(),Z}}])&&u(U.prototype,I),N}(o.default.Renderer),o.default.prototype._assert3d=function(I){if(!this._renderer.isP3D)throw new Error("".concat(I,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},o.default.RendererGL.prototype.tessyVertexSize=12,t=o.default.RendererGL,S.default=t},{"../core/constants":262,"../core/main":273,"../core/p5.Renderer":276,"./p5.Camera":321,"./p5.Matrix":324,"./p5.Shader":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.map":168,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.float64-array":210,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int16-array":214,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,libtess:245,path:248}],329:[function(t,C,S){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(a,g){for(var b=0;b<g.length;b++){var l=g[b];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}y.default.Shader=function(){function a(l,c,u){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._renderer=l,this._vertSrc=c,this._fragSrc=u,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var g,b;return g=a,(b=[{key:"init",value:function(){if(this._glProgram===0){var l=this._renderer.GL;if(this._vertShader=l.createShader(l.VERTEX_SHADER),l.shaderSource(this._vertShader,this._vertSrc),l.compileShader(this._vertShader),!l.getShaderParameter(this._vertShader,l.COMPILE_STATUS))return y.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(l.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=l.createShader(l.FRAGMENT_SHADER),l.shaderSource(this._fragShader,this._fragSrc),l.compileShader(this._fragShader),!l.getShaderParameter(this._fragShader,l.COMPILE_STATUS))return y.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(l.getShaderInfoLog(this._fragShader))),null;this._glProgram=l.createProgram(),l.attachShader(this._glProgram,this._vertShader),l.attachShader(this._glProgram,this._fragShader),l.linkProgram(this._glProgram),l.getProgramParameter(this._glProgram,l.LINK_STATUS)||y.default._friendlyError("Snap! Error linking shader program: ".concat(l.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var l=this._renderer.GL,c=l.getProgramParameter(this._glProgram,l.ACTIVE_ATTRIBUTES),u=0;u<c;++u){var i=l.getActiveAttrib(this._glProgram,u),d=i.name,p=l.getAttribLocation(this._glProgram,d),v={};v.name=d,v.location=p,v.index=u,v.type=i.type,v.size=i.size,this.attributes[d]=v}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var l=this._renderer.GL,c=l.getProgramParameter(this._glProgram,l.ACTIVE_UNIFORMS),u=0,i=0;i<c;++i){var d=l.getActiveUniform(this._glProgram,i),p={},v=(p.location=l.getUniformLocation(this._glProgram,d.name),p.size=d.size,d.name);1<d.size&&(v=v.substring(0,v.indexOf("[0]"))),p.name=v,p.type=d.type,p._cachedData=void 0,p.type===l.SAMPLER_2D&&(p.samplerIndex=u,u++,this.samplers.push(p)),p.isArray=1<d.size||p.type===l.FLOAT_MAT3||p.type===l.FLOAT_MAT4||p.type===l.FLOAT_VEC2||p.type===l.FLOAT_VEC3||p.type===l.FLOAT_VEC4||p.type===l.INT_VEC2||p.type===l.INT_VEC4||p.type===l.INT_VEC3,this.uniforms[v]=p}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var l=this._renderer.GL,c=!0,u=!1,i=void 0;try{for(var d,p=this.samplers[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var v=d.value,h=v.texture;h===void 0&&(h=this._renderer._getEmptyTexture()),l.activeTexture(l.TEXTURE0+v.samplerIndex),h.bindTexture(),h.update(),l.uniform1i(v.location,v.samplerIndex)}}catch(w){u=!0,i=w}finally{try{c||p.return==null||p.return()}finally{if(u)throw i}}}},{key:"updateTextures",value:function(){var l=!0,c=!1,u=void 0;try{for(var i,d=this.samplers[Symbol.iterator]();!(l=(i=d.next()).done);l=!0){var p=i.value.texture;p&&p.update()}}catch(v){c=!0,u=v}finally{try{l||d.return==null||d.return()}finally{if(c)throw u}}}},{key:"unbindTextures",value:function(){var l=!0,c=!1,u=void 0;try{for(var i,d=this.samplers[Symbol.iterator]();!(l=(i=d.next()).done);l=!0){var p=i.value;this.setUniform(p.name,this._renderer._getEmptyTexture())}}catch(v){c=!0,u=v}finally{try{l||d.return==null||d.return()}finally{if(c)throw u}}}},{key:"_setMatrixUniforms",value:function(){var l=this._renderer._curCamera.cameraMatrix,c=this._renderer.uPMatrix,u=this._renderer.uMVMatrix,i=u.copy();i.mult(c),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",l.mat4),this.setUniform("uProjectionMatrix",c.mat4),this.setUniform("uModelViewMatrix",u.mat4),this.setUniform("uModelViewProjectionMatrix",i.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var l=this._renderer.GL;return this._renderer._curShader!==this&&(l.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(l,c){var u=this.uniforms[l];if(u){var i=this._renderer.GL;if(u.isArray){if(u._cachedData&&this._renderer._arraysEqual(u._cachedData,c))return;u._cachedData=c.slice(0)}else{if(u._cachedData&&u._cachedData===c)return;Array.isArray(c)?u._cachedData=c.slice(0):u._cachedData=c}var d=u.location;switch(this.useProgram(),u.type){case i.BOOL:c===!0?i.uniform1i(d,1):i.uniform1i(d,0);break;case i.INT:1<u.size?c.length&&i.uniform1iv(d,c):i.uniform1i(d,c);break;case i.FLOAT:1<u.size?c.length&&i.uniform1fv(d,c):i.uniform1f(d,c);break;case i.FLOAT_MAT3:i.uniformMatrix3fv(d,!1,c);break;case i.FLOAT_MAT4:i.uniformMatrix4fv(d,!1,c);break;case i.FLOAT_VEC2:1<u.size?c.length&&i.uniform2fv(d,c):i.uniform2f(d,c[0],c[1]);break;case i.FLOAT_VEC3:1<u.size?c.length&&i.uniform3fv(d,c):i.uniform3f(d,c[0],c[1],c[2]);break;case i.FLOAT_VEC4:1<u.size?c.length&&i.uniform4fv(d,c):i.uniform4f(d,c[0],c[1],c[2],c[3]);break;case i.INT_VEC2:1<u.size?c.length&&i.uniform2iv(d,c):i.uniform2i(d,c[0],c[1]);break;case i.INT_VEC3:1<u.size?c.length&&i.uniform3iv(d,c):i.uniform3i(d,c[0],c[1],c[2]);break;case i.INT_VEC4:1<u.size?c.length&&i.uniform4iv(d,c):i.uniform4i(d,c[0],c[1],c[2],c[3]);break;case i.SAMPLER_2D:i.activeTexture(i.TEXTURE0+u.samplerIndex),u.texture=c instanceof y.default.Texture?c:this._renderer.getTexture(c),i.uniform1i(d,u.samplerIndex),u.texture.src.gifProperties&&u.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(l,c,u,i,d,p){var v;return l&&(l=l.location)!==-1&&(v=this._renderer.GL,this._renderer.registerEnabled[l]||(v.enableVertexAttribArray(l),this._renderer.registerEnabled[l]=!0),this._renderer.GL.vertexAttribPointer(l,c,u||v.FLOAT,i||!1,d||0,p||0)),this}}])&&o(g.prototype,b),a}(),t=y.default.Shader,S.default=t},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],330:[function(t,C,S){function y(u){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}function o(u){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(i){return y(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":y(i)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.checkWebGLCapabilities=l,S.default=void 0;var a=(c=t("../core/main"))&&c.__esModule?c:{default:c},g=function(u){if(u&&u.__esModule)return u;if(u===null||o(u)!=="object"&&typeof u!="function")return{default:u};var i=function(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,w)}();if(i&&i.has(u))return i.get(u);var d,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in u){var h;Object.prototype.hasOwnProperty.call(u,d)&&((h=v?Object.getOwnPropertyDescriptor(u,d):null)&&(h.get||h.set)?Object.defineProperty(p,d,h):p[d]=u[d])}return p.default=u,i&&i.set(u,p),p}(t("../core/constants"));function b(u,i){for(var d=0;d<i.length;d++){var p=i[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}function l(u){var i=u.GL,d=(u=u.webglVersion)===g.WEBGL2?i.getExtension("EXT_color_buffer_float")&&i.getExtension("EXT_float_blend"):i.getExtension("OES_texture_float");return{float:d,floatLinear:d&&i.getExtension("OES_texture_float_linear"),halfFloat:u=u===g.WEBGL2?i.getExtension("EXT_color_buffer_float"):i.getExtension("OES_texture_half_float"),halfFloatLinear:u&&i.getExtension("OES_texture_half_float_linear")}}a.default.Texture=function(){function u(p,v,h){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this._renderer=p;var w=this._renderer.GL;return h=h||{},this.src=v,this.glTex=void 0,this.glTarget=w.TEXTURE_2D,this.glFormat=h.format||w.RGBA,this.mipmaps=!1,this.glMinFilter=h.minFilter||w.LINEAR,this.glMagFilter=h.magFilter||w.LINEAR,this.glWrapS=h.wrapS||w.CLAMP_TO_EDGE,this.glWrapT=h.wrapT||w.CLAMP_TO_EDGE,this.glDataType=h.dataType||w.UNSIGNED_BYTE,h=l(p),this.glFormat!==w.HALF_FLOAT||h.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=w.FLOAT),this.glFormat!==w.HALF_FLOAT||this.glMinFilter!==w.LINEAR&&this.glMagFilter!==w.LINEAR||h.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===w.LINEAR&&(this.glMinFilter=w.NEAREST),this.glMagFilter===w.LINEAR&&(this.glMagFilter=w.NEAREST)),this.glFormat!==w.FLOAT||h.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=w.UNSIGNED_BYTE),this.glFormat!==w.FLOAT||this.glMinFilter!==w.LINEAR&&this.glMagFilter!==w.LINEAR||h.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===w.LINEAR&&(this.glMinFilter=w.NEAREST),this.glMagFilter===w.LINEAR&&(this.glMagFilter=w.NEAREST)),this.isSrcMediaElement=a.default.MediaElement!==void 0&&v instanceof a.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=a.default.Element!==void 0&&v instanceof a.default.Element&&!(v instanceof a.default.Graphics)&&!(v instanceof a.default.Renderer),this.isSrcP5Image=v instanceof a.default.Image,this.isSrcP5Graphics=v instanceof a.default.Graphics,this.isSrcP5Renderer=v instanceof a.default.Renderer,this.isImageData=typeof ImageData<"u"&&v instanceof ImageData,this.isFramebufferTexture=v instanceof a.default.FramebufferTexture,p=this._getTextureDataFromSource(),this.width=p.width,this.height=p.height,this.init(p),this}var i,d;return i=u,(d=[{key:"_getTextureDataFromSource",value:function(){var p;return this.isFramebufferTexture?p=this.src.rawTexture():this.isSrcP5Image?p=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?p=this.src.elt:this.isImageData&&(p=this.src),p}},{key:"init",value:function(p){var v,h=this._renderer.GL;this.isFramebufferTexture||(this.glTex=h.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,this.glMagFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(v=new Uint8Array([1,1,1,1]),h.texImage2D(this.glTarget,0,h.RGBA,1,1,0,this.glFormat,this.glDataType,v)):h.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,p))}},{key:"update",value:function(){var p,v,h,w=this.src;return w.width!==0&&w.height!==0&&!this.isFramebufferTexture&&(p=this._getTextureDataFromSource(),v=!1,h=this._renderer.GL,p.width!==this.width||p.height!==this.height?(v=!0,this.width=p.width||w.width,this.height=p.height||w.height,this.isSrcP5Image?w.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&w.setModified(!0)):this.isSrcP5Image?w.isModified()&&w.setModified(!(v=!0)):this.isSrcMediaElement?w.isModified()?w.setModified(!(v=!0)):w.loadedmetadata&&this._videoPrevUpdateTime!==w.time()&&(this._videoPrevUpdateTime=w.time(),v=!0):this.isImageData?w._dirty&&(v=!(w._dirty=!1)):v=!0,v&&(this.bindTexture(),h.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,p)),v)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(p,v){var h=this._renderer.GL;p===g.NEAREST?this.glMinFilter=h.NEAREST:this.glMinFilter=h.LINEAR,v===g.NEAREST?this.glMagFilter=h.NEAREST:this.glMagFilter=h.LINEAR,this.bindTexture(),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.glMinFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"setWrapMode",value:function(p,v){function h(R){return(R&R-1)==0}var w=this._renderer.GL,_=(_=this._getTextureDataFromSource()).naturalWidth&&_.naturalHeight?(E=_.naturalWidth,_.naturalHeight):(E=this.width,this.height),E=h(E);_=h(_),p===g.REPEAT?this._renderer.webglVersion===g.WEBGL2||E&&_?this.glWrapS=w.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=w.CLAMP_TO_EDGE):p===g.MIRROR?this._renderer.webglVersion===g.WEBGL2||E&&_?this.glWrapS=w.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=w.CLAMP_TO_EDGE):this.glWrapS=w.CLAMP_TO_EDGE,v===g.REPEAT?this._renderer.webglVersion===g.WEBGL2||E&&_?this.glWrapT=w.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=w.CLAMP_TO_EDGE):v===g.MIRROR?this._renderer.webglVersion===g.WEBGL2||E&&_?this.glWrapT=w.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=w.CLAMP_TO_EDGE):this.glWrapT=w.CLAMP_TO_EDGE,this.bindTexture(),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,this.glWrapS),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}])&&b(i.prototype,d),u}();var c=a.default.Texture;S.default=c},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],331:[function(t,C,S){function y(h){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(h)}function o(h){return(o=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(w){return y(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":y(w)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var a,g=(a=t("../core/main"))&&a.__esModule?a:{default:a},b=function(h){if(h&&h.__esModule)return h;if(h===null||o(h)!=="object"&&typeof h!="function")return{default:h};var w=function(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,T)}();if(w&&w.has(h))return w.get(h);var _,E={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in h){var P;Object.prototype.hasOwnProperty.call(h,_)&&((P=R?Object.getOwnPropertyDescriptor(h,_):null)&&(P.get||P.set)?Object.defineProperty(E,_,P):E[_]=h[_])}return E.default=h,w&&w.set(h,E),E}(t("../core/constants"));function l(h,w){if(!(h instanceof w))throw new TypeError("Cannot call a class as a function")}function c(h,w){for(var _=0;_<w.length;_++){var E=w[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(h,E.key,E)}}function u(h,w,_){w&&c(h.prototype,w),_&&c(h,_)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),g.default.RendererGL.prototype._applyTextProperties=function(){},g.default.RendererGL.prototype.textWidth=function(h){return this._isOpenType()?this._textFont._textWidth(h,this._textSize):0};var i=function(){function h(w,_){l(this,h),this.width=w,this.height=_,this.infos=[]}return u(h,[{key:"findImage",value:function(w){var _,E,R=this.width*this.height;if(R<w)throw new Error("font is too complex to render in 3D");for(var P=this.infos.length-1;0<=P;--P){var T=this.infos[P];if(T.index+w<R){E=(_=T).imageData;break}}if(!_){try{E=new ImageData(this.width,this.height)}catch{var D=document.getElementsByTagName("canvas")[0],A=!D,I=(D||((D=document.createElement("canvas")).style.display="none",document.body.appendChild(D)),D.getContext("2d"));I&&(E=I.createImageData(this.width,this.height)),A&&document.body.removeChild(D)}this.infos.push(_={index:0,imageData:E})}return I=_.index,_.index+=w,E._dirty=!0,{imageData:E,index:I}}}]),h}();function d(h,w,_,E,R){var P=h.imageData.data;h=4*h.index++,P[h++]=w,P[h++]=_,P[h++]=E,P[+h]=R}var p=Math.sqrt(3),v=function(){function h(w){l(this,h),this.font=w,this.strokeImageInfos=new i(64,64),this.colDimImageInfos=new i(64,64),this.rowDimImageInfos=new i(64,64),this.colCellImageInfos=new i(64,64),this.rowCellImageInfos=new i(64,64),this.glyphInfos={}}return u(h,[{key:"getGlyphInfo",value:function(w){var _=this.glyphInfos[w.index];if(!_){var E=w.getBoundingBox(),R=E.x1,P=E.y1,T=E.x2-R,D=E.y2-P,A=w.path.commands;if(T==0||D==0||!A.length)return this.glyphInfos[w.index]={};for(var I=[],U=[],B=[],N=8;0<=N;--N)B.push([]);for(N=8;0<=N;--N)U.push([]);var O,V,q,X,Z=function(){function fe(Ae,Pe,He,Je){l(this,fe),this.p0=Ae,this.c0=Pe,this.c1=He,this.p1=Je}return u(fe,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return g.default.Vector.sub(g.default.Vector.sub(this.p1,this.p0),g.default.Vector.mult(g.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Ae){var Pe=g.default.Vector.lerp(this.p0,this.c0,Ae),He=g.default.Vector.lerp(this.c0,this.c1,Ae),Je=g.default.Vector.lerp(Pe,He,Ae);return this.c1=g.default.Vector.lerp(this.c1,this.p1,Ae),this.c0=g.default.Vector.lerp(He,this.c1,Ae),He=g.default.Vector.lerp(Je,this.c0,Ae),Ae=new fe(this.p0,Pe,Je,He),this.p0=He,Ae}},{key:"splitInflections",value:function(){var Ae=g.default.Vector.sub(this.c0,this.p0),Pe=g.default.Vector.sub(g.default.Vector.sub(this.c1,this.c0),Ae),He=g.default.Vector.sub(g.default.Vector.sub(g.default.Vector.sub(this.p1,this.c1),Ae),g.default.Vector.mult(Pe,2)),Je=[],yt=Pe.x*He.y-Pe.y*He.x;return yt!==0&&0<=(Ae=(He=Ae.x*He.y-Ae.y*He.x)*He-4*yt*(Ae.x*Pe.y-Ae.y*Pe.x))&&(yt<0&&(yt=-yt,He=-He),Ae=(-He+(Pe=Math.sqrt(Ae)))/(2*yt),0<(He=(-He-Pe)/(2*yt))&&He<1&&(Je.push(this.split(He)),Ae=1-(1-Ae)/(1-He)),0<Ae&&Ae<1&&Je.push(this.split(Ae))),Je.push(this),Je}}]),fe}(),re=!0,ee=!1,ae=void 0;try{for(var z,H=A[Symbol.iterator]();!(re=(z=H.next()).done);re=!0){var $=z.value,ne=($.x-R)/T,oe=($.y-P)/D;if(!pt(O,V,ne,oe)){switch($.type){case"M":q=ne,X=oe;break;case"L":$e(O,V,ne,oe);break;case"Q":var le=($.x1-R)/T,Q=($.y1-P)/D;Te([O,ne,le],[V,oe,Q],{x:O,y:V,cx:le,cy:Q});break;case"Z":pt(O,V,q,X)?I.push({x:O,y:V}):($e(O,V,q,X),I.push({x:q,y:X}));break;case"C":for(var se=function(fe,Ae,Pe,He,Je,yt,it,at){fe=new Z(new g.default.Vector(fe,Ae),new g.default.Vector(Pe,He),new g.default.Vector(Je,yt),new g.default.Vector(it,at)).splitInflections();var J=[],K=30/p,te=!0;Ae=!1,Pe=void 0;try{for(var ue,we=fe[Symbol.iterator]();!(te=(ue=we.next()).done);te=!0){for(var Oe=ue.value,Ye=[],We=void 0;!(.125<=(We=K/Oe.quadError()));){var je=Math.pow(We,.3333333333333333),Ze=Oe.split(je),st=Oe.split(1-je/(1-je));J.push(Ze),Ye.push(Oe),Oe=st}We<1&&J.push(Oe.split(.5)),J.push(Oe),Array.prototype.push.apply(J,Ye.reverse())}}catch(At){Ae=!0,Pe=At}finally{try{te||we.return==null||we.return()}finally{if(Ae)throw Pe}}return J}(O,V,($.x1-R)/T,($.y1-P)/D,($.x2-R)/T,($.y2-P)/D,ne,oe),ye=0;ye<se.length;ye++){var me=se[ye].toQuadratic();Te([me.x,me.x1,me.cx],[me.y,me.y1,me.cy],me)}break;default:throw new Error("unknown command type: ".concat($.type))}O=ne,V=oe}}}catch(fe){ee=!0,ae=fe}finally{try{re||H.return==null||H.return()}finally{if(ee)throw ae}}for(var he=I.length,be=this.strokeImageInfos.findImage(he),Ue=be.index,Ne=0;Ne<he;++Ne){var Ee=I[Ne];d(be,qe(Ee.x),qe(Ee.y),qe(Ee.cx),qe(Ee.cy))}(_=this.glyphInfos[w.index]={glyph:w,uGlyphRect:[E.x1,-E.y1,E.x2,-E.y2],strokeImageInfo:be,strokes:I,colInfo:rt(B,this.colDimImageInfos,this.colCellImageInfos),rowInfo:rt(U,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[_.colInfo.dimOffset,_.rowInfo.dimOffset]}return _;function Te(fe,Ae,Pe){var He=I.length;function Je(K,te,ue){for(var we=K.length;0<we--;){var Oe=K[we];Oe<te&&(te=Oe),ue<Oe&&(ue=Oe)}return{min:te,max:ue}}I.push(Pe),Pe=Je(fe,1,0),fe=Math.max(Math.floor(9*Pe.min-.5),0);for(var yt=Math.min(Math.ceil(9*Pe.max+.5),9),it=fe;it<yt;++it)B[it].push(He);Pe=Je(Ae,1,0),fe=Math.max(Math.floor(9*Pe.min-.5),0);for(var at=Math.min(Math.ceil(9*Pe.max+.5),9),J=fe;J<at;++J)U[J].push(He)}function qe(fe){return(fe=255*fe)<0?0:255<fe?255:fe}function $e(fe,Ae,Pe,He){Te([fe,Pe],[Ae,He],{x:fe,y:Ae,cx:(fe+Pe)/2,cy:(Ae+He)/2})}function pt(fe,Ae,Pe,He){return Math.abs(Pe-fe)<1e-5&&Math.abs(He-Ae)<1e-5}function rt(fe,Ae,Pe){for(var He=fe.length,Je=Ae.findImage(He),yt=(Ae=Je.index,0),it=0;it<He;++it)yt+=fe[it].length;for(var at=Pe.findImage(yt),J=0;J<He;++J){var K=fe[J],te=K.length,ue=at.index;d(Je,ue>>7,127&ue,te>>7,127&te);for(var we=0;we<te;++we){var Oe=K[we]+Ue;d(at,Oe>>7,127&Oe,0,0)}}return{cellImageInfo:at,dimOffset:Ae,dimImageInfo:Je}}}}]),h}();g.default.RendererGL.prototype._renderText=function(h,w,_,E,R){if(this._textFont&&typeof this._textFont!="string"){if(!(R<=E)&&this._doFill){if(this._isOpenType()){h.push(),R=this._doStroke;var P=this.drawMode,T=(this._doStroke=!1,this.drawMode=b.TEXTURE,this._textFont.font),D=(D=this._textFont._fontInfo)||(this._textFont._fontInfo=new v(T)),A=(_=this._textFont._handleAlignment(this,w,_,E),E=this._textSize/T.unitsPerEm,this.translate(_.x,_.y,0),this.scale(E,E,1),this.GL),I=(_=!this._defaultFontShader,this._getFontShader()),U=(I.init(),I.bindShader(),_&&(I.setUniform("uGridImageSize",[64,64]),I.setUniform("uCellsImageSize",[64,64]),I.setUniform("uStrokeImageSize",[64,64]),I.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),B=(U||((E=this._textGeom=new g.default.Geometry(1,1,function(){for(var le=0;le<=1;le++)for(var Q=0;Q<=1;Q++)this.vertices.push(new g.default.Vector(Q,le,0)),this.uvs.push(Q,le)})).computeFaces().computeNormals(),U=this.createBuffers("glyph",E)),!0);_=!1,E=void 0;try{for(var N,O=this.retainedMode.buffers.text[Symbol.iterator]();!(B=(N=O.next()).done);B=!0)N.value._prepareBuffer(U,I)}catch(le){_=!0,E=le}finally{try{B||O.return==null||O.return()}finally{if(_)throw E}}this._bindBuffer(U.indexBuffer,A.ELEMENT_ARRAY_BUFFER),I.setUniform("uMaterialColor",this.curFillColor),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var V=0,q=null,X=T.stringToGlyphs(w),Z=!0,re=!1,ee=void 0;try{for(var ae,z=X[Symbol.iterator]();!(Z=(ae=z.next()).done);Z=!0){var H,$,ne=ae.value,oe=(q&&(V+=T.getKerningValue(q,ne)),D.getGlyphInfo(ne));oe.uGlyphRect&&(H=oe.rowInfo,$=oe.colInfo,I.setUniform("uSamplerStrokes",oe.strokeImageInfo.imageData),I.setUniform("uSamplerRowStrokes",H.cellImageInfo.imageData),I.setUniform("uSamplerRows",H.dimImageInfo.imageData),I.setUniform("uSamplerColStrokes",$.cellImageInfo.imageData),I.setUniform("uSamplerCols",$.dimImageInfo.imageData),I.setUniform("uGridOffset",oe.uGridOffset),I.setUniform("uGlyphRect",oe.uGlyphRect),I.setUniform("uGlyphOffset",V),I.bindTextures(),A.drawElements(A.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),V+=ne.advanceWidth,q=ne}}catch(le){re=!0,ee=le}finally{try{Z||z.return==null||z.return()}finally{if(re)throw ee}}}finally{I.unbindShader(),this._doStroke=R,this.drawMode=P,A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),h.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return h}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":262,"../core/main":273,"./p5.RendererGL.Retained":327,"./p5.Shader":329,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}]},{},[257])(257)})}).call(this,k(3))},function(f,x,k){k.r(x),k.d(x,"p5Events",function(){return c}),k.d(x,"default",function(){return u});var F=k(0),t=k.n(F),C=k(1),S=k.n(C);function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(i)}function o(i,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,(h=v.key,w=void 0,w=function(_,E){if(y(_)!=="object"||_===null)return _;var R=_[Symbol.toPrimitive];if(R!==void 0){var P=R.call(_,E||"default");if(y(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(_)}(h,"string"),y(w)==="symbol"?w:String(w)),v)}var h,w}function a(i,d){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,v){return p.__proto__=v,p})(i,d)}function g(i){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,v=l(i);if(d){var h=l(this).constructor;p=Reflect.construct(v,arguments,h)}else p=v.apply(this,arguments);return b(this,p)}}function b(i,d){if(d&&(y(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(i)}function l(i){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)})(i)}typeof window<"u"&&(window.p5=S.a);var c=["draw","windowResized","preload","mouseClicked","doubleClicked","mouseMoved","mousePressed","mouseWheel","mouseDragged","mouseReleased","keyPressed","keyReleased","keyTyped","touchStarted","touchMoved","touchEnded","deviceMoved","deviceTurned","deviceShaken"],u=function(i){(function(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),_&&a(w,_)})(h,i);var d,p,v=g(h);function h(w){var _;return function(E,R){if(!(E instanceof R))throw new TypeError("Cannot call a class as a function")}(this,h),(_=v.call(this,w)).canvasParentRef=t.a.createRef(),_}return d=h,(p=[{key:"componentDidMount",value:function(){var w=this;this.sketch=new S.a(function(_){_.setup=function(){w.props.setup(_,w.canvasParentRef.current)},c.forEach(function(E){w.props[E]&&(_[E]=function(){for(var R,P=arguments.length,T=new Array(P),D=0;D<P;D++)T[D]=arguments[D];(R=w.props)[E].apply(R,[_].concat(T))})})})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this.sketch.remove()}},{key:"render",value:function(){return t.a.createElement("div",{ref:this.canvasParentRef,className:this.props.className||"react-p5","data-testid":"react-p5",style:this.props.style||{}})}}])&&o(d.prototype,p),Object.defineProperty(d,"prototype",{writable:!1}),h}(t.a.Component)},function(f,x){var k;k=function(){return this}();try{k=k||new Function("return this")()}catch{typeof window=="object"&&(k=window)}f.exports=k}]).default})})(Jy);var n_=Jy.exports;const Hc=Xc(n_);var vt=(r=>(r[r.None=0]="None",r[r.SoftDrop=1]="SoftDrop",r[r.HardDrop=2]="HardDrop",r[r.Hold=3]="Hold",r[r.ShiftLeft=4]="ShiftLeft",r[r.ShiftRight=5]="ShiftRight",r[r.RotateCW=6]="RotateCW",r[r.RotateCCW=7]="RotateCCW",r))(vt||{});function o_(r){return r===7||r===6}var Os;class eg{constructor(){Bt(this,Os,[])}AddInput(n){ft(this,Os).push(n)}AddInputs(...n){ft(this,Os).push(...n)}Tick(n){return ft(this,Os).shift()??vt.None}}Os=new WeakMap;var Rs;class ri{constructor(n){Bt(this,Rs,void 0);Et(this,Rs,n)}get InputControl(){return ft(this,Rs)}Tick(n){return this.processTick(n,this.InputControl),ft(this,Rs).Tick(n)}}Rs=new WeakMap;class tg extends ri{constructor(){super(new eg)}processTick(n,s){}}class ga{constructor(n,s,f,x,k){this.Tick=n,this.Input=s,this.Success=f,this.Falling=x,this.Player=k}Clone(){return new ga(this.Tick,this.Input,this.Success,this.Falling,this.Player)}}class ve{constructor(n,s){ze(this,"X");ze(this,"Y");this.X=n,this.Y=s}Add(n){return new ve(this.X+n.X,this.Y+n.Y)}Subtract(n){return new ve(this.X-n.X,this.Y-n.Y)}Multiply(n){return new ve(this.X*n,this.Y*n)}Divide(n){return new ve(this.X/n,this.Y/n)}Equals(n){return this.X===n.X&&this.Y===n.Y}get Length(){return Math.sqrt(this.X*this.X+this.Y*this.Y)}Clone(){return new ve(this.X,this.Y)}}var xt=(r=>(r[r.None=0]="None",r[r.I=1]="I",r[r.J=2]="J",r[r.L=3]="L",r[r.O=4]="O",r[r.S=5]="S",r[r.T=6]="T",r[r.Z=7]="Z",r[r.Garbage=8]="Garbage",r))(xt||{}),rg=(r=>(r[r.R0=0]="R0",r[r.R90=1]="R90",r[r.R180=2]="R180",r[r.R270=3]="R270",r))(rg||{}),xo=(r=>(r[r.CW=1]="CW",r[r.CCW=-1]="CCW",r))(xo||{});const _i=Object.freeze([{[-1]:[new ve(0,0),new ve(1,0),new ve(1,1),new ve(0,-2),new ve(1,-2)],1:[new ve(0,0),new ve(-1,0),new ve(-1,1),new ve(0,-2),new ve(-1,-2)]},{[-1]:[new ve(0,0),new ve(1,0),new ve(1,-1),new ve(0,2),new ve(1,2)],1:[new ve(0,0),new ve(1,0),new ve(1,-1),new ve(0,2),new ve(1,2)]},{[-1]:[new ve(0,0),new ve(-1,0),new ve(-1,1),new ve(0,-2),new ve(-1,-2)],1:[new ve(0,0),new ve(1,0),new ve(1,1),new ve(0,-2),new ve(1,-2)]},{[-1]:[new ve(0,0),new ve(-1,0),new ve(-1,-1),new ve(0,2),new ve(-1,2)],1:[new ve(0,0),new ve(-1,0),new ve(-1,-1),new ve(0,2),new ve(-1,2)]}]),s_=Object.freeze([{[-1]:[new ve(0,0),new ve(-1,0),new ve(2,0),new ve(-1,2),new ve(2,-1)],1:[new ve(0,0),new ve(-2,0),new ve(1,0),new ve(-2,-1),new ve(1,2)]},{[-1]:[new ve(0,0),new ve(2,0),new ve(-1,0),new ve(2,1),new ve(-1,-2)],1:[new ve(0,0),new ve(-1,0),new ve(2,0),new ve(-1,2),new ve(2,-1)]},{[-1]:[new ve(0,0),new ve(1,0),new ve(-2,0),new ve(1,-2),new ve(-2,1)],1:[new ve(0,0),new ve(2,0),new ve(-1,0),new ve(2,1),new ve(-1,-2)]},{[-1]:[new ve(0,0),new ve(-2,0),new ve(1,0),new ve(-2,-1),new ve(1,2)],1:[new ve(0,0),new ve(1,0),new ve(-2,0),new ve(1,-2),new ve(-2,1)]}]),Yu=Object.freeze([{[-1]:[new ve(0,0)],1:[new ve(0,0)]},{[-1]:[new ve(0,0)],1:[new ve(0,0)]},{[-1]:[new ve(0,0)],1:[new ve(0,0)]},{[-1]:[new ve(0,0)],1:[new ve(0,0)]}]),tn=Object.freeze({0:{rotations:[[]],wallKick:Yu},1:{rotations:[[new ve(0,2),new ve(1,2),new ve(2,2),new ve(3,2)],[new ve(2,0),new ve(2,1),new ve(2,2),new ve(2,3)],[new ve(0,1),new ve(1,1),new ve(2,1),new ve(3,1)],[new ve(1,0),new ve(1,1),new ve(1,2),new ve(1,3)]],wallKick:s_},2:{rotations:[[new ve(0,2),new ve(0,1),new ve(1,1),new ve(2,1)],[new ve(2,2),new ve(1,2),new ve(1,1),new ve(1,0)],[new ve(0,1),new ve(1,1),new ve(2,1),new ve(2,0)],[new ve(0,0),new ve(1,0),new ve(1,1),new ve(1,2)]],wallKick:_i},3:{rotations:[[new ve(0,1),new ve(1,1),new ve(2,1),new ve(2,2)],[new ve(1,2),new ve(1,1),new ve(1,0),new ve(2,0)],[new ve(0,0),new ve(0,1),new ve(1,1),new ve(2,1)],[new ve(0,2),new ve(1,2),new ve(1,1),new ve(1,0)]],wallKick:_i},4:{rotations:[[new ve(0,0),new ve(0,1),new ve(1,0),new ve(1,1)]],wallKick:Yu},5:{rotations:[[new ve(0,1),new ve(1,1),new ve(1,2),new ve(2,2)],[new ve(1,2),new ve(1,1),new ve(2,1),new ve(2,0)],[new ve(0,0),new ve(1,0),new ve(1,1),new ve(2,1)],[new ve(0,2),new ve(0,1),new ve(1,1),new ve(1,0)]],wallKick:_i},6:{rotations:[[new ve(0,1),new ve(1,1),new ve(1,2),new ve(2,1)],[new ve(1,2),new ve(1,1),new ve(2,1),new ve(1,0)],[new ve(0,1),new ve(1,0),new ve(1,1),new ve(2,1)],[new ve(1,2),new ve(0,1),new ve(1,1),new ve(1,0)]],wallKick:_i},7:{rotations:[[new ve(0,2),new ve(1,1),new ve(1,2),new ve(2,1)],[new ve(2,2),new ve(1,1),new ve(2,1),new ve(1,0)],[new ve(0,1),new ve(1,0),new ve(1,1),new ve(2,0)],[new ve(1,2),new ve(0,1),new ve(1,1),new ve(0,0)]],wallKick:_i},8:{rotations:[[new ve(0,0)]],wallKick:Yu}});class na{constructor(){ze(this,"listeners",[]);ze(this,"listenersOncer",[]);ze(this,"On",n=>(this.listeners.push(n),{dispose:()=>this.Off(n)}));ze(this,"Once",n=>{this.listenersOncer.push(n)});ze(this,"Off",n=>{const s=this.listeners.indexOf(n);s>-1&&this.listeners.splice(s,1)});ze(this,"Emit",n=>{if(this.listeners.forEach(s=>s(n)),this.listenersOncer.length>0){const s=this.listenersOncer;this.listenersOncer=[],s.forEach(f=>f(n))}});ze(this,"Pipe",n=>this.On(s=>n.Emit(s)))}}Array.prototype.max||Object.defineProperty(Array.prototype,"max",{enumerable:!1,writable:!1,configurable:!1,value(){let r=this.length,n=this[this.length-1];for(;r--;)this[r]>=n&&(n=this[r]);return n}});Array.prototype.maxBy||Object.defineProperty(Array.prototype,"maxBy",{enumerable:!1,writable:!1,configurable:!1,value(r){let n=this.length,s=r(this[this.length-1]),f=this[this.length-1];for(;n--;){const x=r(this[n]);x>=s&&(s=x,f=this[n])}return f}});Array.prototype.min||Object.defineProperty(Array.prototype,"min",{enumerable:!1,writable:!1,configurable:!1,value(){let r=this.length,n=this[this.length-1];for(;r--;)this[r]<=n&&(n=this[r]);return n}});Array.prototype.minBy||Object.defineProperty(Array.prototype,"minBy",{enumerable:!1,writable:!1,configurable:!1,value(r){let n=this.length,s=r(this[this.length-1]),f=this[this.length-1];for(;n--;){const x=r(this[n]);x<=s&&(s=x,f=this[n])}return f}});Array.prototype.sum||Object.defineProperty(Array.prototype,"sum",{enumerable:!1,writable:!1,configurable:!1,value(){return this.reduce((r,n)=>r+n,0)}});function ng(r){return function(){let n=r+=1831565813;return n=Math.imul(n^n>>>15,n|1),n^=n+Math.imul(n^n>>>7,n|61),((n^n>>>14)>>>0)/4294967296}}var Io,Bn,cn;class gp{constructor(n=void 0,s=NaN){Bt(this,Io,void 0);Bt(this,Bn,void 0);Bt(this,cn,void 0);if(n instanceof Array){Et(this,Bn,null),Et(this,cn,new Array(s+n.length).fill(xt.None)),ft(this,cn).splice(s,n.length,...n),Et(this,Io,null);return}n===void 0?Et(this,Bn,Math.floor(Math.random()*2**32)):Et(this,Bn,n),Et(this,Io,ng(ft(this,Bn))),Et(this,cn,[])}get Seed(){return ft(this,Bn)}Generate(){if(ft(this,Bn)===null||ft(this,Io)===null){ft(this,cn).push(xt.None);return}const n=[xt.I,xt.J,xt.L,xt.O,xt.S,xt.T,xt.Z];for(;n.length>0;){const s=Math.floor(ft(this,Io).call(this)*n.length)%n.length;ft(this,cn).push(n.splice(s,1)[0])}}Get(n){for(;ft(this,cn).length<=n;)this.Generate();return ft(this,cn)[n]}GetRange(n,s){for(;ft(this,cn).length<=n+s;)this.Generate();return ft(this,cn).slice(n,n+s)}}Io=new WeakMap,Bn=new WeakMap,cn=new WeakMap;class oa{constructor(n,s,f=rg.R0,x=NaN,k=0,F=NaN,t=vt.None,C=0){ze(this,"Type");ze(this,"Rotation");ze(this,"Position");ze(this,"LastActionTick");ze(this,"DropTick");ze(this,"ActionCount");ze(this,"LastAction");ze(this,"PieceIndex");this.Type=n,this.Position=s,this.Rotation=f,this.LastActionTick=x,this.ActionCount=k,this.DropTick=F,this.LastAction=t,this.PieceIndex=C}Clone(){return new oa(this.Type,this.Position.Clone(),this.Rotation,this.LastActionTick,this.ActionCount,this.DropTick,this.LastAction,this.PieceIndex)}static Spawn(n,s,f,x){const k=new oa(n,new ve(4,21),void 0,f,0,f,void 0,x);return k.Bottom=21,k.Left=Math.floor(s.GridWidth/2-k.Width/2),k}Rotate(n=xo.CW){this.Rotation+=n;const{length:s}=tn[this.Type].rotations;this.Rotation>=s&&(this.Rotation=0),this.Rotation<0&&(this.Rotation=s-1)}get InternalPoints(){return tn[this.Type].rotations[this.Rotation]}get Points(){return tn[this.Type].rotations[this.Rotation].map(n=>n.Add(this.Position))}get InternalLeft(){return this.InternalPoints.map(n=>n.X).min()}get InternalRight(){return this.InternalPoints.map(n=>n.X).max()}get InternalTop(){return this.InternalPoints.map(n=>n.Y).max()}get InternalBottom(){return this.InternalPoints.map(n=>n.Y).min()}get Left(){return this.Position.X+this.InternalLeft}set Left(n){this.Position.X=n-this.InternalLeft}get Right(){return this.Position.X+this.InternalRight}set Right(n){this.Position.X=n-this.InternalRight}get Top(){return this.Position.Y+this.InternalTop}set Top(n){this.Position.Y=n-this.InternalTop}get Bottom(){return this.Position.Y+this.InternalBottom}set Bottom(n){this.Position.Y=n-this.InternalBottom}get Width(){return this.InternalRight-this.InternalLeft+1}get Height(){return this.InternalTop-this.InternalBottom+1}}var Yr=(r=>(r[r.LineClear=0]="LineClear",r[r.TSpin=1]="TSpin",r[r.TSpinMini=2]="TSpinMini",r[r.PerfectClear=3]="PerfectClear",r))(Yr||{});class nu{constructor(n,s,f,x){this.LinesCleared=n,this.Type=s,this.Combo=f,this.BackToBack=x}Clone(){return new nu(this.LinesCleared,this.Type,this.Combo,this.BackToBack)}get Rating(){let n=1.1**this.LinesCleared.length;switch(this.Type){case 3:n*=1.5;break;case 1:n*=1.3;break;case 2:n*=1.1;break}return this.BackToBack&&(n*=1.1),this.Combo&&(n*=1.05**this.Combo),n}get Garbage(){let n=0,s=0;switch(this.BackToBack&&n++,this.Combo){case 0:case 1:break;case 2:case 3:n+=1;break;case 4:case 5:n+=2;break;case 6:case 7:n+=3;break;case 8:case 9:case 10:n+=4;break;default:n+=5;break}if(this.Type===3)s+=6;else if(this.Type===0)switch(this.LinesCleared.length){case 0:case 1:break;case 2:n++;break;case 3:n+=2;break;default:n+=4;break}else this.Type===2?n+=this.LinesCleared.length:this.Type===1&&(n+=this.LinesCleared.length*2,this.BackToBack&&this.LinesCleared.length===3&&n++);return{targeted:n,universal:s}}ToString(){let n="",s="";switch(this.Combo>0&&(n+=`${this.Combo} REN `),this.BackToBack&&(n+="Back-to-back "),this.Type){case 3:s+="Perfect Clear ";break;case 2:s+="T-Spin Mini ";break;case 1:s+="T-Spin ";break}if(this.Type!==3)switch(this.LinesCleared.length){case 4:s+="Tetris ";break;case 3:s+="Triple ";break;case 2:s+="Double ";break;case 1:s+="Single ";break}return[n.trim(),s.trim()]}}function vp(r){return r.Type===0&&r.LinesCleared.length>=4||(r.Type===1||r.Type===2)&&r.LinesCleared.length>0}class kl{constructor(n,s){this.Type=n,this.PieceIndex=s}Clone(){return new kl(this.Type,this.PieceIndex)}}class Wc{constructor(n,s=[],f=0,x=void 0,k=null,F=null,t=0,C=!1,S=0,y=null,o=!1){ze(this,"Configuration");ze(this,"Grid");ze(this,"Falling");ze(this,"Hold");ze(this,"BlockHold");ze(this,"TicksElapsed");ze(this,"PieceQueue");ze(this,"PieceIndex");ze(this,"Combo");ze(this,"LastAchievement");ze(this,"IsDead");this.Configuration=n,this.Grid=new Array(this.GridHeight).fill(null).map(()=>new Array(this.GridWidth).fill(xt.None)),x&&x.forEach((a,g)=>a.forEach((b,l)=>{this.Grid[g][l]=b})),this.Falling=k?k.Clone():null,this.Hold=F?F.Clone():null,this.BlockHold=C,this.TicksElapsed=t,this.PieceQueue=s,this.PieceIndex=f,this.Combo=S,this.LastAchievement=y,this.IsDead=o}get GridWidth(){return this.Configuration.GridWidth}get GridHeight(){return this.Configuration.GridHeight}get PlayfieldHeight(){return this.Configuration.PlayfieldHeight}}var io,Ls,Fo;class on{constructor(n,s=void 0,f=0,x=null,k=null,F=0,t=!1,C=0,S=null,y=!1){ze(this,"Grid");ze(this,"Configuration");ze(this,"Falling");ze(this,"Hold");ze(this,"BlockHold");ze(this,"TicksElapsed");ze(this,"PieceIndex");ze(this,"Combo");ze(this,"LastAchievement");ze(this,"IsDead");Bt(this,io,void 0);Bt(this,Ls,void 0);Bt(this,Fo,void 0);if(n instanceof Wc){const o=n;this.Configuration=o.Configuration,this.Grid=new Array(o.GridHeight).fill(null).map(()=>new Array(o.GridWidth).fill(xt.None)),o.Grid&&o.Grid.forEach((a,g)=>a.forEach((b,l)=>{this.Grid[g][l]=b})),this.Falling=o.Falling,this.Hold=o.Hold,this.BlockHold=o.BlockHold,this.TicksElapsed=o.TicksElapsed,Et(this,io,new gp(o.PieceQueue,o.PieceIndex)),this.PieceIndex=o.PieceIndex,this.Combo=o.Combo,this.LastAchievement=o.LastAchievement,this.IsDead=o.IsDead}else this.Configuration=n,this.Grid=new Array(this.GridHeight).fill(null).map(()=>new Array(this.GridWidth).fill(xt.None)),this.Falling=x,this.Hold=k??null,this.BlockHold=t,this.TicksElapsed=F,Et(this,io,new gp(s)),this.PieceIndex=f,this.Combo=C,this.LastAchievement=S,this.IsDead=y;Et(this,Ls,new na),Et(this,Fo,new na)}GetVisibleState(){var n;return new Wc(this.Configuration,this.PieceQueue,this.PieceIndex,this.Grid,this.Falling,this.Hold,this.TicksElapsed,this.BlockHold,this.Combo,(n=this.LastAchievement)==null?void 0:n.Clone(),this.IsDead)}get GridWidth(){return this.Configuration.GridWidth}get GridHeight(){return this.Configuration.GridHeight}get PlayfieldHeight(){return this.Configuration.PlayfieldHeight}get Achievement(){return ft(this,Ls)}get Dead(){return ft(this,Fo)}get PieceQueue(){return ft(this,io).GetRange(this.PieceIndex,this.Configuration.QueueLength)}Get(n,s=void 0){let f,x;if(n instanceof ve)f=n.X,x=n.Y;else if(s!==void 0)f=n,x=s;else return null;return f<0||x<0||f>=this.GridWidth||x>=this.GridHeight?null:this.Grid[x][f]}IsPieceValid(n=void 0){return n?!n.Points.some(s=>(this.Get(s)??xt.I)!==xt.None):this.Falling?!this.Falling.Points.some(s=>(this.Get(s)??xt.I)!==xt.None):!0}HasHold(n=void 0){return n===void 0?this.Hold!==null&&this.Hold.Type!==xt.None:n!==null&&n.Type!==xt.None}DequeuePiece(){return this.Falling!==null?!1:(this.Falling=oa.Spawn(ft(this,io).Get(this.PieceIndex),this.Configuration,this.TicksElapsed,this.PieceIndex),this.PieceIndex++,this.BlockHold=!1,this.IsPieceValid()?!0:(this.IsDead=!0,ft(this,Fo).Emit(),!1))}HoldPiece(){if(this.Falling===null||this.BlockHold)return!1;let n=this.Hold;if(this.Hold=new kl(this.Falling.Type,this.PieceIndex-1),!this.HasHold(n)){const s=ft(this,io).Get(this.PieceIndex);if(s===xt.None)return this.Hold=n,!1;n=new kl(s,this.PieceIndex),this.PieceIndex++}return n&&(this.Falling=oa.Spawn(n.Type,this.Configuration,this.TicksElapsed,n.PieceIndex)),this.BlockHold=!0,this.Falling.LastAction=vt.Hold,!0}ClearLines(n=void 0){const s=[];let f=null;(n==null?void 0:n.Type)===xt.T&&o_(n.LastAction)&&[[0,0],[2,0],[0,2],[2,2]].reduce((t,[C,S])=>this.Get(n.Position.X+C,n.Position.Y+S)!==xt.None?t+1:t,0)>=3&&([[1,0],[0,1],[1,2],[2,1]].some(([C,S])=>!n.InternalPoints.find(y=>y.X===C&&y.Y===S)&&this.Get(n.Position.X+C,n.Position.Y+S)!==xt.None)?f=Yr.TSpinMini:f=Yr.TSpin);for(let F=this.GridHeight-1;F>=0;F--)this.Grid[F].some(t=>t===xt.None)||(this.Grid.splice(F,1),this.Grid.push(new Array(this.GridWidth).fill(xt.None)),s.push(F));if(s.length===0){if(this.Combo=0,f===null)return}else s.length>1&&f===Yr.TSpinMini&&(f=Yr.TSpin);const x=new nu(s,f??Yr.LineClear,this.Combo,this.LastAchievement?vp(this.LastAchievement):!1);s.length>0&&this.Combo++,this.Grid.some(F=>F.some(t=>t!==xt.None))||(x.Type=Yr.PerfectClear),x.BackToBack=vp(x)&&x.BackToBack;const k=x.Clone();ft(this,Ls).Emit(x),this.LastAchievement=k}LockPiece(){if(this.Falling===null)return!1;for(;!this.IsPieceValid();)this.Falling.Position.Y++;return this.Falling.Points.forEach(n=>{var s;this.Grid[n.Y][n.X]=((s=this.Falling)==null?void 0:s.Type)??xt.None}),this.ClearLines(this.Falling),this.Falling.Points.map(n=>n.Y).min()>=this.PlayfieldHeight&&(this.IsDead=!0,ft(this,Fo).Emit()),this.Falling=null,!0}RotatePiece(n=xo.CW){if(this.Falling===null)return!1;const s=tn[this.Falling.Type].wallKick[this.Falling.Rotation][n].find(f=>{var k;const x=(k=this.Falling)==null?void 0:k.Clone();return x?(x.Rotate(n),x.Position=x.Position.Add(f),this.IsPieceValid(x)):!1});return s?(this.Falling.Rotate(n),this.Falling.Position=this.Falling.Position.Add(s),this.Falling.LastActionTick=this.TicksElapsed,this.Falling.ActionCount++,this.Falling.LastAction=n===xo.CW?vt.RotateCW:vt.RotateCCW,!0):!1}ShiftPiece(n){if(this.Falling===null)return!1;const s=this.Falling.Clone();return s.Position.X+=n,this.IsPieceValid(s)?(this.Falling=s,this.Falling.LastActionTick=this.TicksElapsed,this.Falling.ActionCount++,this.Falling.LastAction=n>0?vt.ShiftRight:vt.ShiftLeft,!0):!1}CanPieceDrop(n=void 0){let s;if(n)s=n.Clone();else if(this.Falling)s=this.Falling.Clone();else return!1;return s.Position.Y--,this.IsPieceValid(s)}SoftDropPiece(n=!1){return this.Falling===null||!this.CanPieceDrop()?!1:(this.Falling.Position.Y--,this.Falling.LastActionTick=this.TicksElapsed,this.Falling.ActionCount=0,n?this.Falling.DropTick=this.TicksElapsed:this.Falling.LastAction=vt.SoftDrop,!0)}HardDropPiece(n=void 0){let s;if(n)s=n;else if(this.Falling)s=this.Falling;else return!1;const f=s.Position.Y;for(;this.IsPieceValid(s);)s.Position.Y--;return s.Position.Y++,f!==s.Position.Y&&(s.LastAction=vt.HardDrop),s===this.Falling?this.LockPiece():!0}Tick(){this.IsDead||(this.Falling===null?this.DequeuePiece():(this.TicksElapsed-this.Falling.DropTick>=this.Configuration.DropInterval&&this.SoftDropPiece(!0),this.TicksElapsed-this.Falling.LastActionTick>=this.Configuration.LockDelay&&!this.CanPieceDrop()&&this.LockPiece()),this.TicksElapsed++)}}io=new WeakMap,Ls=new WeakMap,Fo=new WeakMap;var ia,No;class i_{constructor(n){Bt(this,ia,void 0);Bt(this,No,void 0);n===void 0?Et(this,No,Math.floor(Math.random()*2**32)):Et(this,No,n),Et(this,ia,ng(ft(this,No)))}get Seed(){return ft(this,No)}Get(n){return Math.floor(ft(this,ia).call(this)*n)}}ia=new WeakMap,No=new WeakMap;class bp extends Wc{constructor(s,f=[],x=0,k=void 0,F=null,t=null,C=0,S=!1,y=0,o=null,a=!1,g=[]){super(s,f,x,k,F,t,C,S,y,o,a);ze(this,"GarbageMeter");this.GarbageMeter=g.map(b=>b.Clone())}}var Uo;class Ml extends on{constructor(s,f=void 0,x=0,k=null,F=null,t=0,C=!1,S=0,y=null,o=!1,a=[],g=void 0){super(s,f,x,k??void 0,F,t,C,S,y,o);ze(this,"GarbageMeter");Bt(this,Uo,void 0);if(s instanceof bp){const b=s;this.GarbageMeter=b.GarbageMeter,Et(this,Uo,null)}else this.GarbageMeter=a,Et(this,Uo,new i_(g))}GetVisibleState(){var s;return new bp(this.Configuration,this.PieceQueue,this.PieceIndex,this.Grid,this.Falling,this.Hold,this.TicksElapsed,this.BlockHold,this.Combo,(s=this.LastAchievement)==null?void 0:s.Clone(),this.IsDead,this.GarbageMeter)}SpawnGarbageLines(s=1){if(!ft(this,Uo))return;const f=new Array(this.GridWidth).fill(xt.Garbage);f[ft(this,Uo).Get(this.GridWidth)]=xt.None;for(let x=0;x<s;x++)this.Grid.unshift(f.slice()),this.Grid.pop();if(this.Falling)for(;!this.IsPieceValid();)this.Falling.Position.Y++}CancelGarbage(s){for(;s>0||this.GarbageMeter.length>0;){const f=this.GarbageMeter.minBy(x=>x.TickEnqueued);f.Lines>=s?(f.Lines-=s,s=0):(s-=f.Lines,this.GarbageMeter.splice(this.GarbageMeter.indexOf(f),1))}return s}Tick(){this.IsDead||(this.GarbageMeter.forEach(s=>{s.Lines<=0||this.TicksElapsed-s.TickEnqueued>=this.Configuration.GarbageDelay&&this.SpawnGarbageLines(s.Lines)}),this.GarbageMeter=this.GarbageMeter.filter(s=>this.TicksElapsed-s.TickEnqueued<this.Configuration.GarbageDelay&&s.Lines>0),super.Tick())}}Uo=new WeakMap;var Ds;class va{constructor(n){Bt(this,Ds,!1);this.Configuration=n}get GameRunning(){return ft(this,Ds)}StartGame(){Et(this,Ds,!0)}PauseGame(){Et(this,Ds,!1)}}Ds=new WeakMap;class og extends va{constructor(s){super(s);ze(this,"Participants");this.Participants=[]}}class Cl{constructor(n,s){this.Lines=n,this.TickEnqueued=s}Clone(){return new Cl(this.Lines,this.TickEnqueued)}}var Ll,Is,Bo,Fs,Ns;class a_ extends og{constructor(s,f){super(s);ze(this,"Participants");Bt(this,Ll,void 0);Bt(this,Is,void 0);Bt(this,Bo,void 0);Bt(this,Fs,void 0);Bt(this,Ns,0);Et(this,Ll,null),this.Participants=f.map(x=>({player:x.player,state:x.seed instanceof Ml?x.seed:new Ml(this.Configuration,x.seed)})),this.Participants.map(x=>x.state).forEach(x=>x.Achievement.On(k=>{const F=k.Garbage,t=this.Participants.map(y=>y.state).filter(y=>y!==x);t.forEach(y=>y.GarbageMeter.push(new Cl(F.universal,y.TicksElapsed)));const C=t.filter(y=>!y.IsDead),S=C[Math.floor(Math.random()*C.length)];S&&S.GarbageMeter.push(new Cl(F.targeted,S.TicksElapsed))})),Et(this,Is,new na),Et(this,Bo,!1),Et(this,Fs,new na)}get IsGameEnded(){return ft(this,Bo)?!0:this.Participants.filter(s=>!s.state.IsDead).length<=1?(Et(this,Bo,!0),!0):!1}get Input(){return ft(this,Is)}get GameEnded(){return ft(this,Fs)}Tick(s){Et(this,Ns,ft(this,Ns)+s),!(ft(this,Ns)<1e3/this.Configuration.TickRate)&&(Et(this,Ns,ft(this,Ns)%(1e3/this.Configuration.TickRate)),this.GameRunning&&(console.log("game ticked"),this.Participants.forEach(f=>{if(f.state.IsDead||(f.state.Tick(),f.state.IsDead))return;const x=f.player.Tick(f.state.GetVisibleState());console.log("player input ticked");const k=f.state.Falling;let F=!1;switch(x){case vt.HardDrop:F=f.state.HardDropPiece();break;case vt.Hold:F=f.state.HoldPiece();break;case vt.RotateCW:F=f.state.RotatePiece(xo.CW);break;case vt.RotateCCW:F=f.state.RotatePiece(xo.CCW);break;case vt.ShiftLeft:F=f.state.ShiftPiece(-1);break;case vt.ShiftRight:F=f.state.ShiftPiece(1);break;case vt.SoftDrop:F=f.state.SoftDropPiece(!1);break}x!==vt.None&&ft(this,Is).Emit(new ga(f.state.TicksElapsed,x,F,k,f.player))}),!ft(this,Bo)&&this.IsGameEnded&&ft(this,Fs).Emit()))}}Ll=new WeakMap,Is=new WeakMap,Bo=new WeakMap,Fs=new WeakMap,Ns=new WeakMap;class l_{constructor(){ze(this,"dependencyMap",new Map)}Register(n,s,f){this.dependencyMap.set(n,{dependencies:s,loader:f})}Inject(n,s){const f=[];let x=Object.getPrototypeOf(n);for(;x;)f.push(x.constructor),x=Object.getPrototypeOf(x);f.reverse(),f.forEach(k=>{const F=this.dependencyMap.get(k);if(F){const t=F.dependencies.map(C=>s.Resolve(C));F.loader.apply(n,t)}})}}const sg=new l_;var Co=(r=>(r[r.NotLoaded=0]="NotLoaded",r[r.Ready=1]="Ready",r[r.Loaded=2]="Loaded",r))(Co||{});class ni{constructor(){ze(this,"parent",null);ze(this,"loadState",Co.NotLoaded)}get Parent(){return this.parent}get LoadState(){return this.loadState}get IsLoaded(){return this.loadState>=Co.Ready}With(n){return n(this),this}injectDependencies(n){sg.Inject(this,n)}Load(n,s){this.loadInternal(n,s,()=>{})}loadInternal(n,s,f){if(this.LoadState!==Co.NotLoaded)throw new Error("Component already loaded");this.parent=n,this.injectDependencies(s),f(),this.loadState=Co.Ready,this.loadComplete()}loadComplete(){}Unload(){this.parent!==null&&(this.parent.Remove(this),this.parent=null),this.loadState=Co.NotLoaded}preSetup(){}SetupSubTree(){this.preSetup(),this.loadState=Co.Loaded}update(){}UpdateSubTree(){this.update()}DrawSubTree(){}}function Wr(...r){return function(s,f,x){const k=x.value;if(typeof k!="function")throw new Error(`@Inject can only be used on methods, not on ${typeof k}`);return sg.Register(s.constructor,r,k),x}}class ig{constructor(n){ze(this,"p5");this.p5=n}}var u_=Object.defineProperty,c_=Object.getOwnPropertyDescriptor,d_=(r,n,s,f)=>{for(var x=f>1?void 0:f?c_(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&u_(n,s,x),x};class To extends ni{constructor(){super(...arguments);ze(this,"graphics",null);ze(this,"Offset",new ve(0,0));ze(this,"Scale",new ve(1,1));ze(this,"Size",new ve(0,0))}get OffsetX(){return this.Offset.X}set OffsetX(s){this.Offset.X=s}get OffsetY(){return this.Offset.Y}set OffsetY(s){this.Offset.Y=s}get ScaleX(){return this.Scale.X}set ScaleX(s){this.Scale.X=s}get ScaleY(){return this.Scale.Y}set ScaleY(s){this.Scale.Y=s}get Width(){return this.Size.X}set Width(s){this.Size.X=s}get Height(){return this.Size.Y}set Height(s){this.Size.Y=s}loadDrawable(s){this.graphics=s}applyTransform(s){const{p5:f}=s;f.translate(this.Offset.X,this.Offset.Y),f.scale(this.Scale.X,this.Scale.Y)}SetupSubTree(){super.SetupSubTree(),this.graphics.p5.push(),this.applyTransform(this.graphics),this.setup(this.graphics),this.graphics.p5.pop()}DrawSubTree(){this.graphics.p5.push(),this.applyTransform(this.graphics),this.draw(this.graphics),this.graphics.p5.pop()}setup(s){}draw(s){}}d_([Wr(ig)],To.prototype,"loadDrawable",1);class Xd extends To{draw(n){const{p5:s}=n;s.resetMatrix(),s.scale(1.2,1.2),s.noStroke(),s.fill(0),s.text(`FPS: ${s.frameRate().toFixed(2)}`,0,10)}}function ag(r,n){return r.setAlpha(n),r}function Pl(r,n){switch(n){case xt.None:return r.color(50);case xt.I:return r.color(77,208,225);case xt.J:return r.color(33,150,243);case xt.L:return r.color(255,152,0);case xt.O:return r.color(253,216,53);case xt.S:return r.color(76,175,80);case xt.T:return r.color(224,64,251);case xt.Z:return r.color(229,115,115);case xt.Garbage:return r.color(150);default:return r.color(255,0,0)}}function Al(r,n,s,f,x,k){r.fill(ag(Pl(r,n??xt.None),k)),f.forEach(F=>{r.rect(s.X+F.X*x,s.Y+F.Y*x,x,x)})}function qc(r,n,s,f,x,k){r.push(),r.scale(1,-1),r.text(n,s,-f,x,k===void 0?k:-k),r.pop()}var lg=(r=>(r.Lock="/assets/sfx/sfx_lockdown.wav",r.RotateSuccess="/assets/sfx/sfx_rotate.wav",r.RotateFail="/assets/sfx/sfx_rotatefail.wav",r.ShiftSuccess="/assets/sfx/sfx_move.wav",r.ShiftFail="/assets/sfx/sfx_movefail.wav",r.SoftDrop="/assets/sfx/sfx_softdrop.wav",r.Hold="/assets/sfx/sfx_hold.wav",r))(lg||{}),Yo=(r=>(r.Single="/assets/sfx/sfx_single.wav",r.Double="/assets/sfx/sfx_double.wav",r.Triple="/assets/sfx/sfx_triple.wav",r.Tetris="/assets/sfx/sfx_tetris.wav",r.TSpin="/assets/sfx/sfx_tspin_zero.wav",r.TSpinMini="/assets/sfx/sfx_tspin_mini.wav",r.TSpinSingle="/assets/sfx/sfx_tspin_single.wav",r.TSpinDouble="/assets/sfx/sfx_tspin_double.wav",r.TSpinTriple="/assets/sfx/sfx_tspin_triple.wav",r.B2bTSpinMini="/assets/sfx/sfx_b2b_tspin_mini.wav",r.B2bTSpinSingle="/assets/sfx/sfx_b2b_tspin_single.wav",r.B2bTSpinDouble="/assets/sfx/sfx_b2b_tspin_double.wav",r.B2bTSpinTriple="/assets/sfx/sfx_b2b_tspin_triple.wav",r.B2bTetris="/assets/sfx/sfx_b2b_tetris.wav",r.PerfectClear="/assets/sfx/sfx_perfectclear.wav",r.Combo1="/assets/sfx/sfx_combo1.wav",r.Combo2="/assets/sfx/sfx_combo2.wav",r.Combo3="/assets/sfx/sfx_combo3.wav",r.Combo4="/assets/sfx/sfx_combo4.wav",r.Combo5="/assets/sfx/sfx_combo5.wav",r.Combo6="/assets/sfx/sfx_combo6.wav",r.Combo7="/assets/sfx/sfx_combo7.wav",r.Combo8="/assets/sfx/sfx_combo8.wav",r.Combo9="/assets/sfx/sfx_combo9.wav",r.Combo10="/assets/sfx/sfx_combo10.wav",r.Combo11="/assets/sfx/sfx_combo11.wav",r.Combo12="/assets/sfx/sfx_combo12.wav",r.Combo13="/assets/sfx/sfx_combo13.wav",r.Combo14="/assets/sfx/sfx_combo14.wav",r.Combo15="/assets/sfx/sfx_combo15.wav",r.Combo16="/assets/sfx/sfx_combo16.wav",r.Combo17="/assets/sfx/sfx_combo17.wav",r.Combo18="/assets/sfx/sfx_combo18.wav",r.Combo19="/assets/sfx/sfx_combo19.wav",r.Combo20="/assets/sfx/sfx_combo20.wav",r.GameOver="/assets/sfx/sfx_gameover.wav",r))(Yo||{}),As=(r=>(r.Single="/assets/voice/voice_single.wav",r.Double="/assets/voice/voice_double.wav",r.Triple="/assets/voice/voice_triple.wav",r.Tetris="/assets/voice/voice_tetris.wav",r.TSpin="/assets/voice/voice_tspin.wav",r.TSpinMini="/assets/voice/voice_tspinmini.wav",r.TSpinSingle="/assets/voice/voice_tspinsingle.wav",r.TSpinDouble="/assets/voice/voice_tspindouble.wav",r.TSpinTriple="/assets/voice/voice_tspintriple.wav",r.B2bTSpinMini="/assets/voice/voice_b2btspinmini.wav",r.B2bTSpinSingle="/assets/voice/voice_b2btspinsingle.wav",r.B2bTSpinDouble="/assets/voice/voice_b2btspindouble.wav",r.B2bTSpinTriple="/assets/voice/voice_b2btspintriple.wav",r.B2bTetris="/assets/voice/voice_b2btetris.wav",r.PerfectClear="/assets/voice/voice_perfectclear.wav",r.Combo1="/assets/voice/voice_combo01.wav",r.Combo2="/assets/voice/voice_combo02.wav",r.Combo3="/assets/voice/voice_combo03.wav",r.Combo4="/assets/voice/voice_combo04.wav",r.Combo5="/assets/voice/voice_combo05.wav",r))(As||{});function Xu(r){return Object.keys(Yo).find(n=>n===r)!==void 0}function $u(r){return Object.keys(As).find(n=>n===r)!==void 0}function ug(r){if(r instanceof ga)switch(r.Input){case vt.HardDrop:return"/assets/sfx/sfx_lockdown.wav";case vt.RotateCCW:case vt.RotateCW:return r.Success?"/assets/sfx/sfx_rotate.wav":"/assets/sfx/sfx_rotatefail.wav";case vt.ShiftLeft:case vt.ShiftRight:return r.Success?"/assets/sfx/sfx_move.wav":"/assets/sfx/sfx_movefail.wav";case vt.SoftDrop:return"/assets/sfx/sfx_softdrop.wav";case vt.Hold:return r.Success?"/assets/sfx/sfx_hold.wav":null;default:return null}if(r instanceof nu){const n=[];if(r.Combo>0){const f=`Combo${Math.min(20,r.Combo)}`;Xu(f)&&n.push(Yo[f])}if(r.Type===Yr.PerfectClear)return n.push("/assets/sfx/sfx_perfectclear.wav"),n;let s="";return r.BackToBack&&(s+="B2b"),r.Type===Yr.TSpinMini?s+="TSpinMini":(r.Type===Yr.TSpin&&(s+="TSpin"),r.LinesCleared.length===1?s+="Single":r.LinesCleared.length===2?s+="Double":r.LinesCleared.length===3?s+="Triple":r.LinesCleared.length===4&&(s+="Tetris")),Xu(s)?n.push(Yo[s]):s.startsWith("B2b")&&(s=s.substr(3),Xu(s)&&n.push(Yo[s])),n}return null}function f_(r){if(r.Type===Yr.PerfectClear)return"/assets/voice/voice_perfectclear.wav";let n="";if(r.BackToBack&&(n+="B2b"),r.Type===Yr.TSpinMini?n+="TSpinMini":(r.Type===Yr.TSpin&&(n+="TSpin"),r.LinesCleared.length===1?n+="Single":r.LinesCleared.length===2?n+="Double":r.LinesCleared.length===3?n+="Triple":r.LinesCleared.length===4&&(n+="Tetris")),$u(n)&&n!=="Single"||n.startsWith("B2b")&&(n=n.substr(3),$u(n)))return As[n];if(r.Combo>0){const s=`Combo${Math.min(5,r.Combo)}`;if($u(s))return As[s]}return null}class Un{constructor(n,s,f,x,k=0,F=Un.Linear){this.From=n,this.To=s,this.Duration=f,this.Data=x,this.Elapsed=k,this.EasingFunction=F}static Linear(n){return n}static EaseOutQuint(n){return 1-(1-n)**5}static EaseInOutSine(n){return-(Math.cos(Math.PI*n)-1)/2}static Step(n){return n<.05?0:1}static RevertingFunction(n=Un.EaseInOutSine,s=.2){return f=>f<=s?n(f/s):f>=1-s?n((1-f)/s):1}get CurrentValue(){return this.From+(this.To-this.From)*this.EasingFunction(this.Elapsed/this.Duration)}get Finished(){return this.Elapsed>=this.Duration}Tick(n=1){this.Elapsed+=n}}class sn{constructor(n={}){ze(this,"BlockSize",30);ze(this,"Width",630);ze(this,"Height",703);ze(this,"Framerate");ze(this,"SoundVolume",.5);ze(this,"BackgroundColor","#34515e");ze(this,"AnimationDuration",20);ze(this,"AutoRepeatDelay",20);ze(this,"AutoRepeatInterval",5);this.UpdateConfig(n)}UpdateConfig(n){this.Width=n.width??this.Width,this.Height=n.height??this.Height,this.BlockSize=n.blockSize??this.BlockSize,this.Framerate=n.framerate??this.Framerate,this.SoundVolume=n.soundVolume??this.SoundVolume,this.AnimationDuration=n.animationDuration??this.AnimationDuration,this.BackgroundColor=n.backgroundColor??this.BackgroundColor,this.AutoRepeatDelay=n.autoRepeatDelay??this.AutoRepeatDelay,this.AutoRepeatInterval=n.autoRepeatInterval??this.AutoRepeatInterval}Serialize(){return{width:this.Width,height:this.Height,blockSize:this.BlockSize,framerate:this.Framerate,soundVolume:this.SoundVolume,animationDuration:this.AnimationDuration,backgroundColor:this.BackgroundColor,autoRepeatDelay:this.AutoRepeatDelay,autoRepeatInterval:this.AutoRepeatInterval}}}var h_=Object.defineProperty,p_=Object.getOwnPropertyDescriptor,m_=(r,n,s,f)=>{for(var x=f>1?void 0:f?p_(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&h_(n,s,x),x};class sa extends ni{constructor(){super(...arguments);ze(this,"hardDropAnimations",[]);ze(this,"lineClearAnimations",[]);ze(this,"gameEventAnimation",null);ze(this,"game",null);ze(this,"player",null);ze(this,"gameState",null);ze(this,"localConfig",null)}get HardDropAnimations(){return this.hardDropAnimations}get LineClearAnimations(){return this.lineClearAnimations}get GameEventAnimation(){return this.gameEventAnimation}loadAnimationManager(s,f,x,k){this.game=s,this.player=f,this.gameState=x,this.localConfig=k}preSetup(){this.game.Input.On(s=>{s.Player===this.player&&(s.Input!==vt.HardDrop||!s.Success||s.Falling&&this.hardDropAnimations.push(new Un(1,0,this.localConfig.AnimationDuration,{left:s.Falling.Left,right:s.Falling.Right,end:s.Falling.Top,type:s.Falling.Type},0,Un.EaseOutQuint)))}),this.gameState.Achievement.On(s=>{let f=0;s.LinesCleared.forEach(x=>{this.lineClearAnimations.filter(k=>k.Data.y>x).forEach(k=>k.Data.y--),this.lineClearAnimations.push(new Un(1,0,this.localConfig.AnimationDuration+f,{y:x,origY:x},0,Un.EaseOutQuint)),f+=this.localConfig.AnimationDuration/5})}),this.gameState.Achievement.On(s=>{const[f,x]=s.ToString();this.gameEventAnimation=new Un(0,1,this.localConfig.AnimationDuration*5*s.Rating,{subtitle:f,title:x,rating:s.Rating},0,Un.RevertingFunction())})}update(){var s,f;this.hardDropAnimations.forEach(x=>x.Tick()),this.hardDropAnimations=this.hardDropAnimations.filter(x=>!x.Finished),this.lineClearAnimations.forEach(x=>x.Tick()),this.lineClearAnimations=this.lineClearAnimations.filter(x=>!x.Finished),(s=this.gameEventAnimation)==null||s.Tick(),(f=this.gameEventAnimation)!=null&&f.Finished&&(this.gameEventAnimation=null)}}m_([Wr(va,ri,on,sn)],sa.prototype,"loadAnimationManager",1);var y_=Object.defineProperty,g_=Object.getOwnPropertyDescriptor,v_=(r,n,s,f)=>{for(var x=f>1?void 0:f?g_(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&y_(n,s,x),x};class ou extends To{constructor(){super(...arguments);ze(this,"animationManager",null)}loadGameEventTextDrawable(s){this.animationManager=s}draw(s){const{p5:f}=s,x=this.animationManager.GameEventAnimation;x&&(f.textAlign(f.CENTER,f.BOTTOM),f.fill(255,255,255,255*x.CurrentValue),f.noStroke(),f.textSize(15*x.Data.rating*.8),qc(f,x.Data.subtitle,0,15*x.Data.rating),f.textSize(15*x.Data.rating),qc(f,x.Data.title,0,0))}}v_([Wr(sa)],ou.prototype,"loadGameEventTextDrawable",1);var b_=Object.defineProperty,__=Object.getOwnPropertyDescriptor,w_=(r,n,s,f)=>{for(var x=f>1?void 0:f?__(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&b_(n,s,x),x};class $d extends To{constructor(){super(...arguments);ze(this,"gameState",null);ze(this,"localConfig",null)}loadGarbageMeterDrawable(s,f){this.gameState=s,this.localConfig=f}draw(s){const{p5:f}=s,x=this.gameState,k=this.localConfig.BlockSize;f.fill(50),f.rect(0,0,k,k*x.PlayfieldHeight),f.fill(Pl(f,xt.Garbage));let F=x.GarbageMeter.reduce((t,C)=>t+C.Lines,0);F>x.PlayfieldHeight&&(F=x.PlayfieldHeight,f.fill("red"));for(let t=0;t<F;t++)f.rect(0,t*k,k,k)}}w_([Wr(Ml,sn)],$d.prototype,"loadGarbageMeterDrawable",1);var x_=Object.defineProperty,j_=Object.getOwnPropertyDescriptor,S_=(r,n,s,f)=>{for(var x=f>1?void 0:f?j_(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&x_(n,s,x),x};class su extends To{constructor(){super(...arguments);ze(this,"gameState",null);ze(this,"localConfig",null)}loadHoldPieceDrawable(s,f){this.gameState=s,this.localConfig=f}draw(s){const{p5:f}=s,x=this.gameState,k=this.localConfig.BlockSize;if(f.fill(50),f.rect(0,0,k*5,k*6),f.noStroke(),f.fill(255),f.textAlign(f.CENTER),f.textSize(15),qc(f,"HOLD",k*2.5,k*5),f.textAlign(f.LEFT),f.stroke(0),x.Hold){const F=tn[x.Hold.Type].rotations[0].slice(),t=F.map(o=>o.X),C=F.map(o=>o.Y),S=t.max()-t.min()+1,y=C.max()-C.min()+1;Al(f,x.Hold.Type,new ve((2.5-S/2)*k,(2.5-y/2-C.min())*k),F,k,255)}}}S_([Wr(on,sn)],su.prototype,"loadHoldPieceDrawable",1);var E_=Object.defineProperty,T_=Object.getOwnPropertyDescriptor,k_=(r,n,s,f)=>{for(var x=f>1?void 0:f?T_(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&E_(n,s,x),x};class iu extends To{constructor(){super(...arguments);ze(this,"gameState",null);ze(this,"localConfig",null)}loadPieceQueueDrawable(s,f){this.gameState=s,this.localConfig=f}draw(s){const{p5:f}=s,x=this.gameState,k=this.localConfig.BlockSize,{length:F}=x.PieceQueue;let t=0;for(let C=F-1;C>=0;C--){const S=tn[x.PieceQueue[C]].rotations[0].slice(),y=S.map(b=>b.X),o=S.map(b=>b.Y),a=y.max()-y.min()+1,g=o.max()-o.min()+1;Al(f,x.PieceQueue[C],new ve((2-a/2)*k,t-o.min()*k),S,k,255),t+=(g+1)*k}}}k_([Wr(on,sn)],iu.prototype,"loadPieceQueueDrawable",1);var M_=Object.defineProperty,C_=Object.getOwnPropertyDescriptor,P_=(r,n,s,f)=>{for(var x=f>1?void 0:f?C_(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&M_(n,s,x),x},Us,aa;class au extends To{constructor(){super(...arguments);ze(this,"gameState",null);ze(this,"localConfig",null);ze(this,"animationManager",null);Bt(this,Us,null);Bt(this,aa,!1)}loadPlayfieldDrawable(s,f,x){this.gameState=s,this.localConfig=f,this.animationManager=x}setup(s){const{p5:f}=this.graphics;Et(this,Us,f.createGraphics(this.gameState.GridWidth*this.localConfig.BlockSize,(this.gameState.PlayfieldHeight+.1)*this.localConfig.BlockSize))}draw(){var F,t;const{p5:s}=this.graphics,f=this.gameState,x=this.localConfig.BlockSize;if(!ft(this,Us))return;const k=ft(this,Us);if(!ft(this,aa)){k.background(50),k.stroke(0,0,0,100);for(let S=0;S<=f.GridHeight;S++)k.line(0,S*x,f.GridWidth*x,S*x);for(let S=0;S<=f.GridWidth;S++)k.line(S*x,0,S*x,f.GridHeight*x);k.noStroke(),this.animationManager.HardDropAnimations.forEach(S=>{k.fill(ag(Pl(k,S.Data.type),20)),k.rect(S.Data.left*x,S.Data.end*x,(S.Data.right-S.Data.left+1)*x,(f.PlayfieldHeight-S.Data.end)*S.CurrentValue*x)}),k.stroke(0,0,0,150);const C=[];for(let S=0;S<f.GridHeight;S++)C.push(S+this.animationManager.LineClearAnimations.filter(y=>y.Data.y<=S).reduce((y,o)=>y+o.CurrentValue,0));for(let S=0;S<f.GridHeight;S++)for(let y=0;y<f.GridWidth;y++){const o=f.Get(y,S)??xt.None;o!==xt.None&&(k.fill(Pl(k,o)),k.rect(y*x,C[S]*x,x,x))}if(f.Falling){const S=f.Falling.Points.map(a=>new ve(a.X,C[a.Y]));Al(k,(F=f.Falling)==null?void 0:F.Type,new ve(0,0),S,x,255);const y=f.Falling.Clone();f.HardDropPiece(y);const o=y.Points.map(a=>new ve(a.X,C[a.Y]));Al(k,(t=f.Falling)==null?void 0:t.Type,new ve(0,0),o,x,50)}k.noStroke(),k.fill(255,255,255,100),this.animationManager.LineClearAnimations.forEach(S=>{k.rect(0,S.Data.origY*x,f.GridWidth*x/2*S.CurrentValue,x),k.rect(f.GridWidth*x,S.Data.origY*x,-f.GridWidth*x/2*S.CurrentValue,x)}),f.IsDead&&(k.filter(k.GRAY),Et(this,aa,!0))}s.image(k,0,0)}}Us=new WeakMap,aa=new WeakMap;P_([Wr(on,sn,sa)],au.prototype,"loadPlayfieldDrawable",1);class Zd extends ni{get KeyPressedHandler(){return this.p5KeyPressed.bind(this)}get KeyReleasedHandler(){return this.p5KeyReleased.bind(this)}}var A_=Object.defineProperty,O_=Object.getOwnPropertyDescriptor,R_=(r,n,s,f)=>{for(var x=f>1?void 0:f?O_(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&A_(n,s,x),x},Gn,Go;class Qd extends Zd{constructor(){super(...arguments);Bt(this,Gn,vt.None);Bt(this,Go,0);ze(this,"player",null);ze(this,"localConfig",null)}loadRepeatableInputHandler(s,f){this.player=s,this.localConfig=f}update(){ft(this,Gn)!==vt.None&&(ft(this,Go)<=0&&(this.player.InputControl.AddInput(ft(this,Gn)),Et(this,Go,this.localConfig.AutoRepeatInterval)),If(this,Go)._--)}p5KeyPressed(s){Et(this,Gn,this.getInput(s)),this.player.InputControl.AddInput(ft(this,Gn)),Et(this,Go,this.localConfig.AutoRepeatDelay)}p5KeyReleased(s){ft(this,Gn)===this.getInput(s)&&Et(this,Gn,vt.None)}getInput(s){switch(s.keyCode){case s.LEFT_ARROW:return vt.ShiftLeft;case s.RIGHT_ARROW:return vt.ShiftRight;case s.UP_ARROW:return vt.RotateCW;case s.CONTROL:return vt.RotateCCW;case s.DOWN_ARROW:return vt.SoftDrop;case s.SHIFT:return vt.Hold;default:return s.key===" "?vt.HardDrop:vt.None}}}Gn=new WeakMap,Go=new WeakMap;R_([Wr(ri,sn)],Qd.prototype,"loadRepeatableInputHandler",1);var lu={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(r){(function(){var n=function(){this.init()};n.prototype={init:function(){var o=this||s;return o._counter=1e3,o._html5AudioPool=[],o.html5PoolSize=10,o._codecs={},o._howls=[],o._muted=!1,o._volume=1,o._canPlayEvent="canplaythrough",o._navigator=typeof window<"u"&&window.navigator?window.navigator:null,o.masterGain=null,o.noAudio=!1,o.usingWebAudio=!0,o.autoSuspend=!0,o.ctx=null,o.autoUnlock=!0,o._setup(),o},volume:function(o){var a=this||s;if(o=parseFloat(o),a.ctx||y(),typeof o<"u"&&o>=0&&o<=1){if(a._volume=o,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(o,s.ctx.currentTime);for(var g=0;g<a._howls.length;g++)if(!a._howls[g]._webAudio)for(var b=a._howls[g]._getSoundIds(),l=0;l<b.length;l++){var c=a._howls[g]._soundById(b[l]);c&&c._node&&(c._node.volume=c._volume*o)}return a}return a._volume},mute:function(o){var a=this||s;a.ctx||y(),a._muted=o,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(o?0:a._volume,s.ctx.currentTime);for(var g=0;g<a._howls.length;g++)if(!a._howls[g]._webAudio)for(var b=a._howls[g]._getSoundIds(),l=0;l<b.length;l++){var c=a._howls[g]._soundById(b[l]);c&&c._node&&(c._node.muted=o?!0:c._muted)}return a},stop:function(){for(var o=this||s,a=0;a<o._howls.length;a++)o._howls[a].stop();return o},unload:function(){for(var o=this||s,a=o._howls.length-1;a>=0;a--)o._howls[a].unload();return o.usingWebAudio&&o.ctx&&typeof o.ctx.close<"u"&&(o.ctx.close(),o.ctx=null,y()),o},codecs:function(o){return(this||s)._codecs[o.replace(/^x-/,"")]},_setup:function(){var o=this||s;if(o.state=o.ctx&&o.ctx.state||"suspended",o._autoSuspend(),!o.usingWebAudio)if(typeof Audio<"u")try{var a=new Audio;typeof a.oncanplaythrough>"u"&&(o._canPlayEvent="canplay")}catch{o.noAudio=!0}else o.noAudio=!0;try{var a=new Audio;a.muted&&(o.noAudio=!0)}catch{}return o.noAudio||o._setupCodecs(),o},_setupCodecs:function(){var o=this||s,a=null;try{a=typeof Audio<"u"?new Audio:null}catch{return o}if(!a||typeof a.canPlayType!="function")return o;var g=a.canPlayType("audio/mpeg;").replace(/^no$/,""),b=o._navigator?o._navigator.userAgent:"",l=b.match(/OPR\/(\d+)/g),c=l&&parseInt(l[0].split("/")[1],10)<33,u=b.indexOf("Safari")!==-1&&b.indexOf("Chrome")===-1,i=b.match(/Version\/(.*?) /),d=u&&i&&parseInt(i[1],10)<15;return o._codecs={mp3:!!(!c&&(g||a.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!g,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!d&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!d&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},o},_unlockAudio:function(){var o=this||s;if(!(o._audioUnlocked||!o.ctx)){o._audioUnlocked=!1,o.autoUnlock=!1,!o._mobileUnloaded&&o.ctx.sampleRate!==44100&&(o._mobileUnloaded=!0,o.unload()),o._scratchBuffer=o.ctx.createBuffer(1,1,22050);var a=function(g){for(;o._html5AudioPool.length<o.html5PoolSize;)try{var b=new Audio;b._unlocked=!0,o._releaseHtml5Audio(b)}catch{o.noAudio=!0;break}for(var l=0;l<o._howls.length;l++)if(!o._howls[l]._webAudio)for(var c=o._howls[l]._getSoundIds(),u=0;u<c.length;u++){var i=o._howls[l]._soundById(c[u]);i&&i._node&&!i._node._unlocked&&(i._node._unlocked=!0,i._node.load())}o._autoResume();var d=o.ctx.createBufferSource();d.buffer=o._scratchBuffer,d.connect(o.ctx.destination),typeof d.start>"u"?d.noteOn(0):d.start(0),typeof o.ctx.resume=="function"&&o.ctx.resume(),d.onended=function(){d.disconnect(0),o._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var p=0;p<o._howls.length;p++)o._howls[p]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),o}},_obtainHtml5Audio:function(){var o=this||s;if(o._html5AudioPool.length)return o._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise<"u"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(o){var a=this||s;return o._unlocked&&a._html5AudioPool.push(o),a},_autoSuspend:function(){var o=this;if(!(!o.autoSuspend||!o.ctx||typeof o.ctx.suspend>"u"||!s.usingWebAudio)){for(var a=0;a<o._howls.length;a++)if(o._howls[a]._webAudio){for(var g=0;g<o._howls[a]._sounds.length;g++)if(!o._howls[a]._sounds[g]._paused)return o}return o._suspendTimer&&clearTimeout(o._suspendTimer),o._suspendTimer=setTimeout(function(){if(o.autoSuspend){o._suspendTimer=null,o.state="suspending";var b=function(){o.state="suspended",o._resumeAfterSuspend&&(delete o._resumeAfterSuspend,o._autoResume())};o.ctx.suspend().then(b,b)}},3e4),o}},_autoResume:function(){var o=this;if(!(!o.ctx||typeof o.ctx.resume>"u"||!s.usingWebAudio))return o.state==="running"&&o.ctx.state!=="interrupted"&&o._suspendTimer?(clearTimeout(o._suspendTimer),o._suspendTimer=null):o.state==="suspended"||o.state==="running"&&o.ctx.state==="interrupted"?(o.ctx.resume().then(function(){o.state="running";for(var a=0;a<o._howls.length;a++)o._howls[a]._emit("resume")}),o._suspendTimer&&(clearTimeout(o._suspendTimer),o._suspendTimer=null)):o.state==="suspending"&&(o._resumeAfterSuspend=!0),o}};var s=new n,f=function(o){var a=this;if(!o.src||o.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}a.init(o)};f.prototype={init:function(o){var a=this;return s.ctx||y(),a._autoplay=o.autoplay||!1,a._format=typeof o.format!="string"?o.format:[o.format],a._html5=o.html5||!1,a._muted=o.mute||!1,a._loop=o.loop||!1,a._pool=o.pool||5,a._preload=typeof o.preload=="boolean"||o.preload==="metadata"?o.preload:!0,a._rate=o.rate||1,a._sprite=o.sprite||{},a._src=typeof o.src!="string"?o.src:[o.src],a._volume=o.volume!==void 0?o.volume:1,a._xhr={method:o.xhr&&o.xhr.method?o.xhr.method:"GET",headers:o.xhr&&o.xhr.headers?o.xhr.headers:null,withCredentials:o.xhr&&o.xhr.withCredentials?o.xhr.withCredentials:!1},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=o.onend?[{fn:o.onend}]:[],a._onfade=o.onfade?[{fn:o.onfade}]:[],a._onload=o.onload?[{fn:o.onload}]:[],a._onloaderror=o.onloaderror?[{fn:o.onloaderror}]:[],a._onplayerror=o.onplayerror?[{fn:o.onplayerror}]:[],a._onpause=o.onpause?[{fn:o.onpause}]:[],a._onplay=o.onplay?[{fn:o.onplay}]:[],a._onstop=o.onstop?[{fn:o.onstop}]:[],a._onmute=o.onmute?[{fn:o.onmute}]:[],a._onvolume=o.onvolume?[{fn:o.onvolume}]:[],a._onrate=o.onrate?[{fn:o.onrate}]:[],a._onseek=o.onseek?[{fn:o.onseek}]:[],a._onunlock=o.onunlock?[{fn:o.onunlock}]:[],a._onresume=[],a._webAudio=s.usingWebAudio&&!a._html5,typeof s.ctx<"u"&&s.ctx&&s.autoUnlock&&s._unlockAudio(),s._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var o=this,a=null;if(s.noAudio){o._emit("loaderror",null,"No audio support.");return}typeof o._src=="string"&&(o._src=[o._src]);for(var g=0;g<o._src.length;g++){var b,l;if(o._format&&o._format[g])b=o._format[g];else{if(l=o._src[g],typeof l!="string"){o._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}b=/^data:audio\/([^;,]+);/i.exec(l),b||(b=/\.([^.]+)$/.exec(l.split("?",1)[0])),b&&(b=b[1].toLowerCase())}if(b||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),b&&s.codecs(b)){a=o._src[g];break}}if(!a){o._emit("loaderror",null,"No codec support for selected audio sources.");return}return o._src=a,o._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(o._html5=!0,o._webAudio=!1),new x(o),o._webAudio&&F(o),o},play:function(o,a){var g=this,b=null;if(typeof o=="number")b=o,o=null;else{if(typeof o=="string"&&g._state==="loaded"&&!g._sprite[o])return null;if(typeof o>"u"&&(o="__default",!g._playLock)){for(var l=0,c=0;c<g._sounds.length;c++)g._sounds[c]._paused&&!g._sounds[c]._ended&&(l++,b=g._sounds[c]._id);l===1?o=null:b=null}}var u=b?g._soundById(b):g._inactiveSound();if(!u)return null;if(b&&!o&&(o=u._sprite||"__default"),g._state!=="loaded"){u._sprite=o,u._ended=!1;var i=u._id;return g._queue.push({event:"play",action:function(){g.play(i)}}),i}if(b&&!u._paused)return a||g._loadQueue("play"),u._id;g._webAudio&&s._autoResume();var d=Math.max(0,u._seek>0?u._seek:g._sprite[o][0]/1e3),p=Math.max(0,(g._sprite[o][0]+g._sprite[o][1])/1e3-d),v=p*1e3/Math.abs(u._rate),h=g._sprite[o][0]/1e3,w=(g._sprite[o][0]+g._sprite[o][1])/1e3;u._sprite=o,u._ended=!1;var _=function(){u._paused=!1,u._seek=d,u._start=h,u._stop=w,u._loop=!!(u._loop||g._sprite[o][2])};if(d>=w){g._ended(u);return}var E=u._node;if(g._webAudio){var R=function(){g._playLock=!1,_(),g._refreshBuffer(u);var A=u._muted||g._muted?0:u._volume;E.gain.setValueAtTime(A,s.ctx.currentTime),u._playStart=s.ctx.currentTime,typeof E.bufferSource.start>"u"?u._loop?E.bufferSource.noteGrainOn(0,d,86400):E.bufferSource.noteGrainOn(0,d,p):u._loop?E.bufferSource.start(0,d,86400):E.bufferSource.start(0,d,p),v!==1/0&&(g._endTimers[u._id]=setTimeout(g._ended.bind(g,u),v)),a||setTimeout(function(){g._emit("play",u._id),g._loadQueue()},0)};s.state==="running"&&s.ctx.state!=="interrupted"?R():(g._playLock=!0,g.once("resume",R),g._clearTimer(u._id))}else{var P=function(){E.currentTime=d,E.muted=u._muted||g._muted||s._muted||E.muted,E.volume=u._volume*s.volume(),E.playbackRate=u._rate;try{var A=E.play();if(A&&typeof Promise<"u"&&(A instanceof Promise||typeof A.then=="function")?(g._playLock=!0,_(),A.then(function(){g._playLock=!1,E._unlocked=!0,a?g._loadQueue():g._emit("play",u._id)}).catch(function(){g._playLock=!1,g._emit("playerror",u._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),u._ended=!0,u._paused=!0})):a||(g._playLock=!1,_(),g._emit("play",u._id)),E.playbackRate=u._rate,E.paused){g._emit("playerror",u._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}o!=="__default"||u._loop?g._endTimers[u._id]=setTimeout(g._ended.bind(g,u),v):(g._endTimers[u._id]=function(){g._ended(u),E.removeEventListener("ended",g._endTimers[u._id],!1)},E.addEventListener("ended",g._endTimers[u._id],!1))}catch(I){g._emit("playerror",u._id,I)}};E.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(E.src=g._src,E.load());var T=window&&window.ejecta||!E.readyState&&s._navigator.isCocoonJS;if(E.readyState>=3||T)P();else{g._playLock=!0,g._state="loading";var D=function(){g._state="loaded",P(),E.removeEventListener(s._canPlayEvent,D,!1)};E.addEventListener(s._canPlayEvent,D,!1),g._clearTimer(u._id)}}return u._id},pause:function(o){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(o)}}),a;for(var g=a._getSoundIds(o),b=0;b<g.length;b++){a._clearTimer(g[b]);var l=a._soundById(g[b]);if(l&&!l._paused&&(l._seek=a.seek(g[b]),l._rateSeek=0,l._paused=!0,a._stopFade(g[b]),l._node))if(a._webAudio){if(!l._node.bufferSource)continue;typeof l._node.bufferSource.stop>"u"?l._node.bufferSource.noteOff(0):l._node.bufferSource.stop(0),a._cleanBuffer(l._node)}else(!isNaN(l._node.duration)||l._node.duration===1/0)&&l._node.pause();arguments[1]||a._emit("pause",l?l._id:null)}return a},stop:function(o,a){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"stop",action:function(){g.stop(o)}}),g;for(var b=g._getSoundIds(o),l=0;l<b.length;l++){g._clearTimer(b[l]);var c=g._soundById(b[l]);c&&(c._seek=c._start||0,c._rateSeek=0,c._paused=!0,c._ended=!0,g._stopFade(b[l]),c._node&&(g._webAudio?c._node.bufferSource&&(typeof c._node.bufferSource.stop>"u"?c._node.bufferSource.noteOff(0):c._node.bufferSource.stop(0),g._cleanBuffer(c._node)):(!isNaN(c._node.duration)||c._node.duration===1/0)&&(c._node.currentTime=c._start||0,c._node.pause(),c._node.duration===1/0&&g._clearSound(c._node))),a||g._emit("stop",c._id))}return g},mute:function(o,a){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"mute",action:function(){g.mute(o,a)}}),g;if(typeof a>"u")if(typeof o=="boolean")g._muted=o;else return g._muted;for(var b=g._getSoundIds(a),l=0;l<b.length;l++){var c=g._soundById(b[l]);c&&(c._muted=o,c._interval&&g._stopFade(c._id),g._webAudio&&c._node?c._node.gain.setValueAtTime(o?0:c._volume,s.ctx.currentTime):c._node&&(c._node.muted=s._muted?!0:o),g._emit("mute",c._id))}return g},volume:function(){var o=this,a=arguments,g,b;if(a.length===0)return o._volume;if(a.length===1||a.length===2&&typeof a[1]>"u"){var l=o._getSoundIds(),c=l.indexOf(a[0]);c>=0?b=parseInt(a[0],10):g=parseFloat(a[0])}else a.length>=2&&(g=parseFloat(a[0]),b=parseInt(a[1],10));var u;if(typeof g<"u"&&g>=0&&g<=1){if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"volume",action:function(){o.volume.apply(o,a)}}),o;typeof b>"u"&&(o._volume=g),b=o._getSoundIds(b);for(var i=0;i<b.length;i++)u=o._soundById(b[i]),u&&(u._volume=g,a[2]||o._stopFade(b[i]),o._webAudio&&u._node&&!u._muted?u._node.gain.setValueAtTime(g,s.ctx.currentTime):u._node&&!u._muted&&(u._node.volume=g*s.volume()),o._emit("volume",u._id))}else return u=b?o._soundById(b):o._sounds[0],u?u._volume:0;return o},fade:function(o,a,g,b){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"fade",action:function(){l.fade(o,a,g,b)}}),l;o=Math.min(Math.max(0,parseFloat(o)),1),a=Math.min(Math.max(0,parseFloat(a)),1),g=parseFloat(g),l.volume(o,b);for(var c=l._getSoundIds(b),u=0;u<c.length;u++){var i=l._soundById(c[u]);if(i){if(b||l._stopFade(c[u]),l._webAudio&&!i._muted){var d=s.ctx.currentTime,p=d+g/1e3;i._volume=o,i._node.gain.setValueAtTime(o,d),i._node.gain.linearRampToValueAtTime(a,p)}l._startFadeInterval(i,o,a,g,c[u],typeof b>"u")}}return l},_startFadeInterval:function(o,a,g,b,l,c){var u=this,i=a,d=g-a,p=Math.abs(d/.01),v=Math.max(4,p>0?b/p:b),h=Date.now();o._fadeTo=g,o._interval=setInterval(function(){var w=(Date.now()-h)/b;h=Date.now(),i+=d*w,i=Math.round(i*100)/100,d<0?i=Math.max(g,i):i=Math.min(g,i),u._webAudio?o._volume=i:u.volume(i,o._id,!0),c&&(u._volume=i),(g<a&&i<=g||g>a&&i>=g)&&(clearInterval(o._interval),o._interval=null,o._fadeTo=null,u.volume(g,o._id),u._emit("fade",o._id))},v)},_stopFade:function(o){var a=this,g=a._soundById(o);return g&&g._interval&&(a._webAudio&&g._node.gain.cancelScheduledValues(s.ctx.currentTime),clearInterval(g._interval),g._interval=null,a.volume(g._fadeTo,o),g._fadeTo=null,a._emit("fade",o)),a},loop:function(){var o=this,a=arguments,g,b,l;if(a.length===0)return o._loop;if(a.length===1)if(typeof a[0]=="boolean")g=a[0],o._loop=g;else return l=o._soundById(parseInt(a[0],10)),l?l._loop:!1;else a.length===2&&(g=a[0],b=parseInt(a[1],10));for(var c=o._getSoundIds(b),u=0;u<c.length;u++)l=o._soundById(c[u]),l&&(l._loop=g,o._webAudio&&l._node&&l._node.bufferSource&&(l._node.bufferSource.loop=g,g&&(l._node.bufferSource.loopStart=l._start||0,l._node.bufferSource.loopEnd=l._stop,o.playing(c[u])&&(o.pause(c[u],!0),o.play(c[u],!0)))));return o},rate:function(){var o=this,a=arguments,g,b;if(a.length===0)b=o._sounds[0]._id;else if(a.length===1){var l=o._getSoundIds(),c=l.indexOf(a[0]);c>=0?b=parseInt(a[0],10):g=parseFloat(a[0])}else a.length===2&&(g=parseFloat(a[0]),b=parseInt(a[1],10));var u;if(typeof g=="number"){if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"rate",action:function(){o.rate.apply(o,a)}}),o;typeof b>"u"&&(o._rate=g),b=o._getSoundIds(b);for(var i=0;i<b.length;i++)if(u=o._soundById(b[i]),u){o.playing(b[i])&&(u._rateSeek=o.seek(b[i]),u._playStart=o._webAudio?s.ctx.currentTime:u._playStart),u._rate=g,o._webAudio&&u._node&&u._node.bufferSource?u._node.bufferSource.playbackRate.setValueAtTime(g,s.ctx.currentTime):u._node&&(u._node.playbackRate=g);var d=o.seek(b[i]),p=(o._sprite[u._sprite][0]+o._sprite[u._sprite][1])/1e3-d,v=p*1e3/Math.abs(u._rate);(o._endTimers[b[i]]||!u._paused)&&(o._clearTimer(b[i]),o._endTimers[b[i]]=setTimeout(o._ended.bind(o,u),v)),o._emit("rate",u._id)}}else return u=o._soundById(b),u?u._rate:o._rate;return o},seek:function(){var o=this,a=arguments,g,b;if(a.length===0)o._sounds.length&&(b=o._sounds[0]._id);else if(a.length===1){var l=o._getSoundIds(),c=l.indexOf(a[0]);c>=0?b=parseInt(a[0],10):o._sounds.length&&(b=o._sounds[0]._id,g=parseFloat(a[0]))}else a.length===2&&(g=parseFloat(a[0]),b=parseInt(a[1],10));if(typeof b>"u")return 0;if(typeof g=="number"&&(o._state!=="loaded"||o._playLock))return o._queue.push({event:"seek",action:function(){o.seek.apply(o,a)}}),o;var u=o._soundById(b);if(u)if(typeof g=="number"&&g>=0){var i=o.playing(b);i&&o.pause(b,!0),u._seek=g,u._ended=!1,o._clearTimer(b),!o._webAudio&&u._node&&!isNaN(u._node.duration)&&(u._node.currentTime=g);var d=function(){i&&o.play(b,!0),o._emit("seek",b)};if(i&&!o._webAudio){var p=function(){o._playLock?setTimeout(p,0):d()};setTimeout(p,0)}else d()}else if(o._webAudio){var v=o.playing(b)?s.ctx.currentTime-u._playStart:0,h=u._rateSeek?u._rateSeek-u._seek:0;return u._seek+(h+v*Math.abs(u._rate))}else return u._node.currentTime;return o},playing:function(o){var a=this;if(typeof o=="number"){var g=a._soundById(o);return g?!g._paused:!1}for(var b=0;b<a._sounds.length;b++)if(!a._sounds[b]._paused)return!0;return!1},duration:function(o){var a=this,g=a._duration,b=a._soundById(o);return b&&(g=a._sprite[b._sprite][1]/1e3),g},state:function(){return this._state},unload:function(){for(var o=this,a=o._sounds,g=0;g<a.length;g++)a[g]._paused||o.stop(a[g]._id),o._webAudio||(o._clearSound(a[g]._node),a[g]._node.removeEventListener("error",a[g]._errorFn,!1),a[g]._node.removeEventListener(s._canPlayEvent,a[g]._loadFn,!1),a[g]._node.removeEventListener("ended",a[g]._endFn,!1),s._releaseHtml5Audio(a[g]._node)),delete a[g]._node,o._clearTimer(a[g]._id);var b=s._howls.indexOf(o);b>=0&&s._howls.splice(b,1);var l=!0;for(g=0;g<s._howls.length;g++)if(s._howls[g]._src===o._src||o._src.indexOf(s._howls[g]._src)>=0){l=!1;break}return k&&l&&delete k[o._src],s.noAudio=!1,o._state="unloaded",o._sounds=[],o=null,null},on:function(o,a,g,b){var l=this,c=l["_on"+o];return typeof a=="function"&&c.push(b?{id:g,fn:a,once:b}:{id:g,fn:a}),l},off:function(o,a,g){var b=this,l=b["_on"+o],c=0;if(typeof a=="number"&&(g=a,a=null),a||g)for(c=0;c<l.length;c++){var u=g===l[c].id;if(a===l[c].fn&&u||!a&&u){l.splice(c,1);break}}else if(o)b["_on"+o]=[];else{var i=Object.keys(b);for(c=0;c<i.length;c++)i[c].indexOf("_on")===0&&Array.isArray(b[i[c]])&&(b[i[c]]=[])}return b},once:function(o,a,g){var b=this;return b.on(o,a,g,1),b},_emit:function(o,a,g){for(var b=this,l=b["_on"+o],c=l.length-1;c>=0;c--)(!l[c].id||l[c].id===a||o==="load")&&(setTimeout((function(u){u.call(this,a,g)}).bind(b,l[c].fn),0),l[c].once&&b.off(o,l[c].fn,l[c].id));return b._loadQueue(o),b},_loadQueue:function(o){var a=this;if(a._queue.length>0){var g=a._queue[0];g.event===o&&(a._queue.shift(),a._loadQueue()),o||g.action()}return a},_ended:function(o){var a=this,g=o._sprite;if(!a._webAudio&&o._node&&!o._node.paused&&!o._node.ended&&o._node.currentTime<o._stop)return setTimeout(a._ended.bind(a,o),100),a;var b=!!(o._loop||a._sprite[g][2]);if(a._emit("end",o._id),!a._webAudio&&b&&a.stop(o._id,!0).play(o._id),a._webAudio&&b){a._emit("play",o._id),o._seek=o._start||0,o._rateSeek=0,o._playStart=s.ctx.currentTime;var l=(o._stop-o._start)*1e3/Math.abs(o._rate);a._endTimers[o._id]=setTimeout(a._ended.bind(a,o),l)}return a._webAudio&&!b&&(o._paused=!0,o._ended=!0,o._seek=o._start||0,o._rateSeek=0,a._clearTimer(o._id),a._cleanBuffer(o._node),s._autoSuspend()),!a._webAudio&&!b&&a.stop(o._id,!0),a},_clearTimer:function(o){var a=this;if(a._endTimers[o]){if(typeof a._endTimers[o]!="function")clearTimeout(a._endTimers[o]);else{var g=a._soundById(o);g&&g._node&&g._node.removeEventListener("ended",a._endTimers[o],!1)}delete a._endTimers[o]}return a},_soundById:function(o){for(var a=this,g=0;g<a._sounds.length;g++)if(o===a._sounds[g]._id)return a._sounds[g];return null},_inactiveSound:function(){var o=this;o._drain();for(var a=0;a<o._sounds.length;a++)if(o._sounds[a]._ended)return o._sounds[a].reset();return new x(o)},_drain:function(){var o=this,a=o._pool,g=0,b=0;if(!(o._sounds.length<a)){for(b=0;b<o._sounds.length;b++)o._sounds[b]._ended&&g++;for(b=o._sounds.length-1;b>=0;b--){if(g<=a)return;o._sounds[b]._ended&&(o._webAudio&&o._sounds[b]._node&&o._sounds[b]._node.disconnect(0),o._sounds.splice(b,1),g--)}}},_getSoundIds:function(o){var a=this;if(typeof o>"u"){for(var g=[],b=0;b<a._sounds.length;b++)g.push(a._sounds[b]._id);return g}else return[o]},_refreshBuffer:function(o){var a=this;return o._node.bufferSource=s.ctx.createBufferSource(),o._node.bufferSource.buffer=k[a._src],o._panner?o._node.bufferSource.connect(o._panner):o._node.bufferSource.connect(o._node),o._node.bufferSource.loop=o._loop,o._loop&&(o._node.bufferSource.loopStart=o._start||0,o._node.bufferSource.loopEnd=o._stop||0),o._node.bufferSource.playbackRate.setValueAtTime(o._rate,s.ctx.currentTime),a},_cleanBuffer:function(o){var a=this,g=s._navigator&&s._navigator.vendor.indexOf("Apple")>=0;if(!o.bufferSource)return a;if(s._scratchBuffer&&o.bufferSource&&(o.bufferSource.onended=null,o.bufferSource.disconnect(0),g))try{o.bufferSource.buffer=s._scratchBuffer}catch{}return o.bufferSource=null,a},_clearSound:function(o){var a=/MSIE |Trident\//.test(s._navigator&&s._navigator.userAgent);a||(o.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var x=function(o){this._parent=o,this.init()};x.prototype={init:function(){var o=this,a=o._parent;return o._muted=a._muted,o._loop=a._loop,o._volume=a._volume,o._rate=a._rate,o._seek=0,o._paused=!0,o._ended=!0,o._sprite="__default",o._id=++s._counter,a._sounds.push(o),o.create(),o},create:function(){var o=this,a=o._parent,g=s._muted||o._muted||o._parent._muted?0:o._volume;return a._webAudio?(o._node=typeof s.ctx.createGain>"u"?s.ctx.createGainNode():s.ctx.createGain(),o._node.gain.setValueAtTime(g,s.ctx.currentTime),o._node.paused=!0,o._node.connect(s.masterGain)):s.noAudio||(o._node=s._obtainHtml5Audio(),o._errorFn=o._errorListener.bind(o),o._node.addEventListener("error",o._errorFn,!1),o._loadFn=o._loadListener.bind(o),o._node.addEventListener(s._canPlayEvent,o._loadFn,!1),o._endFn=o._endListener.bind(o),o._node.addEventListener("ended",o._endFn,!1),o._node.src=a._src,o._node.preload=a._preload===!0?"auto":a._preload,o._node.volume=g*s.volume(),o._node.load()),o},reset:function(){var o=this,a=o._parent;return o._muted=a._muted,o._loop=a._loop,o._volume=a._volume,o._rate=a._rate,o._seek=0,o._rateSeek=0,o._paused=!0,o._ended=!0,o._sprite="__default",o._id=++s._counter,o},_errorListener:function(){var o=this;o._parent._emit("loaderror",o._id,o._node.error?o._node.error.code:0),o._node.removeEventListener("error",o._errorFn,!1)},_loadListener:function(){var o=this,a=o._parent;a._duration=Math.ceil(o._node.duration*10)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),o._node.removeEventListener(s._canPlayEvent,o._loadFn,!1)},_endListener:function(){var o=this,a=o._parent;a._duration===1/0&&(a._duration=Math.ceil(o._node.duration*10)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=a._duration*1e3),a._ended(o)),o._node.removeEventListener("ended",o._endFn,!1)}};var k={},F=function(o){var a=o._src;if(k[a]){o._duration=k[a].duration,S(o);return}if(/^data:[^;]+;base64,/.test(a)){for(var g=atob(a.split(",")[1]),b=new Uint8Array(g.length),l=0;l<g.length;++l)b[l]=g.charCodeAt(l);C(b.buffer,o)}else{var c=new XMLHttpRequest;c.open(o._xhr.method,a,!0),c.withCredentials=o._xhr.withCredentials,c.responseType="arraybuffer",o._xhr.headers&&Object.keys(o._xhr.headers).forEach(function(u){c.setRequestHeader(u,o._xhr.headers[u])}),c.onload=function(){var u=(c.status+"")[0];if(u!=="0"&&u!=="2"&&u!=="3"){o._emit("loaderror",null,"Failed loading audio file with status: "+c.status+".");return}C(c.response,o)},c.onerror=function(){o._webAudio&&(o._html5=!0,o._webAudio=!1,o._sounds=[],delete k[a],o.load())},t(c)}},t=function(o){try{o.send()}catch{o.onerror()}},C=function(o,a){var g=function(){a._emit("loaderror",null,"Decoding audio data failed.")},b=function(l){l&&a._sounds.length>0?(k[a._src]=l,S(a,l)):g()};typeof Promise<"u"&&s.ctx.decodeAudioData.length===1?s.ctx.decodeAudioData(o).then(b).catch(g):s.ctx.decodeAudioData(o,b,g)},S=function(o,a){a&&!o._duration&&(o._duration=a.duration),Object.keys(o._sprite).length===0&&(o._sprite={__default:[0,o._duration*1e3]}),o._state!=="loaded"&&(o._state="loaded",o._emit("load"),o._loadQueue())},y=function(){if(s.usingWebAudio){try{typeof AudioContext<"u"?s.ctx=new AudioContext:typeof webkitAudioContext<"u"?s.ctx=new webkitAudioContext:s.usingWebAudio=!1}catch{s.usingWebAudio=!1}s.ctx||(s.usingWebAudio=!1);var o=/iP(hone|od|ad)/.test(s._navigator&&s._navigator.platform),a=s._navigator&&s._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),g=a?parseInt(a[1],10):null;if(o&&g&&g<9){var b=/safari/.test(s._navigator&&s._navigator.userAgent.toLowerCase());s._navigator&&!b&&(s.usingWebAudio=!1)}s.usingWebAudio&&(s.masterGain=typeof s.ctx.createGain>"u"?s.ctx.createGainNode():s.ctx.createGain(),s.masterGain.gain.setValueAtTime(s._muted?0:s._volume,s.ctx.currentTime),s.masterGain.connect(s.ctx.destination)),s._setup()}};r.Howler=s,r.Howl=f,typeof cs<"u"?(cs.HowlerGlobal=n,cs.Howler=s,cs.Howl=f,cs.Sound=x):typeof window<"u"&&(window.HowlerGlobal=n,window.Howler=s,window.Howl=f,window.Sound=x)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(s){var f=this;if(!f.ctx||!f.ctx.listener)return f;for(var x=f._howls.length-1;x>=0;x--)f._howls[x].stereo(s);return f},HowlerGlobal.prototype.pos=function(s,f,x){var k=this;if(!k.ctx||!k.ctx.listener)return k;if(f=typeof f!="number"?k._pos[1]:f,x=typeof x!="number"?k._pos[2]:x,typeof s=="number")k._pos=[s,f,x],typeof k.ctx.listener.positionX<"u"?(k.ctx.listener.positionX.setTargetAtTime(k._pos[0],Howler.ctx.currentTime,.1),k.ctx.listener.positionY.setTargetAtTime(k._pos[1],Howler.ctx.currentTime,.1),k.ctx.listener.positionZ.setTargetAtTime(k._pos[2],Howler.ctx.currentTime,.1)):k.ctx.listener.setPosition(k._pos[0],k._pos[1],k._pos[2]);else return k._pos;return k},HowlerGlobal.prototype.orientation=function(s,f,x,k,F,t){var C=this;if(!C.ctx||!C.ctx.listener)return C;var S=C._orientation;if(f=typeof f!="number"?S[1]:f,x=typeof x!="number"?S[2]:x,k=typeof k!="number"?S[3]:k,F=typeof F!="number"?S[4]:F,t=typeof t!="number"?S[5]:t,typeof s=="number")C._orientation=[s,f,x,k,F,t],typeof C.ctx.listener.forwardX<"u"?(C.ctx.listener.forwardX.setTargetAtTime(s,Howler.ctx.currentTime,.1),C.ctx.listener.forwardY.setTargetAtTime(f,Howler.ctx.currentTime,.1),C.ctx.listener.forwardZ.setTargetAtTime(x,Howler.ctx.currentTime,.1),C.ctx.listener.upX.setTargetAtTime(k,Howler.ctx.currentTime,.1),C.ctx.listener.upY.setTargetAtTime(F,Howler.ctx.currentTime,.1),C.ctx.listener.upZ.setTargetAtTime(t,Howler.ctx.currentTime,.1)):C.ctx.listener.setOrientation(s,f,x,k,F,t);else return S;return C},Howl.prototype.init=function(s){return function(f){var x=this;return x._orientation=f.orientation||[1,0,0],x._stereo=f.stereo||null,x._pos=f.pos||null,x._pannerAttr={coneInnerAngle:typeof f.coneInnerAngle<"u"?f.coneInnerAngle:360,coneOuterAngle:typeof f.coneOuterAngle<"u"?f.coneOuterAngle:360,coneOuterGain:typeof f.coneOuterGain<"u"?f.coneOuterGain:0,distanceModel:typeof f.distanceModel<"u"?f.distanceModel:"inverse",maxDistance:typeof f.maxDistance<"u"?f.maxDistance:1e4,panningModel:typeof f.panningModel<"u"?f.panningModel:"HRTF",refDistance:typeof f.refDistance<"u"?f.refDistance:1,rolloffFactor:typeof f.rolloffFactor<"u"?f.rolloffFactor:1},x._onstereo=f.onstereo?[{fn:f.onstereo}]:[],x._onpos=f.onpos?[{fn:f.onpos}]:[],x._onorientation=f.onorientation?[{fn:f.onorientation}]:[],s.call(this,f)}}(Howl.prototype.init),Howl.prototype.stereo=function(s,f){var x=this;if(!x._webAudio)return x;if(x._state!=="loaded")return x._queue.push({event:"stereo",action:function(){x.stereo(s,f)}}),x;var k=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof f>"u")if(typeof s=="number")x._stereo=s,x._pos=[s,0,0];else return x._stereo;for(var F=x._getSoundIds(f),t=0;t<F.length;t++){var C=x._soundById(F[t]);if(C)if(typeof s=="number")C._stereo=s,C._pos=[s,0,0],C._node&&(C._pannerAttr.panningModel="equalpower",(!C._panner||!C._panner.pan)&&n(C,k),k==="spatial"?typeof C._panner.positionX<"u"?(C._panner.positionX.setValueAtTime(s,Howler.ctx.currentTime),C._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),C._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):C._panner.setPosition(s,0,0):C._panner.pan.setValueAtTime(s,Howler.ctx.currentTime)),x._emit("stereo",C._id);else return C._stereo}return x},Howl.prototype.pos=function(s,f,x,k){var F=this;if(!F._webAudio)return F;if(F._state!=="loaded")return F._queue.push({event:"pos",action:function(){F.pos(s,f,x,k)}}),F;if(f=typeof f!="number"?0:f,x=typeof x!="number"?-.5:x,typeof k>"u")if(typeof s=="number")F._pos=[s,f,x];else return F._pos;for(var t=F._getSoundIds(k),C=0;C<t.length;C++){var S=F._soundById(t[C]);if(S)if(typeof s=="number")S._pos=[s,f,x],S._node&&((!S._panner||S._panner.pan)&&n(S,"spatial"),typeof S._panner.positionX<"u"?(S._panner.positionX.setValueAtTime(s,Howler.ctx.currentTime),S._panner.positionY.setValueAtTime(f,Howler.ctx.currentTime),S._panner.positionZ.setValueAtTime(x,Howler.ctx.currentTime)):S._panner.setPosition(s,f,x)),F._emit("pos",S._id);else return S._pos}return F},Howl.prototype.orientation=function(s,f,x,k){var F=this;if(!F._webAudio)return F;if(F._state!=="loaded")return F._queue.push({event:"orientation",action:function(){F.orientation(s,f,x,k)}}),F;if(f=typeof f!="number"?F._orientation[1]:f,x=typeof x!="number"?F._orientation[2]:x,typeof k>"u")if(typeof s=="number")F._orientation=[s,f,x];else return F._orientation;for(var t=F._getSoundIds(k),C=0;C<t.length;C++){var S=F._soundById(t[C]);if(S)if(typeof s=="number")S._orientation=[s,f,x],S._node&&(S._panner||(S._pos||(S._pos=F._pos||[0,0,-.5]),n(S,"spatial")),typeof S._panner.orientationX<"u"?(S._panner.orientationX.setValueAtTime(s,Howler.ctx.currentTime),S._panner.orientationY.setValueAtTime(f,Howler.ctx.currentTime),S._panner.orientationZ.setValueAtTime(x,Howler.ctx.currentTime)):S._panner.setOrientation(s,f,x)),F._emit("orientation",S._id);else return S._orientation}return F},Howl.prototype.pannerAttr=function(){var s=this,f=arguments,x,k,F;if(!s._webAudio)return s;if(f.length===0)return s._pannerAttr;if(f.length===1)if(typeof f[0]=="object")x=f[0],typeof k>"u"&&(x.pannerAttr||(x.pannerAttr={coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor,panningModel:x.panningModel}),s._pannerAttr={coneInnerAngle:typeof x.pannerAttr.coneInnerAngle<"u"?x.pannerAttr.coneInnerAngle:s._coneInnerAngle,coneOuterAngle:typeof x.pannerAttr.coneOuterAngle<"u"?x.pannerAttr.coneOuterAngle:s._coneOuterAngle,coneOuterGain:typeof x.pannerAttr.coneOuterGain<"u"?x.pannerAttr.coneOuterGain:s._coneOuterGain,distanceModel:typeof x.pannerAttr.distanceModel<"u"?x.pannerAttr.distanceModel:s._distanceModel,maxDistance:typeof x.pannerAttr.maxDistance<"u"?x.pannerAttr.maxDistance:s._maxDistance,refDistance:typeof x.pannerAttr.refDistance<"u"?x.pannerAttr.refDistance:s._refDistance,rolloffFactor:typeof x.pannerAttr.rolloffFactor<"u"?x.pannerAttr.rolloffFactor:s._rolloffFactor,panningModel:typeof x.pannerAttr.panningModel<"u"?x.pannerAttr.panningModel:s._panningModel});else return F=s._soundById(parseInt(f[0],10)),F?F._pannerAttr:s._pannerAttr;else f.length===2&&(x=f[0],k=parseInt(f[1],10));for(var t=s._getSoundIds(k),C=0;C<t.length;C++)if(F=s._soundById(t[C]),F){var S=F._pannerAttr;S={coneInnerAngle:typeof x.coneInnerAngle<"u"?x.coneInnerAngle:S.coneInnerAngle,coneOuterAngle:typeof x.coneOuterAngle<"u"?x.coneOuterAngle:S.coneOuterAngle,coneOuterGain:typeof x.coneOuterGain<"u"?x.coneOuterGain:S.coneOuterGain,distanceModel:typeof x.distanceModel<"u"?x.distanceModel:S.distanceModel,maxDistance:typeof x.maxDistance<"u"?x.maxDistance:S.maxDistance,refDistance:typeof x.refDistance<"u"?x.refDistance:S.refDistance,rolloffFactor:typeof x.rolloffFactor<"u"?x.rolloffFactor:S.rolloffFactor,panningModel:typeof x.panningModel<"u"?x.panningModel:S.panningModel};var y=F._panner;y||(F._pos||(F._pos=s._pos||[0,0,-.5]),n(F,"spatial"),y=F._panner),y.coneInnerAngle=S.coneInnerAngle,y.coneOuterAngle=S.coneOuterAngle,y.coneOuterGain=S.coneOuterGain,y.distanceModel=S.distanceModel,y.maxDistance=S.maxDistance,y.refDistance=S.refDistance,y.rolloffFactor=S.rolloffFactor,y.panningModel=S.panningModel}return s},Sound.prototype.init=function(s){return function(){var f=this,x=f._parent;f._orientation=x._orientation,f._stereo=x._stereo,f._pos=x._pos,f._pannerAttr=x._pannerAttr,s.call(this),f._stereo?x.stereo(f._stereo):f._pos&&x.pos(f._pos[0],f._pos[1],f._pos[2],f._id)}}(Sound.prototype.init),Sound.prototype.reset=function(s){return function(){var f=this,x=f._parent;return f._orientation=x._orientation,f._stereo=x._stereo,f._pos=x._pos,f._pannerAttr=x._pannerAttr,f._stereo?x.stereo(f._stereo):f._pos?x.pos(f._pos[0],f._pos[1],f._pos[2],f._id):f._panner&&(f._panner.disconnect(0),f._panner=void 0,x._refreshBuffer(f)),s.call(this)}}(Sound.prototype.reset);var n=function(s,f){f=f||"spatial",f==="spatial"?(s._panner=Howler.ctx.createPanner(),s._panner.coneInnerAngle=s._pannerAttr.coneInnerAngle,s._panner.coneOuterAngle=s._pannerAttr.coneOuterAngle,s._panner.coneOuterGain=s._pannerAttr.coneOuterGain,s._panner.distanceModel=s._pannerAttr.distanceModel,s._panner.maxDistance=s._pannerAttr.maxDistance,s._panner.refDistance=s._pannerAttr.refDistance,s._panner.rolloffFactor=s._pannerAttr.rolloffFactor,s._panner.panningModel=s._pannerAttr.panningModel,typeof s._panner.positionX<"u"?(s._panner.positionX.setValueAtTime(s._pos[0],Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(s._pos[1],Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(s._pos[2],Howler.ctx.currentTime)):s._panner.setPosition(s._pos[0],s._pos[1],s._pos[2]),typeof s._panner.orientationX<"u"?(s._panner.orientationX.setValueAtTime(s._orientation[0],Howler.ctx.currentTime),s._panner.orientationY.setValueAtTime(s._orientation[1],Howler.ctx.currentTime),s._panner.orientationZ.setValueAtTime(s._orientation[2],Howler.ctx.currentTime)):s._panner.setOrientation(s._orientation[0],s._orientation[1],s._orientation[2])):(s._panner=Howler.ctx.createStereoPanner(),s._panner.pan.setValueAtTime(s._stereo,Howler.ctx.currentTime)),s._panner.connect(s._node),s._paused||s._parent.pause(s._id,!0).play(s._id,!0)}})()})(lu);var L_=Object.defineProperty,D_=Object.getOwnPropertyDescriptor,I_=(r,n,s,f)=>{for(var x=f>1?void 0:f?D_(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&L_(n,s,x),x},Bs;class uu extends ni{constructor(){super(...arguments);ze(this,"gameState",null);ze(this,"localConfig",null);Bt(this,Bs,new Map)}loadGameEventSfxPlayer(s,f){this.gameState=s,this.localConfig=f}preSetup(){Object.entries(Yo).forEach(([,s])=>ft(this,Bs).set(s,new lu.Howl({src:[s],volume:this.localConfig.SoundVolume}))),this.gameState.Achievement.On(s=>{const f=ug(s);f&&f.forEach(x=>{var k;return(k=ft(this,Bs).get(x))==null?void 0:k.play()})}),this.gameState.Dead.On(()=>{var s;(s=ft(this,Bs).get(Yo.GameOver))==null||s.play()})}}Bs=new WeakMap;I_([Wr(on,sn)],uu.prototype,"loadGameEventSfxPlayer",1);var F_=Object.defineProperty,N_=Object.getOwnPropertyDescriptor,U_=(r,n,s,f)=>{for(var x=f>1?void 0:f?N_(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&F_(n,s,x),x},la;class cu extends ni{constructor(){super(...arguments);ze(this,"gameState",null);ze(this,"localConfig",null);Bt(this,la,new Map)}loadGameEventSfxPlayer(s,f){this.gameState=s,this.localConfig=f}preSetup(){Object.entries(As).forEach(([,s])=>ft(this,la).set(s,new lu.Howl({src:[s],volume:this.localConfig.SoundVolume}))),this.gameState.Achievement.On(s=>{var x;const f=f_(s);f&&((x=ft(this,la).get(f))==null||x.play())})}}la=new WeakMap;U_([Wr(on,sn)],cu.prototype,"loadGameEventSfxPlayer",1);var B_=Object.defineProperty,G_=Object.getOwnPropertyDescriptor,z_=(r,n,s,f)=>{for(var x=f>1?void 0:f?G_(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&B_(n,s,x),x},ua,ca;class Kd extends ni{constructor(){super(...arguments);ze(this,"game",null);ze(this,"player",null);ze(this,"localConfig",null);Bt(this,ua,new Map);Bt(this,ca,null)}loadPlayerSfxPlayer(s,f,x){this.game=s,this.player=f,this.localConfig=x}preSetup(){Object.entries(lg).forEach(([,s])=>ft(this,ua).set(s,new lu.Howl({src:[s],volume:this.localConfig.SoundVolume}))),this.game.Input.On(s=>{var k;if(s.Player!==this.player)return;const f=ft(this,ca);if(Et(this,ca,s??null),f&&s.Success===f.Success&&s.Input===f.Input)return;const x=ug(s);x&&((k=ft(this,ua).get(x))==null||k.play())})}}ua=new WeakMap,ca=new WeakMap;z_([Wr(va,ri,sn)],Kd.prototype,"loadPlayerSfxPlayer",1);var zo;const tf=class tf{constructor(n){ze(this,"Parent");Bt(this,zo,void 0);this.Parent=n||null,Et(this,zo,new Map)}Register(n,s){ft(this,zo).set(s??n.constructor,n)}Unregister(n){ft(this,zo).delete(n)}Resolve(n){const s=ft(this,zo).get(n);if(s)return s;if(this.Parent)return this.Parent.Resolve(n);throw new Error(`Cannot resolve ${n.name}`)}CreateChildContainer(){return new tf(this)}};zo=new WeakMap;let Ol=tf,V_=class extends To{constructor(){super(...arguments);ze(this,"dependencies",new Ol);ze(this,"children",[])}get Children(){return this.children}set Children(s){this.Clear(),s.forEach(f=>this.Add(f))}registerDependencies(s){}Load(s,f){this.loadInternal(s,f,()=>{this.dependencies=f.CreateChildContainer(),this.registerDependencies(this.dependencies),this.children.forEach(x=>x.Load(this,this.dependencies))})}Add(...s){this.children.push(...s),this.IsLoaded&&s.forEach(f=>f.Load(this,this.dependencies))}Remove(s){const f=this.children.indexOf(s);if(f>=0){const[x]=this.children.splice(f,1);x.Unload()}}Clear(){const s=this.children;this.children=[],s.forEach(f=>f.Unload())}WithChildren(...s){return this.Children=s,this}SetupSubTree(){super.SetupSubTree(),this.graphics.p5.push(),this.applyTransform(this.graphics),this.setup(this.graphics),this.children.forEach(s=>s.SetupSubTree()),this.graphics.p5.pop()}UpdateSubTree(){super.UpdateSubTree(),this.children.forEach(s=>s.UpdateSubTree())}DrawSubTree(){this.graphics.p5.push(),this.applyTransform(this.graphics),this.draw(this.graphics),this.children.forEach(s=>s.DrawSubTree()),this.graphics.p5.pop()}};var H_=Object.defineProperty,W_=Object.getOwnPropertyDescriptor,q_=(r,n,s,f)=>{for(var x=f>1?void 0:f?W_(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&H_(n,s,x),x},Gs;class Jd extends V_{constructor(s,f,x,k){super();ze(this,"Game");ze(this,"Player");ze(this,"GameState");ze(this,"InputHandler");ze(this,"AnimationManager");ze(this,"localConfig",null);Bt(this,Gs,0);this.Game=s,this.Player=f,this.GameState=x,this.Add(this.InputHandler=k,this.AnimationManager=new sa)}loadRenderer(s){this.localConfig=s,this.Width=s.Width,this.Height=s.Height}registerDependencies(s){s.Register(this.Game,va),s.Register(this.Player,ri),s.Register(this.GameState,on),s.Register(this.InputHandler,Zd),s.Register(this.AnimationManager,sa)}applyTransform(s){const{p5:f}=s;f.resetMatrix(),f.scale(1,-1),f.translate(0,-this.Height),super.applyTransform(s)}setup(s){const{p5:f}=s;f.noStroke(),f.textAlign(f.CENTER,f.CENTER),f.textSize(16),f.background(this.localConfig.BackgroundColor),f.textFont("Noto Sans Mono"),super.setup(s),Et(this,Gs,performance.now())}update(){const s=performance.now();console.log("render update"),this.Game.Tick(s-ft(this,Gs)),Et(this,Gs,s)}draw(s){const{p5:f}=s;f.background(this.localConfig.BackgroundColor),f.textFont("Noto Sans Mono"),super.draw(s)}}Gs=new WeakMap;q_([Wr(sn)],Jd.prototype,"loadRenderer",1);class cg extends Jd{constructor(n,s,f){super(n,s.player,s.state,f)}registerDependencies(n){super.registerDependencies(n),n.Register(this.Game,og),n.Register(this.GameState,Ml)}}var Y_=Object.defineProperty,X_=Object.getOwnPropertyDescriptor,$_=(r,n,s,f)=>{for(var x=f>1?void 0:f?X_(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&Y_(n,s,x),x};class dg extends cg{constructor(n,s){super(n,s,new Qd)}loadMultiplayerMainRenderer(){const n=this.localConfig.BlockSize;this.Add(new Kd,new cu,new uu,new ou().With(s=>{s.Offset=new ve(n*11,n*(this.GameState.PlayfieldHeight+1)),s.Scale=new ve(1,1)}),new au().With(s=>{s.Offset=new ve(n*6,0),s.Scale=new ve(1,1)}),new su().With(s=>{s.Offset=new ve(10,200),s.Scale=new ve(1,1)}),new iu().With(s=>{s.Offset=new ve(n*18,100),s.Scale=new ve(.7,.7)}),new $d().With(s=>{s.Offset=new ve(n*16.5,0),s.Scale=new ve(1,1)}),new Xd().With(s=>{s.Offset=new ve(0,this.Height-20),s.Scale=new ve(1,1)}))}}$_([Wr()],dg.prototype,"loadMultiplayerMainRenderer",1);class Z_ extends Zd{p5KeyPressed(n){}p5KeyReleased(n){}}var Q_=Object.defineProperty,K_=Object.getOwnPropertyDescriptor,J_=(r,n,s,f)=>{for(var x=f>1?void 0:f?K_(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&Q_(n,s,x),x};class fg extends cg{constructor(n,s){super(n,s,new Z_)}loadMultiplayerSpectatingRenderer(){const n=this.localConfig.BlockSize;this.Add(new cu,new uu,new ou().With(s=>{s.Offset=new ve(n*11,n*(this.GameState.PlayfieldHeight+1)),s.Scale=new ve(1,1)}),new au().With(s=>{s.Offset=new ve(n*6,0),s.Scale=new ve(1,1)}),new su().With(s=>{s.Offset=new ve(10,200),s.Scale=new ve(1,1)}),new iu().With(s=>{s.Offset=new ve(n*18,100),s.Scale=new ve(.7,.7)}),new $d().With(s=>{s.Offset=new ve(n*16.5,0),s.Scale=new ve(1,1)}),new Xd().With(s=>{s.Offset=new ve(0,this.Height-20),s.Scale=new ve(1,1)}))}}J_([Wr()],fg.prototype,"loadMultiplayerSpectatingRenderer",1);var Vo;class ew extends eg{constructor(s){super();ze(this,"ActionDelay");Bt(this,Vo,void 0);this.ActionDelay=s,Et(this,Vo,0)}CanInputThisFrame(s){return s.TicksElapsed-ft(this,Vo)>=this.ActionDelay}Tick(s){if(s.TicksElapsed-ft(this,Vo)>=this.ActionDelay){const x=super.Tick(s);return x!==vt.None&&Et(this,Vo,s.TicksElapsed),x}return vt.None}}Vo=new WeakMap;class hg extends ri{constructor(s){super(new ew(s.ActionDelay));ze(this,"Configuration");this.Configuration=s}}class tw{constructor(n){ze(this,"Map",[]);for(let s=0;s<n.GridWidth;s++){const f=n.Grid.map(k=>k[s]);f[-1]=xt.I;let x=f.length-1;for(;f[x]===xt.None;)x--;this.Map.push(x+1)}}FindPattern(...n){const s=[];for(let f=0;f<this.Map.length-n.length+1;f++){let x=!0;for(let k=0;k<n.length-1;k++)this.Map[f+k+1]-this.Map[f+k]!==n[k+1]-n[k]&&(x=!1);x&&s.push(f)}return s}}var ao;class rw extends hg{constructor(){super(...arguments);Bt(this,ao,null)}processTick(s,f){const x=s.Falling;if(x===null&&Et(this,ao,null),ft(this,ao)===null&&x!==null||ft(this,ao)!==null&&x!==null&&ft(this,ao).PieceIndex!==x.PieceIndex){Et(this,ao,x);const k=new tw(s),F=a=>{const g=a.map(c=>c.X).min(),b=a.map(c=>c.X).max(),l=[];for(let c=g;c<=b;c++)l.push(a.filter(u=>u.X===c).map(u=>u.Y).min());return l};let t=Math.floor(Math.random()*s.GridWidth),C=Math.floor(Math.random()*4);const S=[],y=new on(s);for(let a=0;a<tn[x.Type].rotations.length;a++){const g=tn[x.Type].rotations[a].map(b=>b.X).min();for(let b=-g;b<s.GridWidth-g;b++){const l=x.Clone();l.Position.X=b,l.Rotation=a,y.HardDropPiece(l),S.push({rot:a,col:b,top:l.Top,isMatch:!1})}}tn[x.Type].rotations.flatMap((a,g)=>k.FindPattern(...F(a.slice())).forEach(b=>{const l=S.find(c=>c.rot===g&&c.col===b-tn[x.Type].rotations[g].map(u=>u.X).min());l&&(l.isMatch=!0)}));const o=S.filter(a=>a.isMatch===!0);if(o.length===0&&!s.BlockHold)f.AddInput(vt.Hold);else{let a;o.length>0?a=o.minBy(g=>g.top):a=S.minBy(g=>g.top),C=a.rot,t=a.col;for(let g=0;g<C;g++)f.AddInput(vt.RotateCW);if(t>x.Position.X)for(let g=0;g<t-x.Position.X;g++)f.AddInput(vt.ShiftRight);else if(t<x.Position.X)for(let g=0;g<x.Position.X-t;g++)f.AddInput(vt.ShiftLeft);f.AddInput(vt.HardDrop)}}}}ao=new WeakMap;var zs;const Dl=class Dl{constructor(n,s,f){ze(this,"Rotation");ze(this,"Column");ze(this,"HighestRow",0);ze(this,"HeightMap",[]);ze(this,"EnclosedHoles",0);ze(this,"OpenHoles",0);ze(this,"BlocksAboveHoles",0);ze(this,"IWells",[]);ze(this,"IsDead",!1);ze(this,"HoldPiece",xt.None);ze(this,"Achievement",null);ze(this,"RatingFunction");Bt(this,zs,null);this.Rotation=n,this.Column=s,this.RatingFunction=f}get GlobalHighestRow(){return this.HeightMap.max()}get Bumpiness(){return this.HeightMap.reduce((n,s,f)=>n+(f===0?0:Math.abs(s-this.HeightMap[f-1])),0)}get Rating(){if(ft(this,zs))return ft(this,zs);const n=this.RatingFunction(this);return Et(this,zs,n),n}};zs=new WeakMap,ze(Dl,"Never",new Dl(0,0,()=>Number.MIN_VALUE));let Rl=Dl;function Ti(r,n,s,f){s[n][r]===xt.None&&!f[n][r]&&(f[n][r]=!0,r>0&&Ti(r-1,n,s,f),r<s[0].length-1&&Ti(r+1,n,s,f),n>0&&Ti(r,n-1,s,f),n<s.length-1&&Ti(r,n+1,s,f))}var lo;class ef extends hg{constructor(){super(...arguments);Bt(this,lo,null)}getChoice(s,f){var k;const x=[];for(let F=0;F<tn[f.Type].rotations.length;F++){const t=tn[f.Type].rotations[F].map(S=>S.X).min(),C=tn[f.Type].rotations[F].map(S=>S.X).max();for(let S=-t;S<s.GridWidth-C;S++){const y=new Rl(F,S,this.rateChoice),o=new on(s);o.Achievement.Once(l=>{y.Achievement=l});const a=f.Clone();o.Falling=a,a.Position.X=S,a.Rotation=F,o.HardDropPiece(),y.HighestRow=a.Top;const g=new Array(o.GridHeight).fill(null).map(l=>new Array(o.GridWidth).fill(!1));for(let l=0;l<o.GridWidth;l++)Ti(l,o.GridHeight-1,o.Grid,g);y.EnclosedHoles=0,o.Grid.forEach((l,c)=>{l.forEach((u,i)=>{u===xt.None&&!g[c][i]&&y.EnclosedHoles++})});const b=[];for(let l=0;l<o.GridWidth;l++){let c=o.GridHeight-1;for(;c>=0&&o.Grid[c][l]===xt.None;)c--;b.push(c+1)}y.HeightMap=b,y.OpenHoles=0,o.Grid.forEach((l,c)=>{l.forEach((u,i)=>{u===xt.None&&g[c][i]&&c<b[i]&&y.OpenHoles++})}),y.BlocksAboveHoles=0;for(let l=0;l<o.GridWidth;l++){let c=0,u=!1;for(;c<o.GridHeight;)o.Grid[c][l]===xt.None?u=!0:u&&y.BlocksAboveHoles++,c++}y.IWells=[];for(let l=0;l<o.GridWidth;l++){const c=[];l>0&&c.push(b[l-1]-b[l]),l<o.GridWidth-1&&c.push(b[l+1]-b[l]),y.IWells.push(Math.max(0,Math.min(...c)))}y.IsDead=o.IsDead,y.HoldPiece=((k=o.Hold)==null?void 0:k.Type)??xt.None,x.push(y)}}return x.sort((F,t)=>t.Rating-F.Rating),x[0]}processTick(s,f){const x=s.Falling;if(x===null&&Et(this,lo,null),ft(this,lo)===null&&x!==null||ft(this,lo)!==null&&x!==null&&ft(this,lo).PieceIndex!==x.PieceIndex){Et(this,lo,x);const k=this.getChoice(s,x);let F=Rl.Never;const t=new on(s);if(t.HoldPiece(),t.Falling&&(F=this.getChoice(t.GetVisibleState(),t.Falling)),F.Rating>k.Rating)f.AddInput(vt.Hold);else{const C=k.Column,S=k.Rotation;if(S===1?f.AddInput(vt.RotateCW):S===3?f.AddInput(vt.RotateCCW):S===2&&(f.AddInput(vt.RotateCW),f.AddInput(vt.RotateCW)),C>x.Position.X)for(let y=0;y<C-x.Position.X;y++)f.AddInput(vt.ShiftRight);else if(C<x.Position.X)for(let y=0;y<x.Position.X-C;y++)f.AddInput(vt.ShiftLeft);f.AddInput(vt.HardDrop)}}}}lo=new WeakMap;class nw extends ef{rateChoice(n){let s=0;return s-=n.GlobalHighestRow,s-=n.HighestRow*4,s-=n.EnclosedHoles*10,s-=n.OpenHoles*10,s-=n.BlocksAboveHoles,s-=n.IWells.filter(f=>f>=3).sum(),s-=n.Bumpiness,n.Achievement&&(s+=n.Achievement.Combo*10),s+=n.HoldPiece===xt.I?10:0,n.IsDead&&(s=Number.MIN_VALUE),s}}class ow extends ef{rateChoice(n){var x;let s=0;s-=n.GlobalHighestRow*2,s-=n.HighestRow*4,s-=n.EnclosedHoles*20,s-=n.OpenHoles*20,s-=n.BlocksAboveHoles;const f=n.IWells.filter(k=>k>=3);return f.length>0&&(s-=f.sum()-f.max()),s-=n.Bumpiness,n.Achievement&&(n.Achievement.Type===Yr.LineClear?n.Achievement.LinesCleared.length===4?s+=n.Achievement.Rating*20:s-=(4-n.Achievement.LinesCleared.length)*20:s+=(((x=n.Achievement)==null?void 0:x.Rating)??0)*5),s+=n.HoldPiece===xt.I?10:0,n.IsDead&&(s=Number.MIN_VALUE),s}}class sw extends ef{rateChoice(n){var f;let s=0;return s-=n.GlobalHighestRow,s-=n.HighestRow,s-=n.EnclosedHoles,s-=n.OpenHoles,s-=n.BlocksAboveHoles,s-=n.IWells.sum(),s+=(((f=n.Achievement)==null?void 0:f.Rating)??0)*10,s-=n.Bumpiness,s+=n.HoldPiece===xt.I?10:0,n.IsDead&&(s=Number.MIN_VALUE),s}}class Yc{constructor(n,s){ze(this,"Renderer");ze(this,"LocalConfig");ze(this,"dependencies",new Ol);ze(this,"graphics",null);this.Renderer=n,this.LocalConfig=s}p5Setup(n,s){n.createCanvas(this.LocalConfig.Width,this.LocalConfig.Height).parent(s),this.LocalConfig.Framerate&&n.frameRate(this.LocalConfig.Framerate),this.graphics=new ig(n),this.dependencies.Register(this.graphics),this.dependencies.Register(this.LocalConfig),this.Renderer.Load(null,this.dependencies),this.Renderer.SetupSubTree()}p5Draw(n){if(this.graphics===null)throw new Error("Render Host graphics is null. Pleasee run setup before draw.");this.graphics.p5=n,this.Renderer.UpdateSubTree(),this.Renderer.DrawSubTree()}get SetupHandler(){return this.p5Setup.bind(this)}get DrawHandler(){return this.p5Draw.bind(this)}get KeyPressedHandler(){return this.Renderer.InputHandler.KeyPressedHandler}get KeyReleasedHandler(){return this.Renderer.InputHandler.KeyReleasedHandler}}class pg{constructor(n={}){ze(this,"GridWidth",10);ze(this,"GridHeight",40);ze(this,"PlayfieldHeight",20);ze(this,"TickRate",60);ze(this,"LockDelay",60);ze(this,"DropInterval",50);ze(this,"QueueLength",0);ze(this,"GarbageDelay",4*60);this.UpdateConfig(n)}UpdateConfig(n){this.GridWidth=n.gridWidth??this.GridWidth,this.GridHeight=n.gridHeight??this.GridHeight,this.PlayfieldHeight=n.playfieldHeight??this.PlayfieldHeight,this.TickRate=n.tickRate??this.TickRate,this.LockDelay=n.lockDelay??this.LockDelay,this.DropInterval=n.dropInterval??this.DropInterval,this.QueueLength=n.queueLength??this.QueueLength,this.GarbageDelay=n.garbageDelay??this.GarbageDelay}Serialize(){return{gridWidth:this.GridWidth,gridHeight:this.GridHeight,playfieldHeight:this.PlayfieldHeight,tickRate:this.TickRate,lockDelay:this.LockDelay,dropInterval:this.DropInterval,queueLength:this.QueueLength,garbageDelay:this.GarbageDelay}}}class iw{constructor(n={}){ze(this,"ActionDelay",15);this.UpdateConfig(n)}UpdateConfig(n){this.ActionDelay=n.actionDelay??this.ActionDelay}Serialize(){return{actionDelay:this.ActionDelay}}}function aw(){const[r,n]=Ke.useState(),[s,f]=Ke.useState(),x=Ky({rounds:0,wins:null});return Ke.useEffect(()=>{x.rounds++;const k=Math.floor(Math.random()*2**32),F=new tg,t=[],C=new iw;t.push(new nw(C)),t.push(new ow(C)),t.push(new sw(C)),t.push(new rw(C));const S=new a_(new pg,[{player:F,seed:k},...t.map(a=>({player:a,seed:k}))]),y=new Yc(new dg(S,S.Participants[0]),new sn),o=[];return S.Participants.slice(1).forEach(a=>o.push(new Yc(new fg(S,a).With(g=>{g.Scale=new ve(.5,.5)}),new sn({soundVolume:.1,width:y.LocalConfig.Width/2,height:y.LocalConfig.Height/2})))),n(y),f(o),S.GameEnded.Once(()=>{setTimeout(()=>{var g;let a=(g=x.wins)==null?void 0:g.slice();a||(a=new Array(S.Participants.length).fill(0)),a[S.Participants.findIndex(b=>!b.state.IsDead)]++,x.wins=a},1e3)}),S.StartGame(),()=>{n(void 0),f(void 0)}},[x.wins]),ds("div",{className:"min-h-screen w-screen relative",style:{backgroundColor:s==null?void 0:s[0].LocalConfig.BackgroundColor},children:[ds("p",{className:"absolute top-4 left-4 z-10 text-6xl text-green-500",children:["Round ",x.rounds]}),ds("div",{className:"absolute top-0 left-0 right-0 bottom-0 flex justify-center items-center",children:[r?ds("div",{className:"text-center",children:[xr(Hc,{setup:r.SetupHandler,draw:r.DrawHandler,keyPressed:r.KeyPressedHandler,keyReleased:r.KeyReleasedHandler}),xr("p",{className:"mb-0 text-lg text-white",children:x.wins?`${x.wins[0]} wins`:null})]},`${x.rounds}-0`):null,xr("div",{className:"flex justify-center items-center flex-wrap flex-shrink",children:s==null?void 0:s.map((k,F)=>ds("div",{className:"text-center",children:[xr(Hc,{setup:k.SetupHandler,draw:k.DrawHandler,keyPressed:k.KeyPressedHandler,keyReleased:k.KeyReleasedHandler}),xr("p",{className:"mb-0 text-lg text-white",children:x.wins?`${x.wins[F+1]} wins`:null})]},`${x.rounds}-${F+1}`))})]})]})}var Il,Vs,Hs;class lw extends va{constructor(s,f,x=void 0){super(s);ze(this,"State");ze(this,"Player");Bt(this,Il,void 0);Bt(this,Vs,void 0);Bt(this,Hs,0);Et(this,Il,null),this.Player=f,x instanceof on?this.State=x:this.State=new on(this.Configuration,x),Et(this,Vs,new na)}get Input(){return ft(this,Vs)}Tick(s){if(Et(this,Hs,ft(this,Hs)+s),ft(this,Hs)<1e3/this.Configuration.TickRate||(Et(this,Hs,ft(this,Hs)%(1e3/this.Configuration.TickRate)),!this.GameRunning)||this.State.IsDead)return;this.State.Tick();const f=this.Player.Tick(this.State.GetVisibleState()),x=this.State.Falling;let k=!1;switch(f){case vt.HardDrop:k=this.State.HardDropPiece();break;case vt.Hold:k=this.State.HoldPiece();break;case vt.RotateCW:k=this.State.RotatePiece(xo.CW);break;case vt.RotateCCW:k=this.State.RotatePiece(xo.CCW);break;case vt.ShiftLeft:k=this.State.ShiftPiece(-1);break;case vt.ShiftRight:k=this.State.ShiftPiece(1);break;case vt.SoftDrop:k=this.State.SoftDropPiece(!1);break}f!==vt.None&&ft(this,Vs).Emit(new ga(this.State.TicksElapsed,f,k,x,this.Player))}}Il=new WeakMap,Vs=new WeakMap,Hs=new WeakMap;var uw=Object.defineProperty,cw=Object.getOwnPropertyDescriptor,dw=(r,n,s,f)=>{for(var x=f>1?void 0:f?cw(n,s):n,k=r.length-1,F;k>=0;k--)(F=r[k])&&(x=(f?F(n,s,x):F(x))||x);return f&&x&&uw(n,s,x),x};class mg extends Jd{constructor(n){super(n,n.Player,n.State,new Qd)}loadSingleplayerRenderer(){const n=this.localConfig.BlockSize;this.Add(new Kd,new cu,new uu,new ou().With(s=>{s.Offset=new ve(n*11,n*(this.GameState.PlayfieldHeight+1)),s.Scale=new ve(1,1)}),new au().With(s=>{s.Offset=new ve(n*6,0),s.Scale=new ve(1,1)}),new su().With(s=>{s.Offset=new ve(10,200),s.Scale=new ve(1,1)}),new iu().With(s=>{s.Offset=new ve(n*17,100),s.Scale=new ve(.7,.7)}),new Xd().With(s=>{s.Offset=new ve(0,this.Height-20),s.Scale=new ve(1,1)}))}}dw([Wr()],mg.prototype,"loadSingleplayerRenderer",1);function fw(){const[,r]=Ke.useState(),[,n]=Ke.useState(),[s,f]=Ke.useState();return Ke.useEffect(()=>{const x=new tg,k=new lw(new pg,x),F=new Yc(new mg(k),new sn);r(x),n(k),f(F),k.StartGame()},[]),s?xr("div",{className:"min-h-screen w-screen flex justify-center items-center",style:{backgroundColor:s.LocalConfig.BackgroundColor},children:xr(Hc,{setup:s.SetupHandler,draw:s.DrawHandler,keyPressed:s.KeyPressedHandler,keyReleased:s.KeyReleasedHandler})}):xr("p",{children:"Loading"})}const hw=Fb([{path:"/",element:xr(Jb,{}),errorElement:xr(Kb,{})},{path:"/solo",element:xr(fw,{})},{path:"/multi/local",element:xr(aw,{})}]);function pw(){return xr(qb,{router:hw})}const _p=document.getElementById("app");_p?Dy(_p).render(xr(pw,{})):console.error("React initialization failed, root container not found");
