(self.webpackChunktetris_ai=self.webpackChunktetris_ai||[]).push([[826],{497:(t,e,n)=>{"use strict";var r=n(294),o=n(935),i=n(727),u=n(977);const c=function(t){return r.createElement("p",null,"Not found")};const a=function(){return r.createElement("div",{className:"flex flex-col justify-center items-center select-none min-h-screen bg-gradient-to-br from-gray-900  to-blue-700"},r.createElement("h1",{className:"text-6xl text-green-500 border-b-4 pb-4"},"Hello World !"),r.createElement("h2",{className:"text-2xl text-gray-300 mt-10"},"Click"," ",r.createElement(i.rU,{to:"/test",className:"text-green-400 underline"},"here")," ","to play pre-alpha Tetris"))};const l=function(t){return r.createElement(a,null)};var f;!function(t){t[t.None=0]="None",t[t.SoftDrop=1]="SoftDrop",t[t.HardDrop=2]="HardDrop",t[t.Hold=3]="Hold",t[t.ShiftLeft=4]="ShiftLeft",t[t.ShiftRight=5]="ShiftRight",t[t.RotateCW=6]="RotateCW",t[t.RotateCCW=7]="RotateCCW"}(f||(f={}));const s=f;function p(t){return t===f.RotateCCW||t===f.RotateCW}var h=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Input=e,this.Success=n};function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var w,v,b,d,g,m,k,O,P,S,R,T,j,C,_,E,A=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.X=e,this.Y=n}var e,n,r;return e=t,(n=[{key:"Add",value:function(e){return new t(this.X+e.X,this.Y+e.Y)}},{key:"Subtract",value:function(e){return new t(this.X-e.X,this.Y-e.Y)}},{key:"Clone",value:function(){return new t(this.X,this.Y)}}])&&y(e.prototype,n),r&&y(e,r),t}();function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.None=0]="None",t[t.I=1]="I",t[t.J=2]="J",t[t.L=3]="L",t[t.O=4]="O",t[t.S=5]="S",t[t.T=6]="T",t[t.Z=7]="Z"}(C||(C={})),function(t){t[t.R0=0]="R0",t[t.R90=1]="R90",t[t.R180=2]="R180",t[t.R270=3]="R270"}(_||(_={})),function(t){t[t.CW=1]="CW",t[t.CCW=-1]="CCW"}(E||(E={}));var H=Object.freeze([(w={},x(w,-1,[new A(0,0),new A(1,0),new A(1,1),new A(0,-2),new A(1,-2)]),x(w,1,[new A(0,0),new A(-1,0),new A(-1,1),new A(0,-2),new A(-1,-2)]),w),(v={},x(v,-1,[new A(0,0),new A(1,0),new A(1,-1),new A(0,2),new A(1,2)]),x(v,1,[new A(0,0),new A(1,0),new A(1,-1),new A(0,2),new A(1,2)]),v),(b={},x(b,-1,[new A(0,0),new A(-1,0),new A(-1,1),new A(0,-2),new A(-1,-2)]),x(b,1,[new A(0,0),new A(1,0),new A(1,1),new A(0,-2),new A(1,-2)]),b),(d={},x(d,-1,[new A(0,0),new A(-1,0),new A(-1,-1),new A(0,2),new A(-1,2)]),x(d,1,[new A(0,0),new A(-1,0),new A(-1,-1),new A(0,2),new A(-1,2)]),d)]),W=Object.freeze([(g={},x(g,-1,[new A(0,0),new A(-1,0),new A(2,0),new A(-1,2),new A(2,-1)]),x(g,1,[new A(0,0),new A(-2,0),new A(1,0),new A(-2,-1),new A(1,2)]),g),(m={},x(m,-1,[new A(0,0),new A(2,0),new A(-1,0),new A(2,1),new A(-1,-2)]),x(m,1,[new A(0,0),new A(-1,0),new A(2,0),new A(-1,2),new A(2,-1)]),m),(k={},x(k,-1,[new A(0,0),new A(1,0),new A(-2,0),new A(1,-2),new A(-2,1)]),x(k,1,[new A(0,0),new A(2,0),new A(-1,0),new A(2,1),new A(-1,-2)]),k),(O={},x(O,-1,[new A(0,0),new A(-2,0),new A(1,0),new A(-2,-1),new A(1,2)]),x(O,1,[new A(0,0),new A(1,0),new A(-2,0),new A(1,-2),new A(-2,1)]),O)]),D=Object.freeze([(P={},x(P,-1,[new A(0,0)]),x(P,1,[new A(0,0)]),P),(S={},x(S,-1,[new A(0,0)]),x(S,1,[new A(0,0)]),S),(R={},x(R,-1,[new A(0,0)]),x(R,1,[new A(0,0)]),R),(T={},x(T,-1,[new A(0,0)]),x(T,1,[new A(0,0)]),T)]),F=Object.freeze((x(j={},C.None,{Rotations:[[]],WallKick:D}),x(j,C.I,{Rotations:[[new A(0,2),new A(1,2),new A(2,2),new A(3,2)],[new A(2,0),new A(2,1),new A(2,2),new A(2,3)],[new A(0,1),new A(1,1),new A(2,1),new A(3,1)],[new A(1,0),new A(1,1),new A(1,2),new A(1,3)]],WallKick:W}),x(j,C.J,{Rotations:[[new A(0,2),new A(0,1),new A(1,1),new A(2,1)],[new A(2,2),new A(1,2),new A(1,1),new A(1,0)],[new A(0,1),new A(1,1),new A(2,1),new A(2,0)],[new A(0,0),new A(1,0),new A(1,1),new A(1,2)]],WallKick:H}),x(j,C.L,{Rotations:[[new A(0,1),new A(1,1),new A(2,1),new A(2,2)],[new A(1,2),new A(1,1),new A(1,0),new A(2,0)],[new A(0,0),new A(0,1),new A(1,1),new A(2,1)],[new A(0,2),new A(1,2),new A(1,1),new A(1,0)]],WallKick:H}),x(j,C.O,{Rotations:[[new A(0,0),new A(0,1),new A(1,0),new A(1,1)]],WallKick:D}),x(j,C.S,{Rotations:[[new A(0,1),new A(1,1),new A(1,2),new A(2,2)],[new A(1,2),new A(1,1),new A(2,1),new A(2,0)],[new A(0,0),new A(1,0),new A(1,1),new A(2,1)],[new A(0,2),new A(0,1),new A(1,1),new A(1,0)]],WallKick:H}),x(j,C.T,{Rotations:[[new A(0,1),new A(1,1),new A(1,2),new A(2,1)],[new A(1,2),new A(1,1),new A(2,1),new A(1,0)],[new A(0,1),new A(1,0),new A(1,1),new A(2,1)],[new A(1,2),new A(0,1),new A(1,1),new A(1,0)]],WallKick:H}),x(j,C.Z,{Rotations:[[new A(0,2),new A(1,1),new A(1,2),new A(2,1)],[new A(2,2),new A(1,1),new A(2,1),new A(1,0)],[new A(0,1),new A(1,0),new A(1,1),new A(2,0)],[new A(1,2),new A(0,1),new A(1,1),new A(0,0)]],WallKick:H}),j));const I=F;Array.prototype.max||Object.defineProperty(Array.prototype,"max",{enumerable:!1,writable:!1,configurable:!1,value:function(){for(var t=this.length,e=this[0];t--;)this[t]>e&&(e=this[t]);return e}}),Array.prototype.maxBy||Object.defineProperty(Array.prototype,"maxBy",{enumerable:!1,writable:!1,configurable:!1,value:function(t){for(var e=this.length,n=t(this[0]),r=this[0];e--;){var o=t(this[e]);o>n&&(n=o,r=this[e])}return r}}),Array.prototype.min||Object.defineProperty(Array.prototype,"min",{enumerable:!1,writable:!1,configurable:!1,value:function(){for(var t=this.length,e=this[0];t--;)this[t]<e&&(e=this[t]);return e}}),Array.prototype.minBy||Object.defineProperty(Array.prototype,"minBy",{enumerable:!1,writable:!1,configurable:!1,value:function(t){for(var e=this.length,n=t(this[0]),r=this[0];e--;){var o=t(this[e]);o<n&&(n=o,r=this[e])}return r}});const B=function(t){return function(){var e=t+=1831565813;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296}};function L(t){return function(t){if(Array.isArray(t))return N(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,K(t,e,"get"))}function X(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,K(t,e,"set"),n),n}function K(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var z=new WeakMap,Q=new WeakMap,U=new WeakMap,V=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(G(this,t),z.set(this,{writable:!0,value:void 0}),Q.set(this,{writable:!0,value:void 0}),U.set(this,{writable:!0,value:void 0}),n instanceof Array)return X(this,Q,null),X(this,U,new Array(r+n.length).fill(C.None)),(e=Y(this,U)).splice.apply(e,[r,n.length].concat(L(n))),void X(this,z,null);X(this,Q,void 0===n?Math.floor(Math.random()*Math.pow(2,32)):n),X(this,z,B(Y(this,Q))),X(this,U,[])}var e,n,r;return e=t,(n=[{key:"Seed",get:function(){return Y(this,Q)}},{key:"generate",value:function(){if(null!==Y(this,Q)&&null!==Y(this,z))for(var t=[C.I,C.J,C.L,C.O,C.S,C.T,C.Z];t.length>0;){var e=Y(this,z).call(this)%t.length;Y(this,U).push(t.splice(e,1)[0])}else Y(this,U).push(C.None)}},{key:"Get",value:function(t){for(;Y(this,U).length<=t;)this.generate();return Y(this,U)[t]}},{key:"GetRange",value:function(t,e){for(;Y(this,U).length<=t+e;)this.generate();return Y(this,U).slice(t,t+e)}}])&&M(e.prototype,n),r&&M(e,r),t}();function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Z=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.R0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:NaN,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:s.None;q(this,t),this.Type=e,this.Rotation=n,r?this.Position=r:(this.Position=new A(4,21),this.Bottom=21,this.Left=Math.floor(5-this.Width/2)),this.LastActionTick=o,this.ActionCount=i,this.DropTick=u,this.LastAction=c}var e,n,r;return e=t,r=[{key:"Spawn",value:function(e,n){return new t(e,void 0,void 0,n,0,n)}}],(n=[{key:"Clone",value:function(){return new t(this.Type,this.Rotation,this.Position.Clone(),this.LastActionTick,this.ActionCount,this.DropTick,this.LastAction)}},{key:"InternalPoints",get:function(){return F[this.Type].Rotations[this.Rotation]}},{key:"Points",get:function(){var t=this;return F[this.Type].Rotations[this.Rotation].map((function(e){return e.Add(t.Position)}))}},{key:"InternalLeft",get:function(){return this.InternalPoints.map((function(t){return t.X})).min()}},{key:"InternalRight",get:function(){return this.InternalPoints.map((function(t){return t.X})).max()}},{key:"InternalTop",get:function(){return this.InternalPoints.map((function(t){return t.Y})).max()}},{key:"InternalBottom",get:function(){return this.InternalPoints.map((function(t){return t.Y})).min()}},{key:"Left",get:function(){return this.Position.X+this.InternalLeft},set:function(t){this.Position.X=t-this.InternalLeft}},{key:"Right",get:function(){return this.Position.X+this.InternalRight},set:function(t){this.Position.X=t-this.InternalRight}},{key:"Top",get:function(){return this.Position.Y+this.InternalTop},set:function(t){this.Position.Y=t-this.InternalTop}},{key:"Bottom",get:function(){return this.Position.Y+this.InternalBottom},set:function(t){this.Position.Y=t-this.InternalBottom}},{key:"Width",get:function(){return this.InternalRight-this.InternalLeft}},{key:"Height",get:function(){return this.InternalTop-this.InternalBottom}},{key:"Rotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.CW;this.Rotation+=t,this.Rotation>3&&(this.Rotation=0),this.Rotation<0&&(this.Rotation=3)}}])&&J(e.prototype,n),r&&J(e,r),t}();function $(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const tt=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$(this,"listeners",[]),$(this,"listenersOncer",[]),$(this,"on",(function(t){return e.listeners.push(t),{dispose:function(){return e.off(t)}}})),$(this,"once",(function(t){e.listenersOncer.push(t)})),$(this,"off",(function(t){var n=e.listeners.indexOf(t);n>-1&&e.listeners.splice(n,1)})),$(this,"emit",(function(t){if(e.listeners.forEach((function(e){return e(t)})),e.listenersOncer.length>0){var n=e.listenersOncer;e.listenersOncer=[],n.forEach((function(e){return e(t)}))}})),$(this,"pipe",(function(t){return e.on((function(e){return t.emit(e)}))}))};var et;function nt(t){return t===et.Tetris||t===et.TSpin||t===et.TSpinMini}!function(t){t[t.Single=1]="Single",t[t.Double=2]="Double",t[t.Triple=3]="Triple",t[t.Tetris=4]="Tetris",t[t.TSpin=5]="TSpin",t[t.TSpinMini=6]="TSpinMini"}(et||(et={}));const rt=function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.LinesCleared=e,this.Type=n,this.Combo=r,this.BackToBack=o};function ot(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,o,i=[],u=!0,c=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return it(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,lt(t,e,"get"))}function at(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,lt(t,e,"set"),n),n}function lt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var st=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:C.None,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;ft(this,t),this.Grid=new Array(40).fill(null).map((function(){return new Array(10).fill(C.None)})),o&&o.forEach((function(t,n){return t.forEach((function(t,r){return e.Grid[n][r]=t}))})),this.Falling=i?i.Clone():null,this.Hold=u,this.BlockHold=a,this.TicksElapsed=c,this.PieceQueue=n,this.PieceIndex=r,this.Combo=l,this.LastAchievement=f},pt=new WeakMap,ht=new WeakMap;const yt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C.None,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if(ft(this,t),pt.set(this,{writable:!0,value:void 0}),ht.set(this,{writable:!0,value:void 0}),e instanceof st){var l=e;this.Grid=l.Grid,this.Falling=l.Falling,this.Hold=l.Hold,this.BlockHold=l.BlockHold,this.TicksElapsed=l.TicksElapsed,at(this,pt,new V(l.PieceQueue,l.PieceIndex)),this.PieceIndex=l.PieceIndex,this.Combo=l.Combo,this.LastAchievement=l.LastAchievement}else this.Grid=new Array(40).fill(null).map((function(){return new Array(10).fill(C.None)})),this.Falling=r,this.Hold=o,this.BlockHold=u,this.TicksElapsed=i,at(this,pt,new V(e)),this.PieceIndex=n,this.Combo=c,this.LastAchievement=a;at(this,ht,new tt)}var e,n,r;return e=t,(n=[{key:"GetVisibleState",value:function(){return new st(this.PieceQueue,this.PieceIndex,this.Grid,this.Falling,this.Hold,this.TicksElapsed,this.BlockHold,this.Combo)}},{key:"Achievement",get:function(){return ct(this,ht)}},{key:"GridWidth",get:function(){return 10}},{key:"GridHeight",get:function(){return 40}},{key:"PlayfieldHeight",get:function(){return 20}},{key:"PieceQueue",get:function(){return ct(this,pt).GetRange(this.PieceIndex,6)}},{key:"Get",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t instanceof A)e=t.X,n=t.Y;else{if(void 0===r)return null;e=t,n=r}return e<0||n<0||e>=10||n>=40?null:this.Grid[n][e]}},{key:"IsPieceValid",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e?!e.Points.some((function(e){var n;return(null!==(n=t.Get(e))&&void 0!==n?n:C.I)!==C.None})):!this.Falling||!this.Falling.Points.some((function(e){var n;return(null!==(n=t.Get(e))&&void 0!==n?n:C.I)!==C.None}))}},{key:"DequeuePiece",value:function(){return null===this.Falling&&(this.Falling=Z.Spawn(ct(this,pt).Get(this.PieceIndex++),this.TicksElapsed),this.BlockHold=!1,!0)}},{key:"HoldPiece",value:function(){if(null===this.Falling)return!1;if(this.BlockHold)return!1;var t=this.Hold;return this.Hold=this.Falling.Type,t===C.None&&(t=ct(this,pt).Get(this.PieceIndex++)),this.Falling=Z.Spawn(t,this.TicksElapsed),this.BlockHold=!0,this.Falling.LastAction=s.Hold,!0}},{key:"ClearLines",value:function(){for(var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=0,o=0;o<this.GridHeight;o++)this.Grid[o].some((function(t){return t===C.None}))||(this.Grid.splice(o,1),this.Grid.push(new Array(this.GridWidth).fill(C.None)),r++,o--);if(0!==r){this.Combo++;var i=new rt(r,r,this.Combo,nt(null!==(t=this.LastAchievement)&&void 0!==t?t:et.Single));if((null==n?void 0:n.Type)===C.T&&p(n.LastAction)){var u=[[0,0],[2,0],[0,2],[2,2]].reduce((function(t,r){var o=ot(r,2),i=o[0],u=o[1];return e.Get(n.Position.X+i,n.Position.Y+u)!==C.None?t+1:t}),0);if(u>=3){var c=[[1,0],[0,1],[1,2],[2,1]].some((function(t){var r=ot(t,2),o=r[0],i=r[1];return!n.InternalPoints.find((function(t){return t.X===o&&t.Y===i}))&&e.Get(n.Position.X+o,n.Position.Y+i)===C.None}));i.Type=c?et.TSpinMini:et.TSpin}}var a=i.Type;ct(this,ht).emit(i),this.LastAchievement=a}else this.Combo=0}},{key:"LockPiece",value:function(){var t=this;return null!==this.Falling&&!!this.IsPieceValid()&&(this.Falling.Points.forEach((function(e){var n,r;return t.Grid[e.Y][e.X]=null!==(n=null===(r=t.Falling)||void 0===r?void 0:r.Type)&&void 0!==n?n:C.None})),this.ClearLines(this.Falling),this.Falling=null,!0)}},{key:"RotatePiece",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.CW;if(null===this.Falling)return!1;var n=F[this.Falling.Type].WallKick[this.Falling.Rotation][e].find((function(n){var r,o=null===(r=t.Falling)||void 0===r?void 0:r.Clone();return!!o&&(o.Rotate(e),o.Position=o.Position.Add(n),t.IsPieceValid(o))}));return!!n&&(this.Falling.Rotate(e),this.Falling.Position=this.Falling.Position.Add(n),this.Falling.LastActionTick=this.TicksElapsed,this.Falling.ActionCount++,this.Falling.LastAction=e===E.CW?s.RotateCW:s.RotateCCW,!0)}},{key:"ShiftPiece",value:function(t){if(null===this.Falling)return!1;var e=this.Falling.Clone();return e.Position.X+=t,!!this.IsPieceValid(e)&&(this.Falling=e,this.Falling.LastActionTick=this.TicksElapsed,this.Falling.ActionCount++,this.Falling.LastAction=t>0?s.ShiftRight:s.ShiftLeft,!0)}},{key:"CanPieceDrop",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e)t=e.Clone();else{if(!this.Falling)return!1;t=this.Falling.Clone()}return t.Position.Y--,this.IsPieceValid(t)}},{key:"SoftDropPiece",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return null!==this.Falling&&!!this.CanPieceDrop()&&(this.Falling.Position.Y--,this.Falling.LastActionTick=this.TicksElapsed,this.Falling.ActionCount=0,t?this.Falling.DropTick=this.TicksElapsed:this.Falling.LastAction=s.SoftDrop,!0)}},{key:"HardDropPiece",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e)t=e;else{if(!this.Falling)return!1;t=this.Falling}for(;this.IsPieceValid(t);)t.Position.Y--;return t.Position.Y++,t!==this.Falling||this.LockPiece()}},{key:"Tick",value:function(){null===this.Falling?this.DequeuePiece():(this.TicksElapsed-this.Falling.DropTick>=15&&this.SoftDropPiece(!0),this.TicksElapsed-this.Falling.LastActionTick>=60&&!this.CanPieceDrop()&&this.LockPiece()),this.TicksElapsed++}}])&&ut(e.prototype,n),r&&ut(e,r),t}();var wt=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pt(t);if(e){var o=Pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?Ot(t):e}function Ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function St(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Tt(t,e,"get"))}function Rt(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Tt(t,e,"set"),n),n}function Tt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var jt=new WeakMap,Ct=new WeakMap,_t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(i,t);var e,n,r,o=mt(i);function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return bt(this,i),e=o.call(this),jt.set(Ot(e),{writable:!0,value:void 0}),Ct.set(Ot(e),{writable:!0,value:void 0}),Rt(Ot(e),jt,null),e.Player=t,e.State=n instanceof yt?n:new yt(n),Rt(Ot(e),Ct,new tt),e}return e=i,(n=[{key:"Input",get:function(){return St(this,Ct)}},{key:"ClockRunning",get:function(){return null!==St(this,jt)}},{key:"StartClock",value:function(){Rt(this,jt,window.setInterval(this.Tick.bind(this),1e3/60))}},{key:"StopClock",value:function(){null!==St(this,jt)&&window.clearInterval(St(this,jt))}},{key:"Tick",value:function(){this.State.Tick();var t=this.Player.Tick(this.State.GetVisibleState()),e=!1;switch(t){case s.None:break;case s.HardDrop:e=this.State.HardDropPiece();break;case s.Hold:e=this.State.HoldPiece();break;case s.RotateCW:e=this.State.RotatePiece(E.CW);break;case s.RotateCCW:e=this.State.RotatePiece(E.CCW);break;case s.ShiftLeft:e=this.State.ShiftPiece(-1);break;case s.ShiftRight:e=this.State.ShiftPiece(1);break;case s.SoftDrop:e=this.State.SoftDropPiece(!1)}t!==s.None&&St(this,Ct).emit(new h(t,e))}}])&&dt(e.prototype,n),r&&dt(e,r),i}(wt),Et=n(210),At=n.n(Et);function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ft(t,e,n){return(Ft="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gt(t);if(e){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lt(this,n)}}function Lt(t,e){return!e||"object"!==Ht(e)&&"function"!=typeof e?Nt(t):e}function Nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mt(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Xt(t,e,"get"))}function Yt(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Xt(t,e,"set"),n),n}function Xt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qt(t,e){return(Qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qt(t);if(e){var o=qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vt(this,n)}}function Vt(t,e){return!e||"object"!==Kt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jt,Zt,$t,te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qt(t,e)}(n,t);var e=Ut(n);function n(){return zt(this,n),e.apply(this,arguments)}return n}((Jt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"Tick",value:function(t){return s.None}}])&&xt(e.prototype,n),r&&xt(e,r),t}(),Zt=new WeakMap,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(i,t);var e,n,r,o=Bt(i);function i(){var t;Wt(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=o.call.apply(o,[this].concat(n)),Zt.set(Nt(t),{writable:!0,value:void 0}),Yt(Nt(t),Zt,[]),t}return e=i,(n=[{key:"Tick",value:function(t){var e;return"Update"in Jt?Ft(Gt(i.prototype),"Tick",this).call(this,t):null!==(e=Mt(this,Zt).shift())&&void 0!==e?e:s.None}},{key:"Update",value:function(t,e){var n;return e&&null!==(n=Mt(this,Zt).shift())&&void 0!==n?n:s.None}},{key:"Enqueue",value:function(t){Mt(this,Zt).push(t)}}])&&Dt(e.prototype,n),r&&Dt(e,r),i}(Jt)));function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oe(t,e){return(oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ce(t);if(e){var o=ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(t,e){return!e||"object"!==ee(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ye(t);if(e){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ye(t){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function de(t,e){return(de=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ke(t);if(e){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return me(this,n)}}function me(t,e){return!e||"object"!==we(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ke(t){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oe(t,e){switch(e){case C.None:return t.color(50);case C.I:return t.color(77,208,225);case C.J:return t.color(33,150,243);case C.L:return t.color(255,152,0);case C.O:return t.color(253,216,53);case C.S:return t.color(76,175,80);case C.T:return t.color(224,64,251);case C.Z:return t.color(229,115,115)}}function Pe(t,e,n,r,o,i){var u=Oe(t,null!=e?e:C.None);u.setAlpha(i),t.fill(u),r.forEach((function(e){t.rect(n.X+e.X*o,n.Y+e.Y*o,o,o)}))}function Se(t,e,n,r,o,i){t.push(),t.scale(1,-1),t.text(e,n,-r,o,void 0===i?i:-i),t.pop()}function Re(t){switch(t.Input){case s.None:return null;case s.HardDrop:return $t.Lock;case s.RotateCCW:case s.RotateCW:return t.Success?$t.RotateSuccess:$t.RotateFail;case s.ShiftLeft:case s.ShiftRight:return t.Success?$t.ShiftSuccess:$t.ShiftFail;case s.SoftDrop:return $t.SoftDrop;case s.Hold:return $t.Hold}}function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _e(t,e,n){return(_e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=We(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ee(t,e){return(Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=We(t);if(e){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(t,e){return!e||"object"!==Te(e)&&"function"!=typeof e?He(t):e}function He(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function We(t){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function De(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Ie(t,e,"get"))}function Fe(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ie(t,e,"set"),n),n}function Ie(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Be(t){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ge(t,e,n){return(Ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ze(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Me(t,e){return(Me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ze(t);if(e){var o=ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(t,e){return!e||"object"!==Be(e)&&"function"!=typeof e?Ke(t):e}function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ze(t){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qe(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Ve(t,e,"get"))}function Ue(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ve(t,e,"set"),n),n}function Ve(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function qe(t){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t,e,n){return($e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=on(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function tn(t,e){return(tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function en(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=on(t);if(e){var o=on(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nn(this,n)}}function nn(t,e){return!e||"object"!==qe(e)&&"function"!=typeof e?rn(t):e}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function un(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,an(t,e,"get"))}function cn(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,an(t,e,"set"),n),n}function an(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pn(t,e,n){return(pn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function hn(t,e){return(hn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bn(t);if(e){var o=bn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wn(this,n)}}function wn(t,e){return!e||"object"!==ln(e)&&"function"!=typeof e?vn(t):e}function vn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dn(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,mn(t,e,"get"))}function gn(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,mn(t,e,"set"),n),n}function mn(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function kn(t){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function On(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sn(t,e,n){return(Sn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Rn(t,e){return(Rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cn(t);if(e){var o=Cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jn(this,n)}}function jn(t,e){return!e||"object"!==kn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cn(t){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _n(t){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function En(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function An(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xn(t,e){return(xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Dn(t);if(e){var o=Dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn(this,n)}}function Wn(t,e){return!e||"object"!==_n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dn(t){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t){t.Lock="/public/assets/sfx/sfx_lockdown.wav",t.RotateSuccess="/public/assets/sfx/sfx_rotate.wav",t.RotateFail="/public/assets/sfx/sfx_rotatefail.wav",t.ShiftSuccess="/public/assets/sfx/sfx_move.wav",t.ShiftFail="/public/assets/sfx/sfx_movefail.wav",t.SoftDrop="/public/assets/sfx/sfx_softdrop.wav",t.Hold="/public/assets/sfx/sfx_hold.wav"}($t||($t={}));n(778);function Fn(t){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function In(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,o,i=[],u=!0,c=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Bn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ln(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gn(t,e,n){return(Gn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Mn(t,e){return(Mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zn(t);if(e){var o=zn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xn(this,n)}}function Xn(t,e){return!e||"object"!==Fn(e)&&"function"!=typeof e?Kn(t):e}function Kn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zn(t){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qn(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Vn(t,e,"get"))}function Un(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Vn(t,e,"set"),n),n}function Vn(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zn(t,e){return(Zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=er(t);if(e){var o=er(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tr(this,n)}}function tr(t,e){return!e||"object"!==Jn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function er(t){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zn(t,e)}(n,t);var e=$n(n);function n(t,r,o){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(i=r&&o?e.call(this,r,o):e.call(this)).ConfigureGameState(t.State),i.ConfigurePlayer(t.Player),i.ConfigureGame(t),i.ConfigureBlockSize(15),i.ConfigurePlayerSoundPlayable(),i.ConfigurePlayfieldDrawable(new A(120,0),new A(1,1)),i.ConfigureHoldPieceDrawable(new A(10,200),new A(1,1)),i.ConfigurePieceQueueDrawable(new A(400,0),new A(.7,.7)),i.ConfigureFramerateDrawable(new A(0,i.height-10),new A(1,1)),tr(i)}return n}(function(t){var e,n;return e=new WeakMap,n=new WeakMap,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hn(t,e)}(c,t);var r,o,i,u=yn(c);function c(){var t;fn(this,c);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=u.call.apply(u,[this].concat(o)),e.set(vn(t),{writable:!0,value:void 0}),n.set(vn(t),{writable:!0,value:void 0}),gn(vn(t),e,new A(0,0)),gn(vn(t),n,new A(1,1)),t}return r=c,(o=[{key:"ConfigureFramerateDrawable",value:function(t,r){gn(this,e,t),gn(this,n,r)}},{key:"p5Draw",value:function(t){pn(bn(c.prototype),"p5Draw",this).call(this,t),this.SetTransform(t,dn(this,n).X,dn(this,n).Y,dn(this,e).X,dn(this,e).Y),t.noStroke(),t.fill(0),Se(t,"FPS: ".concat(t.frameRate().toFixed(2)),0,0)}}])&&sn(r.prototype,o),i&&sn(r,i),c}(t)}(function(t){var e,n;return e=new WeakMap,n=new WeakMap,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tn(t,e)}(c,t);var r,o,i,u=en(c);function c(){var t;Je(this,c);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=u.call.apply(u,[this].concat(o)),e.set(rn(t),{writable:!0,value:void 0}),n.set(rn(t),{writable:!0,value:void 0}),cn(rn(t),e,new A(0,0)),cn(rn(t),n,new A(1,1)),t}return r=c,(o=[{key:"ConfigurePieceQueueDrawable",value:function(t,r){cn(this,e,t),cn(this,n,r)}},{key:"p5Draw",value:function(t){if($e(on(c.prototype),"p5Draw",this).call(this,t),null!==this.State){this.SetTransform(t,un(this,n).X,un(this,n).Y,un(this,e).X,un(this,e).Y);for(var r=this.State,o=this.BlockSize,i=r.PieceQueue.length,u=0;u<i;u++){var a=I[r.PieceQueue[u]].Rotations[0].slice();Pe(t,r.PieceQueue[u],new A(0,this.height-(u+1)*o*4),a,o,255)}}}}])&&Ze(r.prototype,o),i&&Ze(r,i),c}(t)}(function(t){var e,n;return e=new WeakMap,n=new WeakMap,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Me(t,e)}(c,t);var r,o,i,u=Ye(c);function c(){var t;Le(this,c);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=u.call.apply(u,[this].concat(o)),e.set(Ke(t),{writable:!0,value:void 0}),n.set(Ke(t),{writable:!0,value:void 0}),Ue(Ke(t),e,new A(0,0)),Ue(Ke(t),n,new A(1,1)),t}return r=c,(o=[{key:"ConfigureHoldPieceDrawable",value:function(t,r){Ue(this,e,t),Ue(this,n,r)}},{key:"p5Draw",value:function(t){if(Ge(ze(c.prototype),"p5Draw",this).call(this,t),null!==this.State){this.SetTransform(t,Qe(this,n).X,Qe(this,n).Y,Qe(this,e).X,Qe(this,e).Y);var r=this.State,o=this.BlockSize;if(t.fill(50),t.rect(0,0,5*o,6*o),t.noStroke(),t.fill(255),t.textAlign(t.CENTER),Se(t,"HOLD",2.5*o,5*o),t.textAlign(t.LEFT),t.stroke(0),r.Hold){var i=I[r.Hold].Rotations[0].slice();Pe(t,r.Hold,new A(o/2,o/2),i,o,255)}}}}])&&Ne(r.prototype,o),i&&Ne(r,i),c}(t)}(function(t){var e,n;return e=new WeakMap,n=new WeakMap,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ee(t,e)}(c,t);var r,o,i,u=Ae(c);function c(){var t;je(this,c);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=u.call.apply(u,[this].concat(o)),e.set(He(t),{writable:!0,value:void 0}),n.set(He(t),{writable:!0,value:void 0}),Fe(He(t),e,new A(0,0)),Fe(He(t),n,new A(1,1)),t}return r=c,(o=[{key:"ConfigurePlayfieldDrawable",value:function(t,r){Fe(this,e,t),Fe(this,n,r)}},{key:"p5Draw",value:function(t){if(_e(We(c.prototype),"p5Draw",this).call(this,t),null!==this.State){this.SetTransform(t,De(this,n).X,De(this,n).Y,De(this,e).X,De(this,e).Y);var r=this.State,o=this.BlockSize;if(r){t.stroke(0);for(var i=0;i<=r.GridHeight;i++)t.line(0,i*o,r.GridWidth*o,i*o);for(var u=0;u<=r.GridWidth;u++)t.line(u*o,0,u*o,r.GridHeight*o);for(var a=0;a<r.GridHeight;a++)for(var l=0;l<r.GridWidth;l++){var f;t.fill(Oe(t,null!==(f=r.Get(l,a))&&void 0!==f?f:C.None)),t.rect(l*o,a*o,o,o)}if(r.Falling){var s,p,h=r.Falling.Points;Pe(t,null===(s=r.Falling)||void 0===s?void 0:s.Type,new A(0,0),h,o,255);var y=r.Falling.Clone();r.HardDropPiece(y);var w=y.Points;Pe(t,null===(p=r.Falling)||void 0===p?void 0:p.Type,new A(0,0),w,o,100)}}}}}])&&Ce(r.prototype,o),i&&Ce(r,i),c}(t)}(function(t){var e,n;return e=new WeakMap,n=new WeakMap,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mn(t,e)}(c,t);var r,o,i,u=Yn(c);function c(){var t;Ln(this,c);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=u.call.apply(u,[this].concat(o)),e.set(Kn(t),{writable:!0,value:void 0}),n.set(Kn(t),{writable:!0,value:void 0}),Un(Kn(t),e,[]),Un(Kn(t),n,new Map),t}return r=c,(o=[{key:"ConfigurePlayerSoundPlayable",value:function(){null!==this.Game?this.Game.Input.on(this.enqueueInputResult.bind(this)):console.error("ConfigurePlayerSoundPlayable called before this.Game is assigned. Beware of the call order of Configure_ functions.")}},{key:"enqueueInputResult",value:function(t){Qn(this,e).push(t)}},{key:"p5Setup",value:function(t,e){var r=this;Gn(zn(c.prototype),"p5Setup",this).call(this,t,e),Object.entries($t).forEach((function(e){var o,i=In(e,2)[1];return Qn(r,n).set(i,(o=i,t.loadSound(o)))}))}},{key:"p5Draw",value:function(t){for(Gn(zn(c.prototype),"p5Draw",this).call(this,t);Qn(this,e).length>0;){var r,o=Qn(this,e).shift();if(!o)break;var i=Re(o);i&&(null===(r=Qn(this,n).get(i))||void 0===r||r.play())}}}])&&Nn(r.prototype,o),i&&Nn(r,i),c}(t)}(function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xn(t,e)}(i,t);var e,n,r,o=Hn(i);function i(){var t;En(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).blockSize=15,t}return e=i,(n=[{key:"BlockSize",get:function(){return this.blockSize}},{key:"ConfigureBlockSize",value:function(t){this.blockSize=t}}])&&An(e.prototype,n),r&&An(e,r),i}(t)}(function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rn(t,e)}(i,t);var e,n,r,o=Tn(i);function i(){var t;On(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).keyHold=s.None,t.keyDelay=0,t}return e=i,(n=[{key:"p5Draw",value:function(t){Sn(Cn(i.prototype),"p5Draw",this).call(this,t),this.keyHold!==s.None&&this.Player instanceof te&&(this.keyDelay<=0&&(this.Player.Enqueue(this.keyHold),this.keyDelay=10),this.keyDelay--)}},{key:"p5KeyPressed",value:function(t){this.Player instanceof te&&(t.keyCode===t.LEFT_ARROW&&(this.keyHold=s.ShiftLeft),t.keyCode===t.RIGHT_ARROW&&(this.keyHold=s.ShiftRight),t.keyCode===t.UP_ARROW&&(this.keyHold=s.RotateCW),t.keyCode===t.CONTROL&&(this.keyHold=s.RotateCCW),t.keyCode===t.DOWN_ARROW&&(this.keyHold=s.SoftDrop),t.keyCode===t.SHIFT&&(this.keyHold=s.Hold)," "===t.key&&(this.keyHold=s.HardDrop),this.Player.Enqueue(this.keyHold),this.keyDelay=10)}},{key:"p5KeyReleased",value:function(t){if(this.Player instanceof te){var e=s.None;t.keyCode===t.LEFT_ARROW&&(e=s.ShiftLeft),t.keyCode===t.RIGHT_ARROW&&(e=s.ShiftRight),t.keyCode===t.UP_ARROW&&(e=s.RotateCW),t.keyCode===t.CONTROL&&(e=s.RotateCCW),t.keyCode===t.DOWN_ARROW&&(e=s.SoftDrop),t.keyCode===t.SHIFT&&(e=s.Hold)," "===t.key&&(e=s.HardDrop),this.keyHold===e&&(this.keyHold=s.None)}}},{key:"KeyPressedHandler",get:function(){return this.p5KeyPressed.bind(this)}},{key:"KeyReleasedHandler",get:function(){return this.p5KeyReleased.bind(this)}}])&&Pn(e.prototype,n),r&&Pn(e,r),i}(t)}(function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&de(t,e)}(i,t);var e,n,r,o=ge(i);function i(){var t;ve(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).Game=null,t}return e=i,(n=[{key:"ConfigureGame",value:function(t){this.Game=t}}])&&be(e.prototype,n),r&&be(e,r),i}(t)}(function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(i,t);var e,n,r,o=pe(i);function i(){var t;le(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).Player=null,t}return e=i,(n=[{key:"ConfigurePlayer",value:function(t){this.Player=t}}])&&fe(e.prototype,n),r&&fe(e,r),i}(t)}(function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oe(t,e)}(i,t);var e,n,r,o=ie(i);function i(){var t;ne(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).State=null,t}return e=i,(n=[{key:"ConfigureGameState",value:function(t){this.State=t}}])&&re(e.prototype,n),r&&re(e,r),i}(t)}(function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&n?(this.width=e,this.height=n):(this.width=500,this.height=301.5)}var e,n,r;return e=t,(n=[{key:"SetTransform",value:function(t,e,n,r,o){t.resetMatrix(),t.scale(e,-n),t.translate(r,-this.height+o)}},{key:"ResetTransform",value:function(t){this.SetTransform(t,1,1,0,0)}},{key:"p5Setup",value:function(t,e){t.createCanvas(this.width,this.height).parent(e),this.ResetTransform(t)}},{key:"p5Draw",value:function(t){t.background(100)}},{key:"DrawHandler",get:function(){return this.p5Draw.bind(this)}},{key:"SetupHandler",get:function(){return this.p5Setup.bind(this)}}])&&qn(e.prototype,n),r&&qn(e,r),t}()))))))))))),rr=new _t(new te),or=new nr(rr);console.log(or),rr.StartClock();const ir=function(t){return r.createElement(At(),{setup:or.SetupHandler,draw:or.DrawHandler,keyPressed:or.KeyPressedHandler,keyReleased:or.KeyReleasedHandler})};const ur=function(){return r.createElement(i.UT,null,r.createElement(u.rs,null,r.createElement(u.AW,{exact:!0,path:"/",component:l}),r.createElement(u.AW,{exact:!0,path:"/test",component:ir}),r.createElement(u.AW,{component:c})))};o.render(r.createElement(ur,null),document.getElementById("app"))}},t=>{"use strict";var e;e=497,t(t.s=e)}]);